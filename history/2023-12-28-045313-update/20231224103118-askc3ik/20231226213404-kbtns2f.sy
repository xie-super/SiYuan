{"ID":"20231226213404-kbtns2f","Spec":"1","Type":"NodeDocument","Properties":{"id":"20231226213404-kbtns2f","title":"Factory pattern","updated":"20231228021710"},"Children":[{"ID":"20231226213413-lps98wt","Type":"NodeHeading","HeadingLevel":1,"Properties":{"id":"20231226213413-lps98wt","updated":"20231226213431"},"Children":[{"Type":"NodeText","Data":"案例：披萨店"}]},{"ID":"20231226213442-9h7msk1","Type":"NodeParagraph","Properties":{"id":"20231226213442-9h7msk1","updated":"20231228001715"},"Children":[{"Type":"NodeText","Data":"假设你有一家 pizza 店，你有很多种 pizza，要在系统中显示你所有pizza种类。\n实现这个功能并不难，"}]},{"ID":"20231228001717-sqdqciv","Type":"NodeHeading","HeadingLevel":2,"Properties":{"id":"20231228001717-sqdqciv","updated":"20231228001738"},"Children":[{"Type":"NodeText","Data":"原先设计"}]},{"ID":"20231228001738-igqbodi","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"Properties":{"id":"20231228001738-igqbodi","updated":"20231228001850"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```"},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"amF2YQ=="},{"Type":"NodeCodeBlockCode","Data":"public class PizzaStore {\n    Pizza orderPizza(String type) {\n        Pizza pizza = null;\n        if (type.equals(\"cheese\")) {\n            pizza = new CheesePizza();\n        } else if (type.equals(\"clam\")) {\n            pizza = new ClamPizza();\n        } else if (type.equals(\"veggie\")) {\n            pizza = new VeggiePizza();\n        }\n        pizza.prepare();\n        pizza.bake();\n        pizza.cut();\n        pizza.box();\n        return pizza;\n    }\n}\n\n"},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```"}]},{"ID":"20231226213512-sk799dj","Type":"NodeHeading","HeadingLevel":3,"Properties":{"id":"20231226213512-sk799dj","updated":"20231228002004"},"Children":[{"Type":"NodeText","Data":"问题"}]},{"ID":"20231228002007-q3gn1o4","Type":"NodeParagraph","Properties":{"id":"20231228002007-q3gn1o4","updated":"20231228021405"},"Children":[{"Type":"NodeText","Data":"新上架或者下架一种 Pizza都需要修改代码，没有"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"对修改关闭"},{"Type":"NodeText","Data":"​"}]},{"ID":"20231228021400-rv3cvua","Type":"NodeHeading","HeadingLevel":2,"Properties":{"id":"20231228021400-rv3cvua","updated":"20231228021430"},"Children":[{"Type":"NodeText","Data":"简单工厂"}]},{"ID":"20231228021431-733pu09","Type":"NodeParagraph","Properties":{"id":"20231228021431-733pu09","updated":"20231228021529"},"Children":[{"Type":"NodeTextMark","Properties":{"style":"text-shadow: 1px 1px var(--b3-theme-surface-lighter), 2px 2px var(--b3-theme-surface-lighter), 3px 3px var(--b3-theme-surface-lighter), 4px 4px var(--b3-theme-surface-lighter); color: var(--b3-font-color4);"},"TextMarkType":"text","TextMarkTextContent":"注：实际上简单工厂不是一个设计模式，更多程度上比较像一种编程习惯。"},{"Type":"NodeKramdownSpanIAL","Data":"{: style=\"text-shadow: 1px 1px var(--b3-theme-surface-lighter), 2px 2px var(--b3-theme-surface-lighter), 3px 3px var(--b3-theme-surface-lighter), 4px 4px var(--b3-theme-surface-lighter); color: var(--b3-font-color4);\"}"}]},{"ID":"20231228021502-xgc5i2d","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"Properties":{"id":"20231228021502-xgc5i2d","updated":"20231228021618"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```"},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"amF2YQ=="},{"Type":"NodeCodeBlockCode","Data":"public class SimpleFactory {\n\n    public Pizza createPizza(String type) {\n\n        Pizza pizza = null;\n\n        if (type.equals(\"cheese\")) {\n\n            pizza = new CheesePizza();\n\n        } else if (type.equals(\"clam\")) {\n\n            pizza = new ClamPizza();\n\n        } else if (type.equals(\"veggie\")) {\n\n            pizza = new VeggiePizza();\n\n        }\n\n        return pizza;\n\n    }\n\n}\n"},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```"}]},{"ID":"20231228021635-6blkx0l","Type":"NodeHeading","HeadingLevel":2,"Properties":{"id":"20231228021635-6blkx0l","updated":"20231228021710"},"Children":[{"Type":"NodeText","Data":"优化：工厂方法模式"}]},{"ID":"20231226213533-duh86bg","Type":"NodeParagraph","Properties":{"id":"20231226213533-duh86bg","updated":"20231226213558"},"Children":[{"Type":"NodeText","Data":"抽象出工厂"}]},{"ID":"20231226213558-vqw536r","Type":"NodeParagraph","Properties":{"id":"20231226213558-vqw536r","updated":"20231226213603"},"Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeImage","Data":"span","Properties":{"parent-style":"width: 50%;","style":"width: 10000px;"},"Children":[{"Type":"NodeBang"},{"Type":"NodeOpenBracket"},{"Type":"NodeLinkText","Data":"image"},{"Type":"NodeCloseBracket"},{"Type":"NodeOpenParen"},{"Type":"NodeLinkDest","Data":"assets/image-20231226213558-999q3y3.png"},{"Type":"NodeCloseParen"}]},{"Type":"NodeKramdownSpanIAL","Data":"{: style=\"width: 10000px;\" parent-style=\"width: 50%;\"}"},{"Type":"NodeText","Data":"​"}]},{"ID":"20231226213617-p6ckk5b","Type":"NodeParagraph","Properties":{"id":"20231226213617-p6ckk5b","updated":"20231226213622"},"Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeImage","Data":"span","Properties":{"parent-style":"width: 50%;","style":"width: 10000px;"},"Children":[{"Type":"NodeBang"},{"Type":"NodeOpenBracket"},{"Type":"NodeLinkText","Data":"image"},{"Type":"NodeCloseBracket"},{"Type":"NodeOpenParen"},{"Type":"NodeLinkDest","Data":"assets/image-20231226213617-db9yzb5.png"},{"Type":"NodeCloseParen"}]},{"Type":"NodeKramdownSpanIAL","Data":"{: style=\"width: 10000px;\" parent-style=\"width: 50%;\"}"},{"Type":"NodeText","Data":"​"}]},{"ID":"20231226213710-nkor3p4","Type":"NodeHeading","HeadingLevel":3,"Properties":{"id":"20231226213710-nkor3p4","updated":"20231226214715"},"Children":[{"Type":"NodeText","Data":"对应的 UML 类图"}]},{"ID":"20231226214716-kswy46o","Type":"NodeParagraph","Properties":{"id":"20231226214716-kswy46o","updated":"20231226214812"},"Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeImage","Data":"span","Properties":{"parent-style":"width: 50%;","style":"width: 10000px;"},"Children":[{"Type":"NodeBang"},{"Type":"NodeOpenBracket"},{"Type":"NodeLinkText","Data":"image"},{"Type":"NodeCloseBracket"},{"Type":"NodeOpenParen"},{"Type":"NodeLinkDest","Data":"assets/image-20231226214716-tcig85l.png"},{"Type":"NodeCloseParen"}]},{"Type":"NodeKramdownSpanIAL","Data":"{: style=\"width: 10000px;\" parent-style=\"width: 50%;\"}"},{"Type":"NodeText","Data":"​"}]},{"ID":"20231226213710-9gj2cbt","Type":"NodeHeading","HeadingLevel":3,"Properties":{"id":"20231226213710-9gj2cbt","updated":"20231227135647"},"Children":[{"Type":"NodeText","Data":"小结"}]},{"ID":"20231226214609-u4owp62","Type":"NodeList","ListData":{"Typ":1},"Properties":{"id":"20231226214609-u4owp62","updated":"20231226214615"},"Children":[{"ID":"20231226214609-238r4m3","Type":"NodeListItem","ListData":{"Typ":1,"Delimiter":46,"Marker":"MS4=","Num":1},"Properties":{"id":"20231226214609-238r4m3","updated":"20231226214609"},"Children":[{"ID":"20231226214609-wxovyuq","Type":"NodeParagraph","Properties":{"id":"20231226214609-wxovyuq","updated":"20231226214609"},"Children":[{"Type":"NodeText","Data":"将对象创建的细节委托给工厂有助于封装变化。虽然可能看起来只是将问题转移到另一个对象，但这个对象（比如 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"SimplePizzaFactory"},{"Type":"NodeText","Data":"​）可能有多个客户端，而不仅仅是单一的 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"orderPizza()"},{"Type":"NodeText","Data":"​ 方法。"}]}]},{"ID":"20231226214609-47xmx52","Type":"NodeListItem","ListData":{"Typ":1,"Delimiter":46,"Marker":"Mi4=","Num":2},"Properties":{"id":"20231226214609-47xmx52","updated":"20231226214615"},"Children":[{"ID":"20231226214609-rbu03k3","Type":"NodeParagraph","Properties":{"id":"20231226214609-rbu03k3","updated":"20231226214615"},"Children":[{"Type":"NodeText","Data":"通过将创建过程封装在一个工厂类中，当实现发生变化时，只需在一个地方进行修改。这提高了代码的灵活性和可维护性。"}]}]}]},{"ID":"20231226213624-t3lp3ow","Type":"NodeParagraph","Properties":{"id":"20231226213624-t3lp3ow"}}]}
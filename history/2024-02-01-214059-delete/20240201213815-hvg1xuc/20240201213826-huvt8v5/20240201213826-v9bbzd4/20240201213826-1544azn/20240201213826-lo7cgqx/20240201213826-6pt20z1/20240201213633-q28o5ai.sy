{"ID":"20240201213633-q28o5ai","Spec":"1","Type":"NodeDocument","Properties":{"id":"20240201213633-q28o5ai","title":"zookeeper-in-action","updated":"20240201213633"},"Children":[{"ID":"20240201213634-s4ad49q","Type":"NodeThematicBreak","Properties":{"id":"20240201213634-s4ad49q","updated":"20240201213634"}},{"ID":"20240201213635-lyfeuy1","Type":"NodeParagraph","Properties":{"id":"20240201213635-lyfeuy1","updated":"20240201213635"},"Children":[{"Type":"NodeText","Data":"title: ZooKeeper 实战"},{"Type":"NodeSoftBreak","Data":"\n","Properties":{"id":""}},{"Type":"NodeText","Data":"category: 分布式"},{"Type":"NodeSoftBreak","Data":"\n","Properties":{"id":""}},{"Type":"NodeText","Data":"tag:"}]},{"ID":"20240201213636-5e9vgpp","Type":"NodeList","ListData":{"Tight":true,"BulletChar":45,"Padding":2,"MarkerOffset":2,"Marker":"LQ==","Num":-1},"Properties":{"id":"20240201213636-5e9vgpp","updated":"20240201213636"},"Children":[{"ID":"20240201213637-dowfbn4","Type":"NodeListItem","Data":"-","ListData":{"Tight":true,"BulletChar":45,"Padding":2,"MarkerOffset":2,"Marker":"LQ==","Num":-1},"Properties":{"id":"20240201213637-dowfbn4","updated":"20240201213637"},"Children":[{"ID":"20240201213638-vxl480p","Type":"NodeParagraph","Properties":{"id":"20240201213638-vxl480p","updated":"20240201213638"},"Children":[{"Type":"NodeText","Data":"ZooKeeper"}]}]}]},{"ID":"20240201213639-c8h4scm","Type":"NodeThematicBreak","Properties":{"id":"20240201213639-c8h4scm","updated":"20240201213639"}},{"ID":"20240201213640-0umlxq8","Type":"NodeParagraph","Properties":{"id":"20240201213640-0umlxq8","updated":"20240201213640"},"Children":[{"Type":"NodeText","Data":"这篇文章简单给演示一下 ZooKeeper 常见命令的使用以及 ZooKeeper Java 客户端 Curator 的基本使用。介绍到的内容都是最基本的操作，能满足日常工作的基本需要。"}]},{"ID":"20240201213641-4mw739h","Type":"NodeParagraph","Properties":{"id":"20240201213641-4mw739h","updated":"20240201213641"},"Children":[{"Type":"NodeText","Data":"如果文章有任何需要改善和完善的地方，欢迎在评论区指出，共同进步！"}]},{"ID":"20240201213642-nocg8k3","Type":"NodeHeading","HeadingLevel":2,"Properties":{"id":"20240201213642-nocg8k3","updated":"20240201213642"},"Children":[{"Type":"NodeHeadingC8hMarker","Data":"## ","Properties":{"id":""}},{"Type":"NodeText","Data":"ZooKeeper 安装"}]},{"ID":"20240201213643-iat1lyl","Type":"NodeHeading","HeadingLevel":3,"Properties":{"id":"20240201213643-iat1lyl","updated":"20240201213643"},"Children":[{"Type":"NodeHeadingC8hMarker","Data":"### ","Properties":{"id":""}},{"Type":"NodeText","Data":"使用 Docker 安装 zookeeper"}]},{"ID":"20240201213644-yq16l6k","Type":"NodeParagraph","Properties":{"id":"20240201213644-yq16l6k","updated":"20240201213644"},"Children":[{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"strong","TextMarkTextContent":"a.使用 Docker 下载 ZooKeeper"}]},{"ID":"20240201213645-4tnjt98","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"CodeBlockFenceChar":96,"CodeBlockFenceLen":3,"CodeBlockOpenFence":"YGBg","CodeBlockInfo":"c2hlbGw=","CodeBlockCloseFence":"YGBg","Properties":{"id":"20240201213645-4tnjt98","updated":"20240201213645"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"c2hlbGw=","Properties":{"id":""}},{"Type":"NodeCodeBlockCode","Data":"docker pull zookeeper:3.5.8\n","Properties":{"id":""}},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}}]},{"ID":"20240201213646-2zffpww","Type":"NodeParagraph","Properties":{"id":"20240201213646-2zffpww","updated":"20240201213646"},"Children":[{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"strong","TextMarkTextContent":"b.运行 ZooKeeper"}]},{"ID":"20240201213647-6u0e3pb","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"CodeBlockFenceChar":96,"CodeBlockFenceLen":3,"CodeBlockOpenFence":"YGBg","CodeBlockInfo":"c2hlbGw=","CodeBlockCloseFence":"YGBg","Properties":{"id":"20240201213647-6u0e3pb","updated":"20240201213647"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"c2hlbGw=","Properties":{"id":""}},{"Type":"NodeCodeBlockCode","Data":"docker run -d --name zookeeper -p 2181:2181 zookeeper:3.5.8\n","Properties":{"id":""}},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}}]},{"ID":"20240201213648-l9lhrxz","Type":"NodeHeading","HeadingLevel":3,"Properties":{"id":"20240201213648-l9lhrxz","updated":"20240201213648"},"Children":[{"Type":"NodeHeadingC8hMarker","Data":"### ","Properties":{"id":""}},{"Type":"NodeText","Data":"连接 ZooKeeper 服务"}]},{"ID":"20240201213649-y8bnwo5","Type":"NodeParagraph","Properties":{"id":"20240201213649-y8bnwo5","updated":"20240201213649"},"Children":[{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"strong","TextMarkTextContent":"a.进入 ZooKeeper 容器中"}]},{"ID":"20240201213650-cvb8k2g","Type":"NodeParagraph","Properties":{"id":"20240201213650-cvb8k2g","updated":"20240201213650"},"Children":[{"Type":"NodeText","Data":"先使用 "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"docker ps"},{"Type":"NodeText","Data":" 查看 ZooKeeper 的 ContainerID，然后使用 "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"docker exec -it ContainerID /bin/bash"},{"Type":"NodeText","Data":" 命令进入容器中。"}]},{"ID":"20240201213651-m58tmi8","Type":"NodeParagraph","Properties":{"id":"20240201213651-m58tmi8","updated":"20240201213651"},"Children":[{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"strong","TextMarkTextContent":"b.先进入 bin 目录,然后通过 "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"strong code","TextMarkTextContent":"./zkCli.sh -server 127.0.0.1:2181"},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"strong","TextMarkTextContent":"命令连接 ZooKeeper 服务"}]},{"ID":"20240201213652-ta7q2k6","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"CodeBlockFenceChar":96,"CodeBlockFenceLen":3,"CodeBlockOpenFence":"YGBg","CodeBlockInfo":"YmFzaA==","CodeBlockCloseFence":"YGBg","Properties":{"id":"20240201213652-ta7q2k6","updated":"20240201213652"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"YmFzaA==","Properties":{"id":""}},{"Type":"NodeCodeBlockCode","Data":"root@eaf70fc620cb:/apache-zookeeper-3.5.8-bin# cd bin\n","Properties":{"id":""}},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}}]},{"ID":"20240201213653-gav6xxb","Type":"NodeParagraph","Properties":{"id":"20240201213653-gav6xxb","updated":"20240201213653"},"Children":[{"Type":"NodeText","Data":"如果你看到控制台成功打印出如下信息的话，说明你已经成功连接 ZooKeeper 服务。"}]},{"ID":"20240201213654-7n8xnhz","Type":"NodeParagraph","Properties":{"id":"20240201213654-7n8xnhz","updated":"20240201213654"},"Children":[{"Type":"NodeImage","Properties":{"id":""},"Children":[{"Type":"NodeBang","Data":"!","Properties":{"id":""}},{"Type":"NodeOpenBracket","Data":"[","Properties":{"id":""}},{"Type":"NodeLinkText","Data":"连接 ZooKeeper 服务","Properties":{"id":""}},{"Type":"NodeCloseBracket","Data":"]","Properties":{"id":""}},{"Type":"NodeOpenParen","Data":"(","Properties":{"id":""}},{"Type":"NodeLinkDest","Data":"https://oss.javaguide.cn/github/javaguide/distributed-system/zookeeper/connect-zooKeeper-service.png","Properties":{"id":""}},{"Type":"NodeCloseParen","Data":")","Properties":{"id":""}}]}]},{"ID":"20240201213655-nbbfoga","Type":"NodeHeading","HeadingLevel":2,"Properties":{"id":"20240201213655-nbbfoga","updated":"20240201213655"},"Children":[{"Type":"NodeHeadingC8hMarker","Data":"## ","Properties":{"id":""}},{"Type":"NodeText","Data":"ZooKeeper 常用命令演示"}]},{"ID":"20240201213656-amnfc68","Type":"NodeHeading","HeadingLevel":3,"Properties":{"id":"20240201213656-amnfc68","updated":"20240201213656"},"Children":[{"Type":"NodeHeadingC8hMarker","Data":"### ","Properties":{"id":""}},{"Type":"NodeText","Data":"查看常用命令(help 命令)"}]},{"ID":"20240201213657-ruxjfm2","Type":"NodeParagraph","Properties":{"id":"20240201213657-ruxjfm2","updated":"20240201213657"},"Children":[{"Type":"NodeText","Data":"通过 "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"help"},{"Type":"NodeText","Data":" 命令查看 ZooKeeper 常用命令"}]},{"ID":"20240201213658-3dyc92l","Type":"NodeHeading","HeadingLevel":3,"Properties":{"id":"20240201213658-3dyc92l","updated":"20240201213658"},"Children":[{"Type":"NodeHeadingC8hMarker","Data":"### ","Properties":{"id":""}},{"Type":"NodeText","Data":"创建节点(create 命令)"}]},{"ID":"20240201213659-pusv0zk","Type":"NodeParagraph","Properties":{"id":"20240201213659-pusv0zk","updated":"20240201213659"},"Children":[{"Type":"NodeText","Data":"通过 "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"create"},{"Type":"NodeText","Data":" 命令在根目录创建了 node1 节点，与它关联的字符串是\"node1\""}]},{"ID":"20240201213660-l4fkg4i","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"CodeBlockFenceChar":96,"CodeBlockFenceLen":3,"CodeBlockOpenFence":"YGBg","CodeBlockInfo":"c2hlbGw=","CodeBlockCloseFence":"YGBg","Properties":{"id":"20240201213660-l4fkg4i","updated":"20240201213660"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"c2hlbGw=","Properties":{"id":""}},{"Type":"NodeCodeBlockCode","Data":"[zk: 127.0.0.1:2181(CONNECTED) 34] create /node1 “node1”\n","Properties":{"id":""}},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}}]},{"ID":"20240201213661-cq9pt8g","Type":"NodeParagraph","Properties":{"id":"20240201213661-cq9pt8g","updated":"20240201213661"},"Children":[{"Type":"NodeText","Data":"通过 "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"create"},{"Type":"NodeText","Data":" 命令在根目录创建了 node1 节点，与它关联的内容是数字 123"}]},{"ID":"20240201213662-zbecq4m","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"CodeBlockFenceChar":96,"CodeBlockFenceLen":3,"CodeBlockOpenFence":"YGBg","CodeBlockInfo":"c2hlbGw=","CodeBlockCloseFence":"YGBg","Properties":{"id":"20240201213662-zbecq4m","updated":"20240201213662"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"c2hlbGw=","Properties":{"id":""}},{"Type":"NodeCodeBlockCode","Data":"[zk: 127.0.0.1:2181(CONNECTED) 1] create /node1/node1.1 123\nCreated /node1/node1.1\n","Properties":{"id":""}},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}}]},{"ID":"20240201213663-4ids8ce","Type":"NodeHeading","HeadingLevel":3,"Properties":{"id":"20240201213663-4ids8ce","updated":"20240201213663"},"Children":[{"Type":"NodeHeadingC8hMarker","Data":"### ","Properties":{"id":""}},{"Type":"NodeText","Data":"更新节点数据内容(set 命令)"}]},{"ID":"20240201213664-nnwtiwq","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"CodeBlockFenceChar":96,"CodeBlockFenceLen":3,"CodeBlockOpenFence":"YGBg","CodeBlockInfo":"c2hlbGw=","CodeBlockCloseFence":"YGBg","Properties":{"id":"20240201213664-nnwtiwq","updated":"20240201213664"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"c2hlbGw=","Properties":{"id":""}},{"Type":"NodeCodeBlockCode","Data":"[zk: 127.0.0.1:2181(CONNECTED) 11] set /node1 \"set node1\"\n","Properties":{"id":""}},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}}]},{"ID":"20240201213665-0d218vl","Type":"NodeHeading","HeadingLevel":3,"Properties":{"id":"20240201213665-0d218vl","updated":"20240201213665"},"Children":[{"Type":"NodeHeadingC8hMarker","Data":"### ","Properties":{"id":""}},{"Type":"NodeText","Data":"获取节点的数据(get 命令)"}]},{"ID":"20240201213666-nv35su7","Type":"NodeParagraph","Properties":{"id":"20240201213666-nv35su7","updated":"20240201213666"},"Children":[{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"get"},{"Type":"NodeText","Data":" 命令可以获取指定节点的数据内容和节点的状态,可以看出我们通过 "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"set"},{"Type":"NodeText","Data":" 命令已经将节点数据内容改为 \"set node1\"。"}]},{"ID":"20240201213667-q2ht42z","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"CodeBlockFenceChar":96,"CodeBlockFenceLen":3,"CodeBlockOpenFence":"YGBg","CodeBlockInfo":"c2hlbGw=","CodeBlockCloseFence":"YGBg","Properties":{"id":"20240201213667-q2ht42z","updated":"20240201213667"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"c2hlbGw=","Properties":{"id":""}},{"Type":"NodeCodeBlockCode","Data":"[zk: zookeeper(CONNECTED) 12] get -s /node1\nset node1\ncZxid = 0x47\nctime = Sun Jan 20 10:22:59 CST 2019\nmZxid = 0x4b\nmtime = Sun Jan 20 10:41:10 CST 2019\npZxid = 0x4a\ncversion = 1\ndataVersion = 1\naclVersion = 0\nephemeralOwner = 0x0\ndataLength = 9\nnumChildren = 1\n\n","Properties":{"id":""}},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}}]},{"ID":"20240201213668-zv5insw","Type":"NodeHeading","HeadingLevel":3,"Properties":{"id":"20240201213668-zv5insw","updated":"20240201213668"},"Children":[{"Type":"NodeHeadingC8hMarker","Data":"### ","Properties":{"id":""}},{"Type":"NodeText","Data":"查看某个目录下的子节点(ls 命令)"}]},{"ID":"20240201213669-g6uzx9l","Type":"NodeParagraph","Properties":{"id":"20240201213669-g6uzx9l","updated":"20240201213669"},"Children":[{"Type":"NodeText","Data":"通过 "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"ls"},{"Type":"NodeText","Data":" 命令查看根目录下的节点"}]},{"ID":"20240201213670-awx9pp4","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"CodeBlockFenceChar":96,"CodeBlockFenceLen":3,"CodeBlockOpenFence":"YGBg","CodeBlockInfo":"c2hlbGw=","CodeBlockCloseFence":"YGBg","Properties":{"id":"20240201213670-awx9pp4","updated":"20240201213670"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"c2hlbGw=","Properties":{"id":""}},{"Type":"NodeCodeBlockCode","Data":"[zk: 127.0.0.1:2181(CONNECTED) 37] ls /\n[dubbo, ZooKeeper, node1]\n","Properties":{"id":""}},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}}]},{"ID":"20240201213671-mrcu1u7","Type":"NodeParagraph","Properties":{"id":"20240201213671-mrcu1u7","updated":"20240201213671"},"Children":[{"Type":"NodeText","Data":"通过 "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"ls"},{"Type":"NodeText","Data":" 命令查看 node1 目录下的节点"}]},{"ID":"20240201213672-pf6v5ko","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"CodeBlockFenceChar":96,"CodeBlockFenceLen":3,"CodeBlockOpenFence":"YGBg","CodeBlockInfo":"c2hlbGw=","CodeBlockCloseFence":"YGBg","Properties":{"id":"20240201213672-pf6v5ko","updated":"20240201213672"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"c2hlbGw=","Properties":{"id":""}},{"Type":"NodeCodeBlockCode","Data":"[zk: 127.0.0.1:2181(CONNECTED) 5] ls /node1\n[node1.1]\n","Properties":{"id":""}},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}}]},{"ID":"20240201213673-uqzz93r","Type":"NodeParagraph","Properties":{"id":"20240201213673-uqzz93r","updated":"20240201213673"},"Children":[{"Type":"NodeText","Data":"ZooKeeper 中的 ls 命令和 linux 命令中的 ls 类似， 这个命令将列出绝对路径 path 下的所有子节点信息（列出 1 级，并不递归）"}]},{"ID":"20240201213674-7fj2zr1","Type":"NodeHeading","HeadingLevel":3,"Properties":{"id":"20240201213674-7fj2zr1","updated":"20240201213674"},"Children":[{"Type":"NodeHeadingC8hMarker","Data":"### ","Properties":{"id":""}},{"Type":"NodeText","Data":"查看节点状态(stat 命令)"}]},{"ID":"20240201213675-4ak2him","Type":"NodeParagraph","Properties":{"id":"20240201213675-4ak2him","updated":"20240201213675"},"Children":[{"Type":"NodeText","Data":"通过 "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"stat"},{"Type":"NodeText","Data":" 命令查看节点状态"}]},{"ID":"20240201213676-3k1u767","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"CodeBlockFenceChar":96,"CodeBlockFenceLen":3,"CodeBlockOpenFence":"YGBg","CodeBlockInfo":"c2hlbGw=","CodeBlockCloseFence":"YGBg","Properties":{"id":"20240201213676-3k1u767","updated":"20240201213676"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"c2hlbGw=","Properties":{"id":""}},{"Type":"NodeCodeBlockCode","Data":"[zk: 127.0.0.1:2181(CONNECTED) 10] stat /node1\ncZxid = 0x47\nctime = Sun Jan 20 10:22:59 CST 2019\nmZxid = 0x47\nmtime = Sun Jan 20 10:22:59 CST 2019\npZxid = 0x4a\ncversion = 1\ndataVersion = 0\naclVersion = 0\nephemeralOwner = 0x0\ndataLength = 11\nnumChildren = 1\n","Properties":{"id":""}},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}}]},{"ID":"20240201213677-cxbapg5","Type":"NodeParagraph","Properties":{"id":"20240201213677-cxbapg5","updated":"20240201213677"},"Children":[{"Type":"NodeText","Data":"上面显示的一些信息比如 cversion、aclVersion、numChildren 等等，我在上面 “"},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"a","TextMarkAHref":"https://javaguide.cn/distributed-system/distributed-process-coordination/zookeeper/zookeeper-intro.html","TextMarkTextContent":"ZooKeeper 相关概念总结(入门)"},{"Type":"NodeText","Data":"” 这篇文章中已经介绍到。"}]},{"ID":"20240201213678-jqw1p9k","Type":"NodeHeading","HeadingLevel":3,"Properties":{"id":"20240201213678-jqw1p9k","updated":"20240201213678"},"Children":[{"Type":"NodeHeadingC8hMarker","Data":"### ","Properties":{"id":""}},{"Type":"NodeText","Data":"查看节点信息和状态(ls2 命令)"}]},{"ID":"20240201213679-5oa5ckl","Type":"NodeParagraph","Properties":{"id":"20240201213679-5oa5ckl","updated":"20240201213679"},"Children":[{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"ls2"},{"Type":"NodeText","Data":" 命令更像是 "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"ls"},{"Type":"NodeText","Data":" 命令和 "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"stat"},{"Type":"NodeText","Data":" 命令的结合。 "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"ls2"},{"Type":"NodeText","Data":" 命令返回的信息包括 2 部分："}]},{"ID":"20240201213680-q8nd3gl","Type":"NodeList","ListData":{"Typ":1,"Tight":true,"Start":1,"Delimiter":46,"Padding":3,"Marker":"MQ==","Num":1},"Properties":{"id":"20240201213680-q8nd3gl","updated":"20240201213680"},"Children":[{"ID":"20240201213681-6cvwr1v","Type":"NodeListItem","Data":"1","ListData":{"Typ":1,"Tight":true,"Start":1,"Delimiter":46,"Padding":3,"Marker":"MQ==","Num":1},"Properties":{"id":"20240201213681-6cvwr1v","updated":"20240201213681"},"Children":[{"ID":"20240201213682-745mphf","Type":"NodeParagraph","Properties":{"id":"20240201213682-745mphf","updated":"20240201213682"},"Children":[{"Type":"NodeText","Data":"子节点列表"}]}]},{"ID":"20240201213683-ix9hog3","Type":"NodeListItem","Data":"2","ListData":{"Typ":1,"Tight":true,"Start":2,"Delimiter":46,"Padding":3,"Marker":"Mg==","Num":2},"Properties":{"id":"20240201213683-ix9hog3","updated":"20240201213683"},"Children":[{"ID":"20240201213684-gee5uw2","Type":"NodeParagraph","Properties":{"id":"20240201213684-gee5uw2","updated":"20240201213684"},"Children":[{"Type":"NodeText","Data":"当前节点的 stat 信息。"}]}]}]},{"ID":"20240201213685-hqnxvj2","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"CodeBlockFenceChar":96,"CodeBlockFenceLen":3,"CodeBlockOpenFence":"YGBg","CodeBlockInfo":"c2hlbGw=","CodeBlockCloseFence":"YGBg","Properties":{"id":"20240201213685-hqnxvj2","updated":"20240201213685"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"c2hlbGw=","Properties":{"id":""}},{"Type":"NodeCodeBlockCode","Data":"[zk: 127.0.0.1:2181(CONNECTED) 7] ls2 /node1\n[node1.1]\ncZxid = 0x47\nctime = Sun Jan 20 10:22:59 CST 2019\nmZxid = 0x47\nmtime = Sun Jan 20 10:22:59 CST 2019\npZxid = 0x4a\ncversion = 1\ndataVersion = 0\naclVersion = 0\nephemeralOwner = 0x0\ndataLength = 11\nnumChildren = 1\n\n","Properties":{"id":""}},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}}]},{"ID":"20240201213686-oh8rbuz","Type":"NodeHeading","HeadingLevel":3,"Properties":{"id":"20240201213686-oh8rbuz","updated":"20240201213686"},"Children":[{"Type":"NodeHeadingC8hMarker","Data":"### ","Properties":{"id":""}},{"Type":"NodeText","Data":"删除节点(delete 命令)"}]},{"ID":"20240201213687-xbfn7vo","Type":"NodeParagraph","Properties":{"id":"20240201213687-xbfn7vo","updated":"20240201213687"},"Children":[{"Type":"NodeText","Data":"这个命令很简单，但是需要注意的一点是如果你要删除某一个节点，那么这个节点必须无子节点才行。"}]},{"ID":"20240201213688-erp73il","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"CodeBlockFenceChar":96,"CodeBlockFenceLen":3,"CodeBlockOpenFence":"YGBg","CodeBlockInfo":"c2hlbGw=","CodeBlockCloseFence":"YGBg","Properties":{"id":"20240201213688-erp73il","updated":"20240201213688"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"c2hlbGw=","Properties":{"id":""}},{"Type":"NodeCodeBlockCode","Data":"[zk: 127.0.0.1:2181(CONNECTED) 3] delete /node1/node1.1\n","Properties":{"id":""}},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}}]},{"ID":"20240201213689-i5p2nhj","Type":"NodeParagraph","Properties":{"id":"20240201213689-i5p2nhj","updated":"20240201213689"},"Children":[{"Type":"NodeText","Data":"在后面我会介绍到 Java 客户端 API 的使用以及开源 ZooKeeper 客户端 ZkClient 和 Curator 的使用。"}]},{"ID":"20240201213690-k84o0o0","Type":"NodeHeading","HeadingLevel":2,"Properties":{"id":"20240201213690-k84o0o0","updated":"20240201213690"},"Children":[{"Type":"NodeHeadingC8hMarker","Data":"## ","Properties":{"id":""}},{"Type":"NodeText","Data":"ZooKeeper Java 客户端 Curator 简单使用"}]},{"ID":"20240201213691-xfmw8x9","Type":"NodeParagraph","Properties":{"id":"20240201213691-xfmw8x9","updated":"20240201213691"},"Children":[{"Type":"NodeText","Data":"Curator 是 Netflix 公司开源的一套 ZooKeeper Java 客户端框架，相比于 Zookeeper 自带的客户端 zookeeper 来说，Curator 的封装更加完善，各种 API 都可以比较方便地使用。"}]},{"ID":"20240201213692-y75w20t","Type":"NodeParagraph","Properties":{"id":"20240201213692-y75w20t","updated":"20240201213692"},"Children":[{"Type":"NodeImage","Properties":{"id":""},"Children":[{"Type":"NodeBang","Data":"!","Properties":{"id":""}},{"Type":"NodeOpenBracket","Data":"[","Properties":{"id":""}},{"Type":"NodeCloseBracket","Data":"]","Properties":{"id":""}},{"Type":"NodeOpenParen","Data":"(","Properties":{"id":""}},{"Type":"NodeLinkDest","Data":"https://oss.javaguide.cn/github/javaguide/distributed-system/zookeeper/curator.png","Properties":{"id":""}},{"Type":"NodeCloseParen","Data":")","Properties":{"id":""}}]}]},{"ID":"20240201213693-t6dugvz","Type":"NodeParagraph","Properties":{"id":"20240201213693-t6dugvz","updated":"20240201213693"},"Children":[{"Type":"NodeText","Data":"下面我们就来简单地演示一下 Curator 的使用吧！"}]},{"ID":"20240201213694-b90mvtl","Type":"NodeParagraph","Properties":{"id":"20240201213694-b90mvtl","updated":"20240201213694"},"Children":[{"Type":"NodeText","Data":"Curator4.0+版本对 ZooKeeper 3.5.x 支持比较好。开始之前，请先将下面的依赖添加进你的项目。"}]},{"ID":"20240201213695-7gycjni","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"CodeBlockFenceChar":96,"CodeBlockFenceLen":3,"CodeBlockOpenFence":"YGBg","CodeBlockInfo":"eG1s","CodeBlockCloseFence":"YGBg","Properties":{"id":"20240201213695-7gycjni","updated":"20240201213695"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"eG1s","Properties":{"id":""}},{"Type":"NodeCodeBlockCode","Data":"\u003cdependency\u003e\n    \u003cgroupId\u003eorg.apache.curator\u003c/groupId\u003e\n    \u003cartifactId\u003ecurator-framework\u003c/artifactId\u003e\n    \u003cversion\u003e4.2.0\u003c/version\u003e\n\u003c/dependency\u003e\n\u003cdependency\u003e\n    \u003cgroupId\u003eorg.apache.curator\u003c/groupId\u003e\n    \u003cartifactId\u003ecurator-recipes\u003c/artifactId\u003e\n    \u003cversion\u003e4.2.0\u003c/version\u003e\n\u003c/dependency\u003e\n","Properties":{"id":""}},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}}]},{"ID":"20240201213696-mlpa7vf","Type":"NodeHeading","HeadingLevel":3,"Properties":{"id":"20240201213696-mlpa7vf","updated":"20240201213696"},"Children":[{"Type":"NodeHeadingC8hMarker","Data":"### ","Properties":{"id":""}},{"Type":"NodeText","Data":"连接 ZooKeeper 客户端"}]},{"ID":"20240201213697-xwuj4ed","Type":"NodeParagraph","Properties":{"id":"20240201213697-xwuj4ed","updated":"20240201213697"},"Children":[{"Type":"NodeText","Data":"通过 "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"CuratorFrameworkFactory"},{"Type":"NodeText","Data":" 创建 "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"CuratorFramework"},{"Type":"NodeText","Data":" 对象，然后再调用 "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"CuratorFramework"},{"Type":"NodeText","Data":" 对象的 "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"start()"},{"Type":"NodeText","Data":" 方法即可！"}]},{"ID":"20240201213698-0afllz9","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"CodeBlockFenceChar":96,"CodeBlockFenceLen":3,"CodeBlockOpenFence":"YGBg","CodeBlockInfo":"amF2YQ==","CodeBlockCloseFence":"YGBg","Properties":{"id":"20240201213698-0afllz9","updated":"20240201213698"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"amF2YQ==","Properties":{"id":""}},{"Type":"NodeCodeBlockCode","Data":"private static final int BASE_SLEEP_TIME = 1000;\nprivate static final int MAX_RETRIES = 3;\n\n// Retry strategy. Retry 3 times, and will increase the sleep time between retries.\nRetryPolicy retryPolicy = new ExponentialBackoffRetry(BASE_SLEEP_TIME, MAX_RETRIES);\nCuratorFramework zkClient = CuratorFrameworkFactory.builder()\n    // the server to connect to (can be a server list)\n    .connectString(\"127.0.0.1:2181\")\n    .retryPolicy(retryPolicy)\n    .build();\nzkClient.start();\n","Properties":{"id":""}},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}}]},{"ID":"20240201213699-rg5mt7o","Type":"NodeParagraph","Properties":{"id":"20240201213699-rg5mt7o","updated":"20240201213699"},"Children":[{"Type":"NodeText","Data":"对于一些基本参数的说明："}]},{"ID":"20240201213700-yxr2gk5","Type":"NodeList","ListData":{"Tight":true,"BulletChar":45,"Padding":2,"Marker":"LQ==","Num":-1},"Properties":{"id":"20240201213700-yxr2gk5","updated":"20240201213700"},"Children":[{"ID":"20240201213701-3uotshx","Type":"NodeListItem","Data":"-","ListData":{"Tight":true,"BulletChar":45,"Padding":2,"Marker":"LQ==","Num":-1},"Properties":{"id":"20240201213701-3uotshx","updated":"20240201213701"},"Children":[{"ID":"20240201213702-9nl73pn","Type":"NodeParagraph","Properties":{"id":"20240201213702-9nl73pn","updated":"20240201213702"},"Children":[{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"baseSleepTimeMs"},{"Type":"NodeText","Data":"：重试之间等待的初始时间"}]}]},{"ID":"20240201213703-ffats9g","Type":"NodeListItem","Data":"-","ListData":{"Tight":true,"BulletChar":45,"Padding":2,"Marker":"LQ==","Num":-1},"Properties":{"id":"20240201213703-ffats9g","updated":"20240201213703"},"Children":[{"ID":"20240201213704-070vr77","Type":"NodeParagraph","Properties":{"id":"20240201213704-070vr77","updated":"20240201213704"},"Children":[{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"maxRetries"},{"Type":"NodeText","Data":"：最大重试次数"}]}]},{"ID":"20240201213705-cixkm13","Type":"NodeListItem","Data":"-","ListData":{"Tight":true,"BulletChar":45,"Padding":2,"Marker":"LQ==","Num":-1},"Properties":{"id":"20240201213705-cixkm13","updated":"20240201213705"},"Children":[{"ID":"20240201213706-cac5rmv","Type":"NodeParagraph","Properties":{"id":"20240201213706-cac5rmv","updated":"20240201213706"},"Children":[{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"connectString"},{"Type":"NodeText","Data":"：要连接的服务器列表"}]}]},{"ID":"20240201213707-p9i807d","Type":"NodeListItem","Data":"-","ListData":{"Tight":true,"BulletChar":45,"Padding":2,"Marker":"LQ==","Num":-1},"Properties":{"id":"20240201213707-p9i807d","updated":"20240201213707"},"Children":[{"ID":"20240201213708-sf153sh","Type":"NodeParagraph","Properties":{"id":"20240201213708-sf153sh","updated":"20240201213708"},"Children":[{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"retryPolicy"},{"Type":"NodeText","Data":"：重试策略"}]}]}]},{"ID":"20240201213709-iz6bwvj","Type":"NodeHeading","HeadingLevel":3,"Properties":{"id":"20240201213709-iz6bwvj","updated":"20240201213709"},"Children":[{"Type":"NodeHeadingC8hMarker","Data":"### ","Properties":{"id":""}},{"Type":"NodeText","Data":"数据节点的增删改查"}]},{"ID":"20240201213710-tneb394","Type":"NodeHeading","HeadingLevel":4,"Properties":{"id":"20240201213710-tneb394","updated":"20240201213710"},"Children":[{"Type":"NodeHeadingC8hMarker","Data":"#### ","Properties":{"id":""}},{"Type":"NodeText","Data":"创建节点"}]},{"ID":"20240201213711-qvsebhp","Type":"NodeParagraph","Properties":{"id":"20240201213711-qvsebhp","updated":"20240201213711"},"Children":[{"Type":"NodeText","Data":"我们在 "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"a","TextMarkAHref":"./zookeeper-intro.md","TextMarkTextContent":"ZooKeeper 常见概念解读"},{"Type":"NodeText","Data":" 中介绍到，我们通常是将 znode 分为 4 大类："}]},{"ID":"20240201213712-2gak7mg","Type":"NodeList","ListData":{"Tight":true,"BulletChar":45,"Padding":2,"Marker":"LQ==","Num":-1},"Properties":{"id":"20240201213712-2gak7mg","updated":"20240201213712"},"Children":[{"ID":"20240201213713-dswh54b","Type":"NodeListItem","Data":"-","ListData":{"Tight":true,"BulletChar":45,"Padding":2,"Marker":"LQ==","Num":-1},"Properties":{"id":"20240201213713-dswh54b","updated":"20240201213713"},"Children":[{"ID":"20240201213714-vdshjl8","Type":"NodeParagraph","Properties":{"id":"20240201213714-vdshjl8","updated":"20240201213714"},"Children":[{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"strong","TextMarkTextContent":"持久（PERSISTENT）节点"},{"Type":"NodeText","Data":"：一旦创建就一直存在即使 ZooKeeper 集群宕机，直到将其删除。"}]}]},{"ID":"20240201213715-a790yj2","Type":"NodeListItem","Data":"-","ListData":{"Tight":true,"BulletChar":45,"Padding":2,"Marker":"LQ==","Num":-1},"Properties":{"id":"20240201213715-a790yj2","updated":"20240201213715"},"Children":[{"ID":"20240201213716-k2qc9o1","Type":"NodeParagraph","Properties":{"id":"20240201213716-k2qc9o1","updated":"20240201213716"},"Children":[{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"strong","TextMarkTextContent":"临时（EPHEMERAL）节点"},{"Type":"NodeText","Data":"：临时节点的生命周期是与 "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"strong","TextMarkTextContent":"客户端会话（session）"},{"Type":"NodeText","Data":" 绑定的，"},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"strong","TextMarkTextContent":"会话消失则节点消失"},{"Type":"NodeText","Data":" 。并且，临时节点 "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"strong","TextMarkTextContent":"只能做叶子节点"},{"Type":"NodeText","Data":" ，不能创建子节点。"}]}]},{"ID":"20240201213717-hxo2r68","Type":"NodeListItem","Data":"-","ListData":{"Tight":true,"BulletChar":45,"Padding":2,"Marker":"LQ==","Num":-1},"Properties":{"id":"20240201213717-hxo2r68","updated":"20240201213717"},"Children":[{"ID":"20240201213718-rxtkb3i","Type":"NodeParagraph","Properties":{"id":"20240201213718-rxtkb3i","updated":"20240201213718"},"Children":[{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"strong","TextMarkTextContent":"持久顺序（PERSISTENT_SEQUENTIAL）节点"},{"Type":"NodeText","Data":"：除了具有持久（PERSISTENT）节点的特性之外， 子节点的名称还具有顺序性。比如 "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"/node1/app0000000001"},{"Type":"NodeText","Data":"、"},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"/node1/app0000000002"},{"Type":"NodeText","Data":" 。"}]}]},{"ID":"20240201213719-2xcw5ce","Type":"NodeListItem","Data":"-","ListData":{"Tight":true,"BulletChar":45,"Padding":2,"Marker":"LQ==","Num":-1},"Properties":{"id":"20240201213719-2xcw5ce","updated":"20240201213719"},"Children":[{"ID":"20240201213720-56rx0zq","Type":"NodeParagraph","Properties":{"id":"20240201213720-56rx0zq","updated":"20240201213720"},"Children":[{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"strong","TextMarkTextContent":"临时顺序（EPHEMERAL_SEQUENTIAL）节点"},{"Type":"NodeText","Data":"：除了具备临时（EPHEMERAL）节点的特性之外，子节点的名称还具有顺序性。"}]}]}]},{"ID":"20240201213721-880l6s4","Type":"NodeParagraph","Properties":{"id":"20240201213721-880l6s4","updated":"20240201213721"},"Children":[{"Type":"NodeText","Data":"你在使用的 ZooKeeper 的时候，会发现 "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"CreateMode"},{"Type":"NodeText","Data":" 类中实际有 7 种 znode 类型 ，但是用的最多的还是上面介绍的 4 种。"}]},{"ID":"20240201213722-o29mwr7","Type":"NodeParagraph","Properties":{"id":"20240201213722-o29mwr7","updated":"20240201213722"},"Children":[{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"strong","TextMarkTextContent":"a.创建持久化节点"}]},{"ID":"20240201213723-ffklqzw","Type":"NodeParagraph","Properties":{"id":"20240201213723-ffklqzw","updated":"20240201213723"},"Children":[{"Type":"NodeText","Data":"你可以通过下面两种方式创建持久化的节点。"}]},{"ID":"20240201213724-jc5qqlq","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"CodeBlockFenceChar":96,"CodeBlockFenceLen":3,"CodeBlockOpenFence":"YGBg","CodeBlockInfo":"amF2YQ==","CodeBlockCloseFence":"YGBg","Properties":{"id":"20240201213724-jc5qqlq","updated":"20240201213724"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"amF2YQ==","Properties":{"id":""}},{"Type":"NodeCodeBlockCode","Data":"//注意:下面的代码会报错，下文说了具体原因\nzkClient.create().forPath(\"/node1/00001\");\nzkClient.create().withMode(CreateMode.PERSISTENT).forPath(\"/node1/00002\");\n","Properties":{"id":""}},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}}]},{"ID":"20240201213725-zb7x7we","Type":"NodeParagraph","Properties":{"id":"20240201213725-zb7x7we","updated":"20240201213725"},"Children":[{"Type":"NodeText","Data":"但是，你运行上面的代码会报错，这是因为的父节点"},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"node1"},{"Type":"NodeText","Data":"还未创建。"}]},{"ID":"20240201213726-k5epjmo","Type":"NodeParagraph","Properties":{"id":"20240201213726-k5epjmo","updated":"20240201213726"},"Children":[{"Type":"NodeText","Data":"你可以先创建父节点 "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"node1"},{"Type":"NodeText","Data":" ，然后再执行上面的代码就不会报错了。"}]},{"ID":"20240201213727-r3t31td","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"CodeBlockFenceChar":96,"CodeBlockFenceLen":3,"CodeBlockOpenFence":"YGBg","CodeBlockInfo":"amF2YQ==","CodeBlockCloseFence":"YGBg","Properties":{"id":"20240201213727-r3t31td","updated":"20240201213727"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"amF2YQ==","Properties":{"id":""}},{"Type":"NodeCodeBlockCode","Data":"zkClient.create().forPath(\"/node1\");\n","Properties":{"id":""}},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}}]},{"ID":"20240201213728-4iihauy","Type":"NodeParagraph","Properties":{"id":"20240201213728-4iihauy","updated":"20240201213728"},"Children":[{"Type":"NodeText","Data":"更推荐的方式是通过下面这行代码， "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"strong code","TextMarkTextContent":"creatingParentsIfNeeded()"},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"strong","TextMarkTextContent":" 可以保证父节点不存在的时候自动创建父节点，这是非常有用的。"}]},{"ID":"20240201213729-2u3etc0","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"CodeBlockFenceChar":96,"CodeBlockFenceLen":3,"CodeBlockOpenFence":"YGBg","CodeBlockInfo":"amF2YQ==","CodeBlockCloseFence":"YGBg","Properties":{"id":"20240201213729-2u3etc0","updated":"20240201213729"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"amF2YQ==","Properties":{"id":""}},{"Type":"NodeCodeBlockCode","Data":"zkClient.create().creatingParentsIfNeeded().withMode(CreateMode.PERSISTENT).forPath(\"/node1/00001\");\n","Properties":{"id":""}},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}}]},{"ID":"20240201213730-gmdkz25","Type":"NodeParagraph","Properties":{"id":"20240201213730-gmdkz25","updated":"20240201213730"},"Children":[{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"strong","TextMarkTextContent":"b.创建临时节点"}]},{"ID":"20240201213731-5jx8cut","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"CodeBlockFenceChar":96,"CodeBlockFenceLen":3,"CodeBlockOpenFence":"YGBg","CodeBlockInfo":"amF2YQ==","CodeBlockCloseFence":"YGBg","Properties":{"id":"20240201213731-5jx8cut","updated":"20240201213731"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"amF2YQ==","Properties":{"id":""}},{"Type":"NodeCodeBlockCode","Data":"zkClient.create().creatingParentsIfNeeded().withMode(CreateMode.EPHEMERAL).forPath(\"/node1/00001\");\n","Properties":{"id":""}},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}}]},{"ID":"20240201213732-6vcaf3o","Type":"NodeParagraph","Properties":{"id":"20240201213732-6vcaf3o","updated":"20240201213732"},"Children":[{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"strong","TextMarkTextContent":"c.创建节点并指定数据内容"}]},{"ID":"20240201213733-xegpyqm","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"CodeBlockFenceChar":96,"CodeBlockFenceLen":3,"CodeBlockOpenFence":"YGBg","CodeBlockInfo":"amF2YQ==","CodeBlockCloseFence":"YGBg","Properties":{"id":"20240201213733-xegpyqm","updated":"20240201213733"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"amF2YQ==","Properties":{"id":""}},{"Type":"NodeCodeBlockCode","Data":"zkClient.create().creatingParentsIfNeeded().withMode(CreateMode.EPHEMERAL).forPath(\"/node1/00001\",\"java\".getBytes());\nzkClient.getData().forPath(\"/node1/00001\");//获取节点的数据内容，获取到的是 byte数组\n","Properties":{"id":""}},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}}]},{"ID":"20240201213734-ek7rkzx","Type":"NodeParagraph","Properties":{"id":"20240201213734-ek7rkzx","updated":"20240201213734"},"Children":[{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"strong","TextMarkTextContent":"d.检测节点是否创建成功"}]},{"ID":"20240201213735-e86ewje","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"CodeBlockFenceChar":96,"CodeBlockFenceLen":3,"CodeBlockOpenFence":"YGBg","CodeBlockInfo":"amF2YQ==","CodeBlockCloseFence":"YGBg","Properties":{"id":"20240201213735-e86ewje","updated":"20240201213735"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"amF2YQ==","Properties":{"id":""}},{"Type":"NodeCodeBlockCode","Data":"zkClient.checkExists().forPath(\"/node1/00001\");//不为null的话，说明节点创建成功\n","Properties":{"id":""}},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}}]},{"ID":"20240201213736-ypgx0he","Type":"NodeHeading","HeadingLevel":4,"Properties":{"id":"20240201213736-ypgx0he","updated":"20240201213736"},"Children":[{"Type":"NodeHeadingC8hMarker","Data":"#### ","Properties":{"id":""}},{"Type":"NodeText","Data":"删除节点"}]},{"ID":"20240201213737-1oqt7ck","Type":"NodeParagraph","Properties":{"id":"20240201213737-1oqt7ck","updated":"20240201213737"},"Children":[{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"strong","TextMarkTextContent":"a.删除一个子节点"}]},{"ID":"20240201213738-q0xurq5","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"CodeBlockFenceChar":96,"CodeBlockFenceLen":3,"CodeBlockOpenFence":"YGBg","CodeBlockInfo":"amF2YQ==","CodeBlockCloseFence":"YGBg","Properties":{"id":"20240201213738-q0xurq5","updated":"20240201213738"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"amF2YQ==","Properties":{"id":""}},{"Type":"NodeCodeBlockCode","Data":"zkClient.delete().forPath(\"/node1/00001\");\n","Properties":{"id":""}},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}}]},{"ID":"20240201213739-be0tdrm","Type":"NodeParagraph","Properties":{"id":"20240201213739-be0tdrm","updated":"20240201213739"},"Children":[{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"strong","TextMarkTextContent":"b.删除一个节点以及其下的所有子节点"}]},{"ID":"20240201213740-orrhter","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"CodeBlockFenceChar":96,"CodeBlockFenceLen":3,"CodeBlockOpenFence":"YGBg","CodeBlockInfo":"amF2YQ==","CodeBlockCloseFence":"YGBg","Properties":{"id":"20240201213740-orrhter","updated":"20240201213740"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"amF2YQ==","Properties":{"id":""}},{"Type":"NodeCodeBlockCode","Data":"zkClient.delete().deletingChildrenIfNeeded().forPath(\"/node1\");\n","Properties":{"id":""}},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}}]},{"ID":"20240201213741-7aff9ip","Type":"NodeHeading","HeadingLevel":4,"Properties":{"id":"20240201213741-7aff9ip","updated":"20240201213741"},"Children":[{"Type":"NodeHeadingC8hMarker","Data":"#### ","Properties":{"id":""}},{"Type":"NodeText","Data":"获取/更新节点数据内容"}]},{"ID":"20240201213742-w1pg9q9","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"CodeBlockFenceChar":96,"CodeBlockFenceLen":3,"CodeBlockOpenFence":"YGBg","CodeBlockInfo":"amF2YQ==","CodeBlockCloseFence":"YGBg","Properties":{"id":"20240201213742-w1pg9q9","updated":"20240201213742"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"amF2YQ==","Properties":{"id":""}},{"Type":"NodeCodeBlockCode","Data":"zkClient.create().creatingParentsIfNeeded().withMode(CreateMode.EPHEMERAL).forPath(\"/node1/00001\",\"java\".getBytes());\nzkClient.getData().forPath(\"/node1/00001\");//获取节点的数据内容\nzkClient.setData().forPath(\"/node1/00001\",\"c++\".getBytes());//更新节点数据内容\n","Properties":{"id":""}},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}}]},{"ID":"20240201213743-tc3rp4r","Type":"NodeHeading","HeadingLevel":4,"Properties":{"id":"20240201213743-tc3rp4r","updated":"20240201213743"},"Children":[{"Type":"NodeHeadingC8hMarker","Data":"#### ","Properties":{"id":""}},{"Type":"NodeText","Data":"获取某个节点的所有子节点路径"}]},{"ID":"20240201213744-g8jwfb7","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"CodeBlockFenceChar":96,"CodeBlockFenceLen":3,"CodeBlockOpenFence":"YGBg","CodeBlockInfo":"amF2YQ==","CodeBlockCloseFence":"YGBg","Properties":{"id":"20240201213744-g8jwfb7","updated":"20240201213744"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"amF2YQ==","Properties":{"id":""}},{"Type":"NodeCodeBlockCode","Data":"List\u003cString\u003e childrenPaths = zkClient.getChildren().forPath(\"/node1\");\n","Properties":{"id":""}},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}}]},{"ID":"20240201213745-hccx3ig","Type":"NodeHTMLBlock","Data":"\u003cdiv\u003e\n\u003c!-- @include: @article-footer.snippet.md --\u003e\n\u003c/div\u003e","HtmlBlockType":2,"Properties":{"id":"20240201213745-hccx3ig","updated":"20240201213745"}}]}
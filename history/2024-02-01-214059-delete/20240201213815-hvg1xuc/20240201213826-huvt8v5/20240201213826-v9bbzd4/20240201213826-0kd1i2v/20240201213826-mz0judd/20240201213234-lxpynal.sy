{"ID":"20240201213234-lxpynal","Spec":"1","Type":"NodeDocument","Properties":{"id":"20240201213234-lxpynal","title":"sql-questions-03","updated":"20240201213234"},"Children":[{"ID":"20240201213235-j68m6rx","Type":"NodeThematicBreak","Properties":{"id":"20240201213235-j68m6rx","updated":"20240201213235"}},{"ID":"20240201213236-4fr29k3","Type":"NodeParagraph","Properties":{"id":"20240201213236-4fr29k3","updated":"20240201213236"},"Children":[{"Type":"NodeText","Data":"title: SQL常见面试题总结（3）"},{"Type":"NodeSoftBreak","Data":"\n","Properties":{"id":""}},{"Type":"NodeText","Data":"category: 数据库"},{"Type":"NodeSoftBreak","Data":"\n","Properties":{"id":""}},{"Type":"NodeText","Data":"tag:"}]},{"ID":"20240201213237-typh0p6","Type":"NodeList","ListData":{"Tight":true,"BulletChar":45,"Padding":2,"MarkerOffset":2,"Marker":"LQ==","Num":-1},"Properties":{"id":"20240201213237-typh0p6","updated":"20240201213237"},"Children":[{"ID":"20240201213238-287nb37","Type":"NodeListItem","Data":"-","ListData":{"Tight":true,"BulletChar":45,"Padding":2,"MarkerOffset":2,"Marker":"LQ==","Num":-1},"Properties":{"id":"20240201213238-287nb37","updated":"20240201213238"},"Children":[{"ID":"20240201213239-3mzowr9","Type":"NodeParagraph","Properties":{"id":"20240201213239-3mzowr9","updated":"20240201213239"},"Children":[{"Type":"NodeText","Data":"数据库基础"}]}]},{"ID":"20240201213240-gvazp7y","Type":"NodeListItem","Data":"-","ListData":{"Tight":true,"BulletChar":45,"Padding":2,"MarkerOffset":2,"Marker":"LQ==","Num":-1},"Properties":{"id":"20240201213240-gvazp7y","updated":"20240201213240"},"Children":[{"ID":"20240201213241-2sdym9c","Type":"NodeParagraph","Properties":{"id":"20240201213241-2sdym9c","updated":"20240201213241"},"Children":[{"Type":"NodeText","Data":"SQL"}]}]}]},{"ID":"20240201213242-75370c6","Type":"NodeThematicBreak","Properties":{"id":"20240201213242-75370c6","updated":"20240201213242"}},{"ID":"20240201213243-osbzluz","Type":"NodeBlockquote","Properties":{"id":"20240201213243-osbzluz","updated":"20240201213243"},"Children":[{"Type":"NodeBlockquoteMarker","Data":"\u003e ","Properties":{"id":""}},{"ID":"20240201213244-imrb1t7","Type":"NodeParagraph","Properties":{"id":"20240201213244-imrb1t7","updated":"20240201213244"},"Children":[{"Type":"NodeText","Data":"题目来源于："},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"a","TextMarkAHref":"https://www.nowcoder.com/exam/oj?page=1\u0026tab=SQL%E7%AF%87\u0026topicId=240","TextMarkTextContent":"牛客题霸 - SQL 进阶挑战"}]}]},{"ID":"20240201213245-3n8mc01","Type":"NodeParagraph","Properties":{"id":"20240201213245-3n8mc01","updated":"20240201213245"},"Children":[{"Type":"NodeText","Data":"较难或者困难的题目可以根据自身实际情况和面试需要来决定是否要跳过。"}]},{"ID":"20240201213246-dis9mmn","Type":"NodeHeading","HeadingLevel":2,"Properties":{"id":"20240201213246-dis9mmn","updated":"20240201213246"},"Children":[{"Type":"NodeHeadingC8hMarker","Data":"## ","Properties":{"id":""}},{"Type":"NodeText","Data":"聚合函数"}]},{"ID":"20240201213247-odsxvqc","Type":"NodeHeading","HeadingLevel":3,"Properties":{"id":"20240201213247-odsxvqc","updated":"20240201213247"},"Children":[{"Type":"NodeHeadingC8hMarker","Data":"### ","Properties":{"id":""}},{"Type":"NodeText","Data":"SQL 类别高难度试卷得分的截断平均值（较难）"}]},{"ID":"20240201213248-3at6pol","Type":"NodeParagraph","Properties":{"id":"20240201213248-3at6pol","updated":"20240201213248"},"Children":[{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"strong","TextMarkTextContent":"描述"},{"Type":"NodeText","Data":"： 牛客的运营同学想要查看大家在 SQL 类别中高难度试卷的得分情况。"}]},{"ID":"20240201213249-i3geesg","Type":"NodeParagraph","Properties":{"id":"20240201213249-i3geesg","updated":"20240201213249"},"Children":[{"Type":"NodeText","Data":"请你帮她从"},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"exam_record"},{"Type":"NodeText","Data":"数据表中计算所有用户完成 SQL 类别高难度试卷得分的截断平均值（去掉一个最大值和一个最小值后的平均值）。"}]},{"ID":"20240201213250-d49r2k7","Type":"NodeParagraph","Properties":{"id":"20240201213250-d49r2k7","updated":"20240201213250"},"Children":[{"Type":"NodeText","Data":"示例数据："},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"examination_info"},{"Type":"NodeText","Data":"（"},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"exam_id"},{"Type":"NodeText","Data":" 试卷 ID, tag 试卷类别, "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"difficulty"},{"Type":"NodeText","Data":" 试卷难度, "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"duration"},{"Type":"NodeText","Data":" 考试时长, "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"release_time"},{"Type":"NodeText","Data":" 发布时间）"}]},{"ID":"20240201213251-zzyvoib","Type":"NodeTable","Data":"| id  | exam_id | tag  | difficulty | duration | release_time        |\n| --- | ------- | ---- | ---------- | -------- | ------------------- |\n| 1   | 9001    | SQL  | hard       | 60       | 2020-01-01 10:00:00 |\n| 2   | 9002    | 算法 | medium     | 80       | 2020-08-02 10:00:00 |","TableAligns":[0,0,0,0,0,0],"Properties":{"id":"20240201213251-zzyvoib","updated":"20240201213251"},"Children":[{"Type":"NodeTableHead","Properties":{"id":""},"Children":[{"Type":"NodeTableRow","Properties":{"id":""},"Children":[{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"id"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"exam_id"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"tag"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"difficulty"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"duration"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"release_time"}]}]}]},{"Type":"NodeTableRow","TableAligns":[0,0,0,0,0,0],"Properties":{"id":""},"Children":[{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"1"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"9001"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"SQL"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"hard"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"60"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"2020-01-01 10:00:00"}]}]},{"Type":"NodeTableRow","TableAligns":[0,0,0,0,0,0],"Properties":{"id":""},"Children":[{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"2"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"9002"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"算法"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"medium"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"80"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"2020-08-02 10:00:00"}]}]}]},{"ID":"20240201213252-u483t02","Type":"NodeParagraph","Properties":{"id":"20240201213252-u483t02","updated":"20240201213252"},"Children":[{"Type":"NodeText","Data":"示例数据："},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"exam_record"},{"Type":"NodeText","Data":"（uid 用户 ID, exam_id 试卷 ID, start_time 开始作答时间, submit_time 交卷时间, score 得分）"}]},{"ID":"20240201213253-inrnxvc","Type":"NodeTable","Data":"| id  | uid  | exam_id | start_time          | submit_time         | score  |\n| --- | ---- | ------- | ------------------- | ------------------- | ------ |\n| 1   | 1001 | 9001    | 2020-01-02 09:01:01 | 2020-01-02 09:21:01 | 80     |\n| 2   | 1001 | 9001    | 2021-05-02 10:01:01 | 2021-05-02 10:30:01 | 81     |\n| 3   | 1001 | 9001    | 2021-06-02 19:01:01 | 2021-06-02 19:31:01 | 84     |\n| 4   | 1001 | 9002    | 2021-09-05 19:01:01 | 2021-09-05 19:40:01 | 89     |\n| 5   | 1001 | 9001    | 2021-09-02 12:01:01 | (NULL)              | (NULL) |\n| 6   | 1001 | 9002    | 2021-09-01 12:01:01 | (NULL)              | (NULL) |\n| 7   | 1002 | 9002    | 2021-02-02 19:01:01 | 2021-02-02 19:30:01 | 87     |\n| 8   | 1002 | 9001    | 2021-05-05 18:01:01 | 2021-05-05 18:59:02 | 90     |\n| 9   | 1003 | 9001    | 2021-09-07 12:01:01 | 2021-09-07 10:31:01 | 50     |\n| 10  | 1004 | 9001    | 2021-09-06 10:01:01 | (NULL)              | (NULL) |","TableAligns":[0,0,0,0,0,0],"Properties":{"id":"20240201213253-inrnxvc","updated":"20240201213253"},"Children":[{"Type":"NodeTableHead","Properties":{"id":""},"Children":[{"Type":"NodeTableRow","Properties":{"id":""},"Children":[{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"id"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"uid"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"exam_id"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"start_time"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"submit_time"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"score"}]}]}]},{"Type":"NodeTableRow","TableAligns":[0,0,0,0,0,0],"Properties":{"id":""},"Children":[{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"1"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"1001"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"9001"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"2020-01-02 09:01:01"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"2020-01-02 09:21:01"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"80"}]}]},{"Type":"NodeTableRow","TableAligns":[0,0,0,0,0,0],"Properties":{"id":""},"Children":[{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"2"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"1001"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"9001"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"2021-05-02 10:01:01"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"2021-05-02 10:30:01"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"81"}]}]},{"Type":"NodeTableRow","TableAligns":[0,0,0,0,0,0],"Properties":{"id":""},"Children":[{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"3"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"1001"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"9001"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"2021-06-02 19:01:01"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"2021-06-02 19:31:01"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"84"}]}]},{"Type":"NodeTableRow","TableAligns":[0,0,0,0,0,0],"Properties":{"id":""},"Children":[{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"4"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"1001"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"9002"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"2021-09-05 19:01:01"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"2021-09-05 19:40:01"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"89"}]}]},{"Type":"NodeTableRow","TableAligns":[0,0,0,0,0,0],"Properties":{"id":""},"Children":[{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"5"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"1001"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"9001"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"2021-09-02 12:01:01"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"(NULL)"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"(NULL)"}]}]},{"Type":"NodeTableRow","TableAligns":[0,0,0,0,0,0],"Properties":{"id":""},"Children":[{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"6"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"1001"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"9002"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"2021-09-01 12:01:01"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"(NULL)"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"(NULL)"}]}]},{"Type":"NodeTableRow","TableAligns":[0,0,0,0,0,0],"Properties":{"id":""},"Children":[{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"7"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"1002"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"9002"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"2021-02-02 19:01:01"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"2021-02-02 19:30:01"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"87"}]}]},{"Type":"NodeTableRow","TableAligns":[0,0,0,0,0,0],"Properties":{"id":""},"Children":[{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"8"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"1002"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"9001"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"2021-05-05 18:01:01"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"2021-05-05 18:59:02"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"90"}]}]},{"Type":"NodeTableRow","TableAligns":[0,0,0,0,0,0],"Properties":{"id":""},"Children":[{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"9"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"1003"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"9001"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"2021-09-07 12:01:01"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"2021-09-07 10:31:01"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"50"}]}]},{"Type":"NodeTableRow","TableAligns":[0,0,0,0,0,0],"Properties":{"id":""},"Children":[{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"10"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"1004"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"9001"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"2021-09-06 10:01:01"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"(NULL)"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"(NULL)"}]}]}]},{"ID":"20240201213254-bomnlql","Type":"NodeParagraph","Properties":{"id":"20240201213254-bomnlql","updated":"20240201213254"},"Children":[{"Type":"NodeText","Data":"根据输入你的查询结果如下："}]},{"ID":"20240201213255-3fm0bm0","Type":"NodeTable","Data":"| tag | difficulty | clip_avg_score |\n| --- | ---------- | -------------- |\n| SQL | hard       | 81.7           |","TableAligns":[0,0,0],"Properties":{"id":"20240201213255-3fm0bm0","updated":"20240201213255"},"Children":[{"Type":"NodeTableHead","Properties":{"id":""},"Children":[{"Type":"NodeTableRow","Properties":{"id":""},"Children":[{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"tag"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"difficulty"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"clip_avg_score"}]}]}]},{"Type":"NodeTableRow","TableAligns":[0,0,0],"Properties":{"id":""},"Children":[{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"SQL"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"hard"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"81.7"}]}]}]},{"ID":"20240201213256-7c15nm7","Type":"NodeParagraph","Properties":{"id":"20240201213256-7c15nm7","updated":"20240201213256"},"Children":[{"Type":"NodeText","Data":"从"},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"examination_info"},{"Type":"NodeText","Data":"表可知，试卷 9001 为高难度 SQL 试卷，该试卷被作答的得分有[80,81,84,90,50]，去除最高分和最低分后为[80,81,84]，平均分为 81.6666667，保留一位小数后为 81.7"}]},{"ID":"20240201213257-w6w2qjn","Type":"NodeParagraph","Properties":{"id":"20240201213257-w6w2qjn","updated":"20240201213257"},"Children":[{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"strong","TextMarkTextContent":"输入描述："}]},{"ID":"20240201213258-l24im8o","Type":"NodeParagraph","Properties":{"id":"20240201213258-l24im8o","updated":"20240201213258"},"Children":[{"Type":"NodeText","Data":"输入数据中至少有 3 个有效分数"}]},{"ID":"20240201213259-u8t20a9","Type":"NodeParagraph","Properties":{"id":"20240201213259-u8t20a9","updated":"20240201213259"},"Children":[{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"strong","TextMarkTextContent":"思路一："},{"Type":"NodeText","Data":" 要找出高难度 sql 试卷，肯定需要联 examination_info 这张表，然后找出高难度的课程，由 examination_info 得知，高难度 sql 的 exam_id 为 9001，那么等下就以 exam_id = 9001 作为条件去查询；"}]},{"ID":"20240201213260-jmpweke","Type":"NodeParagraph","Properties":{"id":"20240201213260-jmpweke","updated":"20240201213260"},"Children":[{"Type":"NodeText","Data":"先找出 9001 号考试 "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"select * from exam_record where exam_id = 9001"}]},{"ID":"20240201213261-x71ilb0","Type":"NodeParagraph","Properties":{"id":"20240201213261-x71ilb0","updated":"20240201213261"},"Children":[{"Type":"NodeText","Data":"然后，找出最高分 "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"select max(score) 最高分 from exam_record where exam_id = 9001"}]},{"ID":"20240201213262-x1lyf91","Type":"NodeParagraph","Properties":{"id":"20240201213262-x1lyf91","updated":"20240201213262"},"Children":[{"Type":"NodeText","Data":"接着，找出最低分 "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"select min(score) 最低分 from exam_record where exam_id = 9001"}]},{"ID":"20240201213263-0421co9","Type":"NodeParagraph","Properties":{"id":"20240201213263-0421co9","updated":"20240201213263"},"Children":[{"Type":"NodeText","Data":"在查询出来的分数结果集当中，去掉最高分和最低分，最直观能想到的就是 NOT IN 或者 用 NOT EXISTS 也行，这里以 NOT IN 来做"}]},{"ID":"20240201213264-u2mpts9","Type":"NodeParagraph","Properties":{"id":"20240201213264-u2mpts9","updated":"20240201213264"},"Children":[{"Type":"NodeText","Data":"首先将主体写出来"},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"select tag, difficulty, round(avg(score), 1) clip_avg_score from examination_info info INNER JOIN exam_record record"}]},{"ID":"20240201213265-0xev55b","Type":"NodeParagraph","Properties":{"id":"20240201213265-0xev55b","updated":"20240201213265"},"Children":[{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"strong","TextMarkTextContent":"小 tips"},{"Type":"NodeText","Data":" : MYSQL 的 "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"ROUND()"},{"Type":"NodeText","Data":" 函数 ,"},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"ROUND(X)"},{"Type":"NodeText","Data":"返回参数 X 最近似的整数 "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"ROUND(X,D)"},{"Type":"NodeText","Data":"返回 X ,其值保留到小数点后 D 位,第 D 位的保留方式为四舍五入。"}]},{"ID":"20240201213266-fpb0vsl","Type":"NodeParagraph","Properties":{"id":"20240201213266-fpb0vsl","updated":"20240201213266"},"Children":[{"Type":"NodeText","Data":"再将上面的 \"碎片\" 语句拼凑起来即可， 注意在 NOT IN 中两个子查询用 UNION ALL 来关联，用 union 把 max 和 min 的结果集中在一行当中，这样形成一列多行的效果。"}]},{"ID":"20240201213267-hcrsp4o","Type":"NodeParagraph","Properties":{"id":"20240201213267-hcrsp4o","updated":"20240201213267"},"Children":[{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"strong","TextMarkTextContent":"答案一："}]},{"ID":"20240201213268-noov38e","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"CodeBlockFenceChar":96,"CodeBlockFenceLen":3,"CodeBlockOpenFence":"YGBg","CodeBlockInfo":"c3Fs","CodeBlockCloseFence":"YGBg","Properties":{"id":"20240201213268-noov38e","updated":"20240201213268"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"c3Fs","Properties":{"id":""}},{"Type":"NodeCodeBlockCode","Data":"SELECT tag, difficulty, ROUND(AVG(score), 1) clip_avg_score\n\tFROM examination_info info  INNER JOIN exam_record record\n\t\tWHERE info.exam_id = record.exam_id\n\t\t\tAND  record.exam_id = 9001\n\t\t\t\tAND record.score NOT IN(\n\t\t\t\t\tSELECT MAX(score)\n\t\t\t\t\t\tFROM exam_record\n\t\t\t\t\t\t\tWHERE exam_id = 9001\n\t\t\t\t\t\t\t\tUNION ALL\n\t\t\t\t\tSELECT MIN(score)\n\t\t\t\t\t\tFROM exam_record\n\t\t\t\t\t\t\tWHERE exam_id = 9001\n\t\t\t\t)\n","Properties":{"id":""}},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}}]},{"ID":"20240201213269-c09umnf","Type":"NodeParagraph","Properties":{"id":"20240201213269-c09umnf","updated":"20240201213269"},"Children":[{"Type":"NodeText","Data":"这是最直观，也是最容易想到的解法，但是还有待改进，这算是投机取巧过关，其实严格按照题目要求应该这么写："}]},{"ID":"20240201213270-60wrc9q","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"CodeBlockFenceChar":96,"CodeBlockFenceLen":3,"CodeBlockOpenFence":"YGBg","CodeBlockInfo":"c3Fs","CodeBlockCloseFence":"YGBg","Properties":{"id":"20240201213270-60wrc9q","updated":"20240201213270"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"c3Fs","Properties":{"id":""}},{"Type":"NodeCodeBlockCode","Data":"SELECT tag,\n       difficulty,\n       ROUND(AVG(score), 1) clip_avg_score\nFROM examination_info info\nINNER JOIN exam_record record\nWHERE info.exam_id = record.exam_id\n  AND record.exam_id =\n    (SELECT examination_info.exam_id\n     FROM examination_info\n     WHERE tag = 'SQL'\n       AND difficulty = 'hard' )\n  AND record.score NOT IN\n    (SELECT MAX(score)\n     FROM exam_record\n     WHERE exam_id =\n         (SELECT examination_info.exam_id\n          FROM examination_info\n          WHERE tag = 'SQL'\n            AND difficulty = 'hard' )\n     UNION ALL SELECT MIN(score)\n     FROM exam_record\n     WHERE exam_id =\n         (SELECT examination_info.exam_id\n          FROM examination_info\n          WHERE tag = 'SQL'\n            AND difficulty = 'hard' ) )\n","Properties":{"id":""}},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}}]},{"ID":"20240201213271-5z0hld6","Type":"NodeParagraph","Properties":{"id":"20240201213271-5z0hld6","updated":"20240201213271"},"Children":[{"Type":"NodeText","Data":"然而你会发现，重复的语句非常多，所以可以利用"},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"WITH"},{"Type":"NodeText","Data":"来抽取公共部分"}]},{"ID":"20240201213272-21xv50v","Type":"NodeParagraph","Properties":{"id":"20240201213272-21xv50v","updated":"20240201213272"},"Children":[{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"strong code","TextMarkTextContent":"WITH"},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"strong","TextMarkTextContent":" 子句介绍"},{"Type":"NodeText","Data":"："}]},{"ID":"20240201213273-mt71mm3","Type":"NodeParagraph","Properties":{"id":"20240201213273-mt71mm3","updated":"20240201213273"},"Children":[{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"WITH"},{"Type":"NodeText","Data":" 子句，也称为公共表表达式（Common Table Expression，CTE），是在 SQL 查询中定义临时表的方式。它可以让我们在查询中创建一个临时命名的结果集，并且可以在同一查询中引用该结果集。"}]},{"ID":"20240201213274-z319tf4","Type":"NodeParagraph","Properties":{"id":"20240201213274-z319tf4","updated":"20240201213274"},"Children":[{"Type":"NodeText","Data":"基本用法："}]},{"ID":"20240201213275-wuarozh","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"CodeBlockFenceChar":96,"CodeBlockFenceLen":3,"CodeBlockOpenFence":"YGBg","CodeBlockInfo":"c3Fs","CodeBlockCloseFence":"YGBg","Properties":{"id":"20240201213275-wuarozh","updated":"20240201213275"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"c3Fs","Properties":{"id":""}},{"Type":"NodeCodeBlockCode","Data":"WITH cte_name (column1, column2, ..., columnN) AS (\n    -- 查询体\n    SELECT ...\n    FROM ...\n    WHERE ...\n)\n-- 主查询\nSELECT ...\nFROM cte_name\nWHERE ...\n","Properties":{"id":""}},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}}]},{"ID":"20240201213276-43iigca","Type":"NodeParagraph","Properties":{"id":"20240201213276-43iigca","updated":"20240201213276"},"Children":[{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"WITH"},{"Type":"NodeText","Data":" 子句由以下几个部分组成："}]},{"ID":"20240201213277-2glw1ai","Type":"NodeList","ListData":{"Tight":true,"BulletChar":45,"Padding":2,"Marker":"LQ==","Num":-1},"Properties":{"id":"20240201213277-2glw1ai","updated":"20240201213277"},"Children":[{"ID":"20240201213278-mlbzls2","Type":"NodeListItem","Data":"-","ListData":{"Tight":true,"BulletChar":45,"Padding":2,"Marker":"LQ==","Num":-1},"Properties":{"id":"20240201213278-mlbzls2","updated":"20240201213278"},"Children":[{"ID":"20240201213279-kxjsp34","Type":"NodeParagraph","Properties":{"id":"20240201213279-kxjsp34","updated":"20240201213279"},"Children":[{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"cte_name"},{"Type":"NodeText","Data":": 给临时表起一个名称，可以在主查询中引用。"}]}]},{"ID":"20240201213280-4mjlsc4","Type":"NodeListItem","Data":"-","ListData":{"Tight":true,"BulletChar":45,"Padding":2,"Marker":"LQ==","Num":-1},"Properties":{"id":"20240201213280-4mjlsc4","updated":"20240201213280"},"Children":[{"ID":"20240201213281-0dgru2e","Type":"NodeParagraph","Properties":{"id":"20240201213281-0dgru2e","updated":"20240201213281"},"Children":[{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"(column1, column2, ..., columnN)"},{"Type":"NodeText","Data":": 可选，指定临时表的列名。"}]}]},{"ID":"20240201213282-9hwqh5p","Type":"NodeListItem","Data":"-","ListData":{"Tight":true,"BulletChar":45,"Padding":2,"Marker":"LQ==","Num":-1},"Properties":{"id":"20240201213282-9hwqh5p","updated":"20240201213282"},"Children":[{"ID":"20240201213283-ymn9top","Type":"NodeParagraph","Properties":{"id":"20240201213283-ymn9top","updated":"20240201213283"},"Children":[{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"AS"},{"Type":"NodeText","Data":": 必需，表示开始定义临时表。"}]}]},{"ID":"20240201213284-2o0tpt1","Type":"NodeListItem","Data":"-","ListData":{"Tight":true,"BulletChar":45,"Padding":2,"Marker":"LQ==","Num":-1},"Properties":{"id":"20240201213284-2o0tpt1","updated":"20240201213284"},"Children":[{"ID":"20240201213285-3466iya","Type":"NodeParagraph","Properties":{"id":"20240201213285-3466iya","updated":"20240201213285"},"Children":[{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"CTE 查询体"},{"Type":"NodeText","Data":": 实际的查询语句，用于定义临时表中的数据。"}]}]}]},{"ID":"20240201213286-yknsost","Type":"NodeParagraph","Properties":{"id":"20240201213286-yknsost","updated":"20240201213286"},"Children":[{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"WITH"},{"Type":"NodeText","Data":" 子句的主要用途之一是增强查询的可读性和可维护性，尤其在涉及多个嵌套子查询或需要重复使用相同的查询逻辑时。通过将这些逻辑放在一个命名的临时表中，我们可以更清晰地组织查询，并消除重复代码。"}]},{"ID":"20240201213287-j3gq4gq","Type":"NodeParagraph","Properties":{"id":"20240201213287-j3gq4gq","updated":"20240201213287"},"Children":[{"Type":"NodeText","Data":"此外，"},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"WITH"},{"Type":"NodeText","Data":" 子句还可以在复杂的查询中实现递归查询。递归查询允许我们在单个查询中执行对同一表的多次迭代，逐步构建结果集。这在处理层次结构数据、组织结构和树状结构等场景中非常有用。"}]},{"ID":"20240201213288-mnkb5wf","Type":"NodeParagraph","Properties":{"id":"20240201213288-mnkb5wf","updated":"20240201213288"},"Children":[{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"strong","TextMarkTextContent":"小细节"},{"Type":"NodeText","Data":"：MySQL 5.7 版本以及之前的版本不支持在 "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"WITH"},{"Type":"NodeText","Data":" 子句中直接使用别名。"}]},{"ID":"20240201213289-2jvmlly","Type":"NodeParagraph","Properties":{"id":"20240201213289-2jvmlly","updated":"20240201213289"},"Children":[{"Type":"NodeText","Data":"下面是改进后的答案："}]},{"ID":"20240201213290-ll1t57z","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"CodeBlockFenceChar":96,"CodeBlockFenceLen":3,"CodeBlockOpenFence":"YGBg","CodeBlockInfo":"c3Fs","CodeBlockCloseFence":"YGBg","Properties":{"id":"20240201213290-ll1t57z","updated":"20240201213290"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"c3Fs","Properties":{"id":""}},{"Type":"NodeCodeBlockCode","Data":"WITH t1 AS\n  (SELECT record.*,\n          info.tag,\n          info.difficulty\n   FROM exam_record record\n   INNER JOIN examination_info info ON record.exam_id = info.exam_id\n   WHERE info.tag = \"SQL\"\n     AND info.difficulty = \"hard\" )\nSELECT tag,\n       difficulty,\n       ROUND(AVG(score), 1)\nFROM t1\nWHERE score NOT IN\n    (SELECT max(score)\n     FROM t1\n     UNION SELECT min(score)\n     FROM t1)\n","Properties":{"id":""}},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}}]},{"ID":"20240201213291-f8nk44f","Type":"NodeParagraph","Properties":{"id":"20240201213291-f8nk44f","updated":"20240201213291"},"Children":[{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"strong","TextMarkTextContent":"思路二："}]},{"ID":"20240201213292-rixv619","Type":"NodeList","ListData":{"Tight":true,"BulletChar":45,"Padding":2,"Marker":"LQ==","Num":-1},"Properties":{"id":"20240201213292-rixv619","updated":"20240201213292"},"Children":[{"ID":"20240201213293-b9lo8uz","Type":"NodeListItem","Data":"-","ListData":{"Tight":true,"BulletChar":45,"Padding":2,"Marker":"LQ==","Num":-1},"Properties":{"id":"20240201213293-b9lo8uz","updated":"20240201213293"},"Children":[{"ID":"20240201213294-ik881k0","Type":"NodeParagraph","Properties":{"id":"20240201213294-ik881k0","updated":"20240201213294"},"Children":[{"Type":"NodeText","Data":"筛选 SQL 高难度试卷："},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"where tag=\u0026quot;SQL\u0026quot; and difficulty=\u0026quot;hard\u0026quot;"}]}]},{"ID":"20240201213295-5olyku8","Type":"NodeListItem","Data":"-","ListData":{"Tight":true,"BulletChar":45,"Padding":2,"Marker":"LQ==","Num":-1},"Properties":{"id":"20240201213295-5olyku8","updated":"20240201213295"},"Children":[{"ID":"20240201213296-rr5ag31","Type":"NodeParagraph","Properties":{"id":"20240201213296-rr5ag31","updated":"20240201213296"},"Children":[{"Type":"NodeText","Data":"计算截断平均值："},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"(和-最大值-最小值) / (总个数-2)"},{"Type":"NodeText","Data":":"}]},{"ID":"20240201213297-sne3ho1","Type":"NodeList","ListData":{"Tight":true,"BulletChar":45,"Padding":2,"Marker":"LQ==","Num":-1},"Properties":{"id":"20240201213297-sne3ho1","updated":"20240201213297"},"Children":[{"ID":"20240201213298-7g0qpp2","Type":"NodeListItem","Data":"-","ListData":{"Tight":true,"BulletChar":45,"Padding":2,"Marker":"LQ==","Num":-1},"Properties":{"id":"20240201213298-7g0qpp2","updated":"20240201213298"},"Children":[{"ID":"20240201213299-9b0c68l","Type":"NodeParagraph","Properties":{"id":"20240201213299-9b0c68l","updated":"20240201213299"},"Children":[{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"(sum(score) - max(score) - min(score)) / (count(score) - 2)"}]}]},{"ID":"20240201213300-hqqysm6","Type":"NodeListItem","Data":"-","ListData":{"Tight":true,"BulletChar":45,"Padding":2,"Marker":"LQ==","Num":-1},"Properties":{"id":"20240201213300-hqqysm6","updated":"20240201213300"},"Children":[{"ID":"20240201213301-eaxea65","Type":"NodeParagraph","Properties":{"id":"20240201213301-eaxea65","updated":"20240201213301"},"Children":[{"Type":"NodeText","Data":"有一个缺点就是，如果最大值和最小值有多个，这个方法就很难筛选出来, 但是题目中说了-----\u003e"},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"strong code","TextMarkTextContent":"去掉一个最大值和一个最小值后的平均值"},{"Type":"NodeText","Data":", 所以这里可以用这个公式。"}]}]}]}]}]},{"ID":"20240201213302-d7fsnzn","Type":"NodeParagraph","Properties":{"id":"20240201213302-d7fsnzn","updated":"20240201213302"},"Children":[{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"strong","TextMarkTextContent":"答案二："}]},{"ID":"20240201213303-w1haf97","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"CodeBlockFenceChar":96,"CodeBlockFenceLen":3,"CodeBlockOpenFence":"YGBg","CodeBlockInfo":"c3Fs","CodeBlockCloseFence":"YGBg","Properties":{"id":"20240201213303-w1haf97","updated":"20240201213303"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"c3Fs","Properties":{"id":""}},{"Type":"NodeCodeBlockCode","Data":"SELECT info.tag,\n       info.difficulty,\n       ROUND((SUM(record.score)- MIN(record.score)- MAX(record.score)) / (COUNT(record.score)- 2), 1) AS clip_avg_score\nFROM examination_info info,\n     exam_record record\nWHERE info.exam_id = record.exam_id\n  AND info.tag = \"SQL\"\n  AND info.difficulty = \"hard\";\n","Properties":{"id":""}},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}}]},{"ID":"20240201213304-mmi61fx","Type":"NodeHeading","HeadingLevel":3,"Properties":{"id":"20240201213304-mmi61fx","updated":"20240201213304"},"Children":[{"Type":"NodeHeadingC8hMarker","Data":"### ","Properties":{"id":""}},{"Type":"NodeText","Data":"统计作答次数"}]},{"ID":"20240201213305-mmdhye5","Type":"NodeParagraph","Properties":{"id":"20240201213305-mmdhye5","updated":"20240201213305"},"Children":[{"Type":"NodeText","Data":"有一个试卷作答记录表 "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"exam_record"},{"Type":"NodeText","Data":"，请从中统计出总作答次数 "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"total_pv"},{"Type":"NodeText","Data":"、试卷已完成作答数 "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"complete_pv"},{"Type":"NodeText","Data":"、已完成的试卷数 "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"complete_exam_cnt"},{"Type":"NodeText","Data":"。"}]},{"ID":"20240201213306-qds07h6","Type":"NodeParagraph","Properties":{"id":"20240201213306-qds07h6","updated":"20240201213306"},"Children":[{"Type":"NodeText","Data":"示例数据 "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"exam_record"},{"Type":"NodeText","Data":" 表（"},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"uid"},{"Type":"NodeText","Data":" 用户 ID, "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"exam_id"},{"Type":"NodeText","Data":" 试卷 ID, "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"start_time"},{"Type":"NodeText","Data":" 开始作答时间, "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"submit_time"},{"Type":"NodeText","Data":" 交卷时间, "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"score"},{"Type":"NodeText","Data":" 得分）："}]},{"ID":"20240201213307-9gen36w","Type":"NodeTable","Data":"| id  | uid  | exam_id | start_time          | submit_time         | score  |\n| --- | ---- | ------- | ------------------- | ------------------- | ------ |\n| 1   | 1001 | 9001    | 2020-01-02 09:01:01 | 2020-01-02 09:21:01 | 80     |\n| 2   | 1001 | 9001    | 2021-05-02 10:01:01 | 2021-05-02 10:30:01 | 81     |\n| 3   | 1001 | 9001    | 2021-06-02 19:01:01 | 2021-06-02 19:31:01 | 84     |\n| 4   | 1001 | 9002    | 2021-09-05 19:01:01 | 2021-09-05 19:40:01 | 89     |\n| 5   | 1001 | 9001    | 2021-09-02 12:01:01 | (NULL)              | (NULL) |\n| 6   | 1001 | 9002    | 2021-09-01 12:01:01 | (NULL)              | (NULL) |\n| 7   | 1002 | 9002    | 2021-02-02 19:01:01 | 2021-02-02 19:30:01 | 87     |\n| 8   | 1002 | 9001    | 2021-05-05 18:01:01 | 2021-05-05 18:59:02 | 90     |\n| 9   | 1003 | 9001    | 2021-09-07 12:01:01 | 2021-09-07 10:31:01 | 50     |\n| 10  | 1004 | 9001    | 2021-09-06 10:01:01 | (NULL)              | (NULL) |","TableAligns":[0,0,0,0,0,0],"Properties":{"id":"20240201213307-9gen36w","updated":"20240201213307"},"Children":[{"Type":"NodeTableHead","Properties":{"id":""},"Children":[{"Type":"NodeTableRow","Properties":{"id":""},"Children":[{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"id"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"uid"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"exam_id"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"start_time"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"submit_time"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"score"}]}]}]},{"Type":"NodeTableRow","TableAligns":[0,0,0,0,0,0],"Properties":{"id":""},"Children":[{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"1"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"1001"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"9001"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"2020-01-02 09:01:01"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"2020-01-02 09:21:01"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"80"}]}]},{"Type":"NodeTableRow","TableAligns":[0,0,0,0,0,0],"Properties":{"id":""},"Children":[{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"2"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"1001"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"9001"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"2021-05-02 10:01:01"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"2021-05-02 10:30:01"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"81"}]}]},{"Type":"NodeTableRow","TableAligns":[0,0,0,0,0,0],"Properties":{"id":""},"Children":[{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"3"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"1001"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"9001"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"2021-06-02 19:01:01"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"2021-06-02 19:31:01"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"84"}]}]},{"Type":"NodeTableRow","TableAligns":[0,0,0,0,0,0],"Properties":{"id":""},"Children":[{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"4"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"1001"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"9002"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"2021-09-05 19:01:01"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"2021-09-05 19:40:01"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"89"}]}]},{"Type":"NodeTableRow","TableAligns":[0,0,0,0,0,0],"Properties":{"id":""},"Children":[{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"5"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"1001"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"9001"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"2021-09-02 12:01:01"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"(NULL)"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"(NULL)"}]}]},{"Type":"NodeTableRow","TableAligns":[0,0,0,0,0,0],"Properties":{"id":""},"Children":[{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"6"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"1001"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"9002"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"2021-09-01 12:01:01"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"(NULL)"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"(NULL)"}]}]},{"Type":"NodeTableRow","TableAligns":[0,0,0,0,0,0],"Properties":{"id":""},"Children":[{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"7"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"1002"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"9002"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"2021-02-02 19:01:01"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"2021-02-02 19:30:01"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"87"}]}]},{"Type":"NodeTableRow","TableAligns":[0,0,0,0,0,0],"Properties":{"id":""},"Children":[{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"8"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"1002"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"9001"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"2021-05-05 18:01:01"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"2021-05-05 18:59:02"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"90"}]}]},{"Type":"NodeTableRow","TableAligns":[0,0,0,0,0,0],"Properties":{"id":""},"Children":[{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"9"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"1003"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"9001"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"2021-09-07 12:01:01"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"2021-09-07 10:31:01"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"50"}]}]},{"Type":"NodeTableRow","TableAligns":[0,0,0,0,0,0],"Properties":{"id":""},"Children":[{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"10"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"1004"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"9001"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"2021-09-06 10:01:01"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"(NULL)"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"(NULL)"}]}]}]},{"ID":"20240201213308-fynws8r","Type":"NodeParagraph","Properties":{"id":"20240201213308-fynws8r","updated":"20240201213308"},"Children":[{"Type":"NodeText","Data":"示例输出："}]},{"ID":"20240201213309-f41p1xg","Type":"NodeTable","Data":"| total_pv | complete_pv | complete_exam_cnt |\n| -------- | ----------- | ----------------- |\n| 11       | 7           | 2                 |","TableAligns":[0,0,0],"Properties":{"id":"20240201213309-f41p1xg","updated":"20240201213309"},"Children":[{"Type":"NodeTableHead","Properties":{"id":""},"Children":[{"Type":"NodeTableRow","Properties":{"id":""},"Children":[{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"total_pv"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"complete_pv"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"complete_exam_cnt"}]}]}]},{"Type":"NodeTableRow","TableAligns":[0,0,0],"Properties":{"id":""},"Children":[{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"11"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"7"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"2"}]}]}]},{"ID":"20240201213310-xlk1ih9","Type":"NodeParagraph","Properties":{"id":"20240201213310-xlk1ih9","updated":"20240201213310"},"Children":[{"Type":"NodeText","Data":"解释：表示截止当前，有 11 次试卷作答记录，已完成的作答次数为 7 次（中途退出的为未完成状态，其交卷时间和份数为 NULL），已完成的试卷有 9001 和 9002 两份。"}]},{"ID":"20240201213311-t79cvvg","Type":"NodeParagraph","Properties":{"id":"20240201213311-t79cvvg","updated":"20240201213311"},"Children":[{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"strong","TextMarkTextContent":"思路"},{"Type":"NodeText","Data":"： 这题一看到统计次数，肯定第一时间就要想到用"},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"COUNT"},{"Type":"NodeText","Data":"这个函数来解决，问题是要统计不同的记录，该怎么来写？使用子查询就能解决这个题目(这题用 case when 也能写出来，解法类似，逻辑不同而已)；首先在做这个题之前，让我们先来了解一下"},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"COUNT"},{"Type":"NodeText","Data":"的基本用法；"}]},{"ID":"20240201213312-e0o9m4q","Type":"NodeParagraph","Properties":{"id":"20240201213312-e0o9m4q","updated":"20240201213312"},"Children":[{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"COUNT()"},{"Type":"NodeText","Data":" 函数的基本语法如下所示："}]},{"ID":"20240201213313-cyqlzox","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"CodeBlockFenceChar":96,"CodeBlockFenceLen":3,"CodeBlockOpenFence":"YGBg","CodeBlockInfo":"c3Fs","CodeBlockCloseFence":"YGBg","Properties":{"id":"20240201213313-cyqlzox","updated":"20240201213313"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"c3Fs","Properties":{"id":""}},{"Type":"NodeCodeBlockCode","Data":"COUNT(expression)\n","Properties":{"id":""}},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}}]},{"ID":"20240201213314-2dwxhmx","Type":"NodeParagraph","Properties":{"id":"20240201213314-2dwxhmx","updated":"20240201213314"},"Children":[{"Type":"NodeText","Data":"其中，"},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"expression"},{"Type":"NodeText","Data":" 可以是列名、表达式、常量或通配符。下面是一些常见的用法示例："}]},{"ID":"20240201213315-9xnxnj1","Type":"NodeList","ListData":{"Typ":1,"Tight":true,"Start":1,"Delimiter":46,"Padding":3,"Marker":"MQ==","Num":1},"Properties":{"id":"20240201213315-9xnxnj1","updated":"20240201213315"},"Children":[{"ID":"20240201213316-n1kvw1b","Type":"NodeListItem","Data":"1","ListData":{"Typ":1,"Tight":true,"Start":1,"Delimiter":46,"Padding":3,"Marker":"MQ==","Num":1},"Properties":{"id":"20240201213316-n1kvw1b","updated":"20240201213316"},"Children":[{"ID":"20240201213317-hjabi27","Type":"NodeParagraph","Properties":{"id":"20240201213317-hjabi27","updated":"20240201213317"},"Children":[{"Type":"NodeText","Data":"计算表中所有行的数量："}]}]}]},{"ID":"20240201213318-wtrt5zk","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"CodeBlockFenceChar":96,"CodeBlockFenceLen":3,"CodeBlockOpenFence":"YGBg","CodeBlockInfo":"c3Fs","CodeBlockCloseFence":"YGBg","Properties":{"id":"20240201213318-wtrt5zk","updated":"20240201213318"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"c3Fs","Properties":{"id":""}},{"Type":"NodeCodeBlockCode","Data":"SELECT COUNT(*) FROM table_name;\n","Properties":{"id":""}},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}}]},{"ID":"20240201213319-xsb8365","Type":"NodeList","ListData":{"Typ":1,"Tight":true,"Start":2,"Delimiter":46,"Padding":3,"Marker":"Mg==","Num":2},"Properties":{"id":"20240201213319-xsb8365","updated":"20240201213319"},"Children":[{"ID":"20240201213320-weq3ie2","Type":"NodeListItem","Data":"2","ListData":{"Typ":1,"Tight":true,"Start":2,"Delimiter":46,"Padding":3,"Marker":"Mg==","Num":2},"Properties":{"id":"20240201213320-weq3ie2","updated":"20240201213320"},"Children":[{"ID":"20240201213321-46a79fm","Type":"NodeParagraph","Properties":{"id":"20240201213321-46a79fm","updated":"20240201213321"},"Children":[{"Type":"NodeText","Data":"计算特定列非空（不为 NULL）值的数量："}]}]}]},{"ID":"20240201213322-df07hib","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"CodeBlockFenceChar":96,"CodeBlockFenceLen":3,"CodeBlockOpenFence":"YGBg","CodeBlockInfo":"c3Fs","CodeBlockCloseFence":"YGBg","Properties":{"id":"20240201213322-df07hib","updated":"20240201213322"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"c3Fs","Properties":{"id":""}},{"Type":"NodeCodeBlockCode","Data":"SELECT COUNT(column_name) FROM table_name;\n","Properties":{"id":""}},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}}]},{"ID":"20240201213323-kw03isp","Type":"NodeList","ListData":{"Typ":1,"Tight":true,"Start":3,"Delimiter":46,"Padding":3,"Marker":"Mw==","Num":3},"Properties":{"id":"20240201213323-kw03isp","updated":"20240201213323"},"Children":[{"ID":"20240201213324-zrxlvq8","Type":"NodeListItem","Data":"3","ListData":{"Typ":1,"Tight":true,"Start":3,"Delimiter":46,"Padding":3,"Marker":"Mw==","Num":3},"Properties":{"id":"20240201213324-zrxlvq8","updated":"20240201213324"},"Children":[{"ID":"20240201213325-wxp222m","Type":"NodeParagraph","Properties":{"id":"20240201213325-wxp222m","updated":"20240201213325"},"Children":[{"Type":"NodeText","Data":"计算满足条件的行数："}]}]}]},{"ID":"20240201213326-8yjnkmb","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"CodeBlockFenceChar":96,"CodeBlockFenceLen":3,"CodeBlockOpenFence":"YGBg","CodeBlockInfo":"c3Fs","CodeBlockCloseFence":"YGBg","Properties":{"id":"20240201213326-8yjnkmb","updated":"20240201213326"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"c3Fs","Properties":{"id":""}},{"Type":"NodeCodeBlockCode","Data":"SELECT COUNT(*) FROM table_name WHERE condition;\n","Properties":{"id":""}},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}}]},{"ID":"20240201213327-2d0puoe","Type":"NodeList","ListData":{"Typ":1,"Tight":true,"Start":4,"Delimiter":46,"Padding":3,"Marker":"NA==","Num":4},"Properties":{"id":"20240201213327-2d0puoe","updated":"20240201213327"},"Children":[{"ID":"20240201213328-577moit","Type":"NodeListItem","Data":"4","ListData":{"Typ":1,"Tight":true,"Start":4,"Delimiter":46,"Padding":3,"Marker":"NA==","Num":4},"Properties":{"id":"20240201213328-577moit","updated":"20240201213328"},"Children":[{"ID":"20240201213329-fy7bi1x","Type":"NodeParagraph","Properties":{"id":"20240201213329-fy7bi1x","updated":"20240201213329"},"Children":[{"Type":"NodeText","Data":"结合 "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"GROUP BY"},{"Type":"NodeText","Data":" 使用，计算分组后每个组的行数："}]}]}]},{"ID":"20240201213330-hxz5ud8","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"CodeBlockFenceChar":96,"CodeBlockFenceLen":3,"CodeBlockOpenFence":"YGBg","CodeBlockInfo":"c3Fs","CodeBlockCloseFence":"YGBg","Properties":{"id":"20240201213330-hxz5ud8","updated":"20240201213330"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"c3Fs","Properties":{"id":""}},{"Type":"NodeCodeBlockCode","Data":"SELECT column_name, COUNT(*) FROM table_name GROUP BY column_name;\n","Properties":{"id":""}},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}}]},{"ID":"20240201213331-8k4e3a3","Type":"NodeList","ListData":{"Typ":1,"Tight":true,"Start":5,"Delimiter":46,"Padding":3,"Marker":"NQ==","Num":5},"Properties":{"id":"20240201213331-8k4e3a3","updated":"20240201213331"},"Children":[{"ID":"20240201213332-914f0x8","Type":"NodeListItem","Data":"5","ListData":{"Typ":1,"Tight":true,"Start":5,"Delimiter":46,"Padding":3,"Marker":"NQ==","Num":5},"Properties":{"id":"20240201213332-914f0x8","updated":"20240201213332"},"Children":[{"ID":"20240201213333-gzl1fy3","Type":"NodeParagraph","Properties":{"id":"20240201213333-gzl1fy3","updated":"20240201213333"},"Children":[{"Type":"NodeText","Data":"计算不同列组合的唯一组合数："}]}]}]},{"ID":"20240201213334-os6f33o","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"CodeBlockFenceChar":96,"CodeBlockFenceLen":3,"CodeBlockOpenFence":"YGBg","CodeBlockInfo":"c3Fs","CodeBlockCloseFence":"YGBg","Properties":{"id":"20240201213334-os6f33o","updated":"20240201213334"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"c3Fs","Properties":{"id":""}},{"Type":"NodeCodeBlockCode","Data":"SELECT COUNT(DISTINCT column_name1, column_name2) FROM table_name;\n","Properties":{"id":""}},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}}]},{"ID":"20240201213335-a4kprca","Type":"NodeParagraph","Properties":{"id":"20240201213335-a4kprca","updated":"20240201213335"},"Children":[{"Type":"NodeText","Data":"在使用 "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"COUNT()"},{"Type":"NodeText","Data":" 函数时，如果不指定任何参数或者使用 "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"COUNT(*)"},{"Type":"NodeText","Data":"，将会计算所有行的数量。而如果使用列名，则只会计算该列非空值的数量。"}]},{"ID":"20240201213336-f7zm38v","Type":"NodeParagraph","Properties":{"id":"20240201213336-f7zm38v","updated":"20240201213336"},"Children":[{"Type":"NodeText","Data":"另外，"},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"COUNT()"},{"Type":"NodeText","Data":" 函数的结果是一个整数值。即使结果是零，也不会返回 NULL，这点需要谨记。"}]},{"ID":"20240201213337-6y9g3ur","Type":"NodeParagraph","Properties":{"id":"20240201213337-6y9g3ur","updated":"20240201213337"},"Children":[{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"strong","TextMarkTextContent":"答案"},{"Type":"NodeText","Data":"："}]},{"ID":"20240201213338-ewv0n9g","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"CodeBlockFenceChar":96,"CodeBlockFenceLen":3,"CodeBlockOpenFence":"YGBg","CodeBlockInfo":"c3Fs","CodeBlockCloseFence":"YGBg","Properties":{"id":"20240201213338-ewv0n9g","updated":"20240201213338"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"c3Fs","Properties":{"id":""}},{"Type":"NodeCodeBlockCode","Data":"SELECT\n\tcount(*) total_pv,\n\t( SELECT count(*) FROM exam_record WHERE submit_time IS NOT NULL ) complete_pv,\n\t( SELECT COUNT( DISTINCT exam_id, score IS NOT NULL OR NULL ) FROM exam_record ) complete_exam_cnt\nFROM\n\texam_record\n","Properties":{"id":""}},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}}]},{"ID":"20240201213339-vzq51bj","Type":"NodeParagraph","Properties":{"id":"20240201213339-vzq51bj","updated":"20240201213339"},"Children":[{"Type":"NodeText","Data":"这里着重说一下"},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"COUNT( DISTINCT exam_id, score IS NOT NULL OR NULL )"},{"Type":"NodeText","Data":"这一句，判断 score 是否为 null ，如果是即为真，如果不是返回 null；注意这里如果不加 "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"or null"},{"Type":"NodeText","Data":" 在不是 null 的情况下只会返回 false 也就是返回 0；"}]},{"ID":"20240201213340-b3kft8j","Type":"NodeParagraph","Properties":{"id":"20240201213340-b3kft8j","updated":"20240201213340"},"Children":[{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"COUNT"},{"Type":"NodeText","Data":"本身是不可以对多列求行数的，"},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"distinct"},{"Type":"NodeText","Data":"的加入是的多列成为一个整体，可以求出现的行数了;"},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"count distinct"},{"Type":"NodeText","Data":"在计算时只返回非 null 的行, 这个也要注意；"}]},{"ID":"20240201213341-50rozst","Type":"NodeParagraph","Properties":{"id":"20240201213341-50rozst","updated":"20240201213341"},"Children":[{"Type":"NodeText","Data":"另外通过本题 get 到了------\u003ecount 加条件常用句式"},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"count( 列判断 or null)"}]},{"ID":"20240201213342-97in6mp","Type":"NodeHeading","HeadingLevel":3,"Properties":{"id":"20240201213342-97in6mp","updated":"20240201213342"},"Children":[{"Type":"NodeHeadingC8hMarker","Data":"### ","Properties":{"id":""}},{"Type":"NodeText","Data":"得分不小于平均分的最低分"}]},{"ID":"20240201213343-exbiyia","Type":"NodeParagraph","Properties":{"id":"20240201213343-exbiyia","updated":"20240201213343"},"Children":[{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"strong","TextMarkTextContent":"描述"},{"Type":"NodeText","Data":"： 请从试卷作答记录表中找到 SQL 试卷得分不小于该类试卷平均得分的用户最低得分。"}]},{"ID":"20240201213344-pfu7s5d","Type":"NodeParagraph","Properties":{"id":"20240201213344-pfu7s5d","updated":"20240201213344"},"Children":[{"Type":"NodeText","Data":"示例数据 exam_record 表（uid 用户 ID, exam_id 试卷 ID, start_time 开始作答时间, submit_time 交卷时间, score 得分）："}]},{"ID":"20240201213345-k2kzl1l","Type":"NodeTable","Data":"| id  | uid  | exam_id | start_time          | submit_time         | score  |\n| --- | ---- | ------- | ------------------- | ------------------- | ------ |\n| 1   | 1001 | 9001    | 2020-01-02 09:01:01 | 2020-01-02 09:21:01 | 80     |\n| 2   | 1002 | 9001    | 2021-09-05 19:01:01 | 2021-09-05 19:40:01 | 89     |\n| 3   | 1002 | 9002    | 2021-09-02 12:01:01 | (NULL)              | (NULL) |\n| 4   | 1002 | 9003    | 2021-09-01 12:01:01 | (NULL)              | (NULL) |\n| 5   | 1002 | 9001    | 2021-02-02 19:01:01 | 2021-02-02 19:30:01 | 87     |\n| 6   | 1002 | 9002    | 2021-05-05 18:01:01 | 2021-05-05 18:59:02 | 90     |\n| 7   | 1003 | 9002    | 2021-02-06 12:01:01 | (NULL)              | (NULL) |\n| 8   | 1003 | 9003    | 2021-09-07 10:01:01 | 2021-09-07 10:31:01 | 86     |\n| 9   | 1004 | 9003    | 2021-09-06 12:01:01 | (NULL)              | (NULL) |","TableAligns":[0,0,0,0,0,0],"Properties":{"id":"20240201213345-k2kzl1l","updated":"20240201213345"},"Children":[{"Type":"NodeTableHead","Properties":{"id":""},"Children":[{"Type":"NodeTableRow","Properties":{"id":""},"Children":[{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"id"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"uid"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"exam_id"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"start_time"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"submit_time"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"score"}]}]}]},{"Type":"NodeTableRow","TableAligns":[0,0,0,0,0,0],"Properties":{"id":""},"Children":[{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"1"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"1001"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"9001"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"2020-01-02 09:01:01"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"2020-01-02 09:21:01"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"80"}]}]},{"Type":"NodeTableRow","TableAligns":[0,0,0,0,0,0],"Properties":{"id":""},"Children":[{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"2"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"1002"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"9001"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"2021-09-05 19:01:01"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"2021-09-05 19:40:01"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"89"}]}]},{"Type":"NodeTableRow","TableAligns":[0,0,0,0,0,0],"Properties":{"id":""},"Children":[{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"3"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"1002"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"9002"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"2021-09-02 12:01:01"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"(NULL)"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"(NULL)"}]}]},{"Type":"NodeTableRow","TableAligns":[0,0,0,0,0,0],"Properties":{"id":""},"Children":[{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"4"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"1002"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"9003"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"2021-09-01 12:01:01"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"(NULL)"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"(NULL)"}]}]},{"Type":"NodeTableRow","TableAligns":[0,0,0,0,0,0],"Properties":{"id":""},"Children":[{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"5"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"1002"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"9001"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"2021-02-02 19:01:01"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"2021-02-02 19:30:01"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"87"}]}]},{"Type":"NodeTableRow","TableAligns":[0,0,0,0,0,0],"Properties":{"id":""},"Children":[{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"6"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"1002"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"9002"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"2021-05-05 18:01:01"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"2021-05-05 18:59:02"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"90"}]}]},{"Type":"NodeTableRow","TableAligns":[0,0,0,0,0,0],"Properties":{"id":""},"Children":[{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"7"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"1003"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"9002"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"2021-02-06 12:01:01"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"(NULL)"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"(NULL)"}]}]},{"Type":"NodeTableRow","TableAligns":[0,0,0,0,0,0],"Properties":{"id":""},"Children":[{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"8"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"1003"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"9003"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"2021-09-07 10:01:01"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"2021-09-07 10:31:01"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"86"}]}]},{"Type":"NodeTableRow","TableAligns":[0,0,0,0,0,0],"Properties":{"id":""},"Children":[{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"9"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"1004"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"9003"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"2021-09-06 12:01:01"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"(NULL)"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"(NULL)"}]}]}]},{"ID":"20240201213346-s9k3ig9","Type":"NodeParagraph","Properties":{"id":"20240201213346-s9k3ig9","updated":"20240201213346"},"Children":[{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"examination_info"},{"Type":"NodeText","Data":" 表（"},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"exam_id"},{"Type":"NodeText","Data":" 试卷 ID, "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"tag"},{"Type":"NodeText","Data":" 试卷类别, "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"difficulty"},{"Type":"NodeText","Data":" 试卷难度, "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"duration"},{"Type":"NodeText","Data":" 考试时长, "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"release_time"},{"Type":"NodeText","Data":" 发布时间）"}]},{"ID":"20240201213347-vk77wvp","Type":"NodeTable","Data":"| id  | exam_id | tag  | difficulty | duration | release_time        |\n| --- | ------- | ---- | ---------- | -------- | ------------------- |\n| 1   | 9001    | SQL  | hard       | 60       | 2020-01-01 10:00:00 |\n| 2   | 9002    | SQL  | easy       | 60       | 2020-02-01 10:00:00 |\n| 3   | 9003    | 算法 | medium     | 80       | 2020-08-02 10:00:00 |","TableAligns":[0,0,0,0,0,0],"Properties":{"id":"20240201213347-vk77wvp","updated":"20240201213347"},"Children":[{"Type":"NodeTableHead","Properties":{"id":""},"Children":[{"Type":"NodeTableRow","Properties":{"id":""},"Children":[{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"id"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"exam_id"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"tag"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"difficulty"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"duration"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"release_time"}]}]}]},{"Type":"NodeTableRow","TableAligns":[0,0,0,0,0,0],"Properties":{"id":""},"Children":[{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"1"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"9001"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"SQL"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"hard"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"60"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"2020-01-01 10:00:00"}]}]},{"Type":"NodeTableRow","TableAligns":[0,0,0,0,0,0],"Properties":{"id":""},"Children":[{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"2"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"9002"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"SQL"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"easy"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"60"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"2020-02-01 10:00:00"}]}]},{"Type":"NodeTableRow","TableAligns":[0,0,0,0,0,0],"Properties":{"id":""},"Children":[{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"3"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"9003"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"算法"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"medium"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"80"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"2020-08-02 10:00:00"}]}]}]},{"ID":"20240201213348-7cd6rl7","Type":"NodeParagraph","Properties":{"id":"20240201213348-7cd6rl7","updated":"20240201213348"},"Children":[{"Type":"NodeText","Data":"示例输出数据："}]},{"ID":"20240201213349-9p60a84","Type":"NodeTable","Data":"| min_score_over_avg |\n| ------------------ |\n| 87                 |","TableAligns":[0],"Properties":{"id":"20240201213349-9p60a84","updated":"20240201213349"},"Children":[{"Type":"NodeTableHead","Properties":{"id":""},"Children":[{"Type":"NodeTableRow","Properties":{"id":""},"Children":[{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"min_score_over_avg"}]}]}]},{"Type":"NodeTableRow","TableAligns":[0],"Properties":{"id":""},"Children":[{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"87"}]}]}]},{"ID":"20240201213350-1fbqufp","Type":"NodeParagraph","Properties":{"id":"20240201213350-1fbqufp","updated":"20240201213350"},"Children":[{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"strong","TextMarkTextContent":"解释"},{"Type":"NodeText","Data":"：试卷 9001 和 9002 为 SQL 类别，作答这两份试卷的得分有[80,89,87,90]，平均分为 86.5，不小于平均分的最小分数为 87"}]},{"ID":"20240201213351-rvos2au","Type":"NodeParagraph","Properties":{"id":"20240201213351-rvos2au","updated":"20240201213351"},"Children":[{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"strong","TextMarkTextContent":"思路"},{"Type":"NodeText","Data":"：这类题目第一眼看确实很复杂， 因为不知道从哪入手，但是当我们仔细读题审题后，要学会抓住题干中的关键信息。以本题为例："},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"请从试卷作答记录表中找到SQL试卷得分不小于该类试卷平均得分的用户最低得分。"},{"Type":"NodeText","Data":"你能一眼从中提取哪些有效信息来作为解题思路？"}]},{"ID":"20240201213352-g02x0ad","Type":"NodeParagraph","Properties":{"id":"20240201213352-g02x0ad","updated":"20240201213352"},"Children":[{"Type":"NodeText","Data":"第一条：找到"},{"Type":"NodeTextMark","TextMarkType":"mark","TextMarkTextContent":"SQL"},{"Type":"NodeText","Data":"试卷得分"}]},{"ID":"20240201213353-jjigtaf","Type":"NodeParagraph","Properties":{"id":"20240201213353-jjigtaf","updated":"20240201213353"},"Children":[{"Type":"NodeText","Data":"第二条：该类试卷"},{"Type":"NodeTextMark","TextMarkType":"mark","TextMarkTextContent":"平均得分"}]},{"ID":"20240201213354-qvjrhxg","Type":"NodeParagraph","Properties":{"id":"20240201213354-qvjrhxg","updated":"20240201213354"},"Children":[{"Type":"NodeText","Data":"第三条：该类试卷的"},{"Type":"NodeTextMark","TextMarkType":"mark","TextMarkTextContent":"用户最低得分"}]},{"ID":"20240201213355-1mdtgk1","Type":"NodeParagraph","Properties":{"id":"20240201213355-1mdtgk1","updated":"20240201213355"},"Children":[{"Type":"NodeText","Data":"然后中间的 “桥梁” 就是"},{"Type":"NodeTextMark","TextMarkType":"mark","TextMarkTextContent":"不小于"}]},{"ID":"20240201213356-xjn43ze","Type":"NodeParagraph","Properties":{"id":"20240201213356-xjn43ze","updated":"20240201213356"},"Children":[{"Type":"NodeText","Data":"将条件拆分后，先逐步完成"}]},{"ID":"20240201213357-irt91ba","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"CodeBlockFenceChar":96,"CodeBlockFenceLen":3,"CodeBlockOpenFence":"YGBg","CodeBlockInfo":"c3Fs","CodeBlockCloseFence":"YGBg","Properties":{"id":"20240201213357-irt91ba","updated":"20240201213357"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"c3Fs","Properties":{"id":""}},{"Type":"NodeCodeBlockCode","Data":"-- 找出tag为‘SQL’的得分   【80, 89,87,90】\n-- 再算出这一组的平均得分\nselect  ROUND(AVG(score), 1) from  examination_info info INNER JOIN exam_record record\n\twhere info.exam_id = record.exam_id\n\tand tag= 'SQL'\n","Properties":{"id":""}},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}}]},{"ID":"20240201213358-4z2bzfd","Type":"NodeParagraph","Properties":{"id":"20240201213358-4z2bzfd","updated":"20240201213358"},"Children":[{"Type":"NodeText","Data":"然后再找出该类试卷的最低得分，接着将结果集"},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"【80, 89,87,90】"},{"Type":"NodeText","Data":" 去和平均分数作比较，方可得出最终答案。"}]},{"ID":"20240201213359-jg1ak71","Type":"NodeParagraph","Properties":{"id":"20240201213359-jg1ak71","updated":"20240201213359"},"Children":[{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"strong","TextMarkTextContent":"答案"},{"Type":"NodeText","Data":"："}]},{"ID":"20240201213360-2dmj2kv","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"CodeBlockFenceChar":96,"CodeBlockFenceLen":3,"CodeBlockOpenFence":"YGBg","CodeBlockInfo":"c3Fs","CodeBlockCloseFence":"YGBg","Properties":{"id":"20240201213360-2dmj2kv","updated":"20240201213360"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"c3Fs","Properties":{"id":""}},{"Type":"NodeCodeBlockCode","Data":"SELECT MIN(score) AS min_score_over_avg\nFROM examination_info info\nINNER JOIN exam_record record\nWHERE info.exam_id = record.exam_id\n  AND tag= 'SQL'\n  AND score \u003e=\n    (SELECT ROUND(AVG(score), 1)\n     FROM examination_info info\n     INNER JOIN exam_record record\n     WHERE info.exam_id = record.exam_id\n       AND tag= 'SQL' )\n","Properties":{"id":""}},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}}]},{"ID":"20240201213361-4ezdrlc","Type":"NodeParagraph","Properties":{"id":"20240201213361-4ezdrlc","updated":"20240201213361"},"Children":[{"Type":"NodeText","Data":"其实这类题目给出的要求看似很 “绕”，但其实仔细梳理一遍，将大条件拆分成小条件，逐个拆分完以后，最后将所有条件拼凑起来。反正只要记住："},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"strong","TextMarkTextContent":"抓主干，理分支"},{"Type":"NodeText","Data":"，问题便迎刃而解。"}]},{"ID":"20240201213362-0ee862y","Type":"NodeHeading","HeadingLevel":2,"Properties":{"id":"20240201213362-0ee862y","updated":"20240201213362"},"Children":[{"Type":"NodeHeadingC8hMarker","Data":"## ","Properties":{"id":""}},{"Type":"NodeText","Data":"分组查询"}]},{"ID":"20240201213363-nzjowzu","Type":"NodeHeading","HeadingLevel":3,"Properties":{"id":"20240201213363-nzjowzu","updated":"20240201213363"},"Children":[{"Type":"NodeHeadingC8hMarker","Data":"### ","Properties":{"id":""}},{"Type":"NodeText","Data":"平均活跃天数和月活人数"}]},{"ID":"20240201213364-nkxiqfy","Type":"NodeParagraph","Properties":{"id":"20240201213364-nkxiqfy","updated":"20240201213364"},"Children":[{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"strong","TextMarkTextContent":"描述"},{"Type":"NodeText","Data":"：用户在牛客试卷作答区作答记录存储在表 "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"exam_record"},{"Type":"NodeText","Data":" 中，内容如下："}]},{"ID":"20240201213365-a3a6ddf","Type":"NodeParagraph","Properties":{"id":"20240201213365-a3a6ddf","updated":"20240201213365"},"Children":[{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"exam_record"},{"Type":"NodeText","Data":" 表（"},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"uid"},{"Type":"NodeText","Data":" 用户 ID, "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"exam_id"},{"Type":"NodeText","Data":" 试卷 ID, "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"start_time"},{"Type":"NodeText","Data":" 开始作答时间, "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"submit_time"},{"Type":"NodeText","Data":" 交卷时间, "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"score"},{"Type":"NodeText","Data":" 得分）"}]},{"ID":"20240201213366-cbvz4jq","Type":"NodeTable","Data":"| id  | uid  | exam_id | start_time          | submit_time         | score  |\n| --- | ---- | ------- | ------------------- | ------------------- | ------ |\n| 1   | 1001 | 9001    | 2021-07-02 09:01:01 | 2021-07-02 09:21:01 | 80     |\n| 2   | 1002 | 9001    | 2021-09-05 19:01:01 | 2021-09-05 19:40:01 | 81     |\n| 3   | 1002 | 9002    | 2021-09-02 12:01:01 | (NULL)              | (NULL) |\n| 4   | 1002 | 9003    | 2021-09-01 12:01:01 | (NULL)              | (NULL) |\n| 5   | 1002 | 9001    | 2021-07-02 19:01:01 | 2021-07-02 19:30:01 | 82     |\n| 6   | 1002 | 9002    | 2021-07-05 18:01:01 | 2021-07-05 18:59:02 | 90     |\n| 7   | 1003 | 9002    | 2021-07-06 12:01:01 | (NULL)              | (NULL) |\n| 8   | 1003 | 9003    | 2021-09-07 10:01:01 | 2021-09-07 10:31:01 | 86     |\n| 9   | 1004 | 9003    | 2021-09-06 12:01:01 | (NULL)              | (NULL) |\n| 10  | 1002 | 9003    | 2021-09-01 12:01:01 | 2021-09-01 12:31:01 | 81     |\n| 11  | 1005 | 9001    | 2021-09-01 12:01:01 | 2021-09-01 12:31:01 | 88     |\n| 12  | 1006 | 9002    | 2021-09-02 12:11:01 | 2021-09-02 12:31:01 | 89     |\n| 13  | 1007 | 9002    | 2020-09-02 12:11:01 | 2020-09-02 12:31:01 | 89     |","TableAligns":[0,0,0,0,0,0],"Properties":{"id":"20240201213366-cbvz4jq","updated":"20240201213366"},"Children":[{"Type":"NodeTableHead","Properties":{"id":""},"Children":[{"Type":"NodeTableRow","Properties":{"id":""},"Children":[{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"id"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"uid"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"exam_id"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"start_time"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"submit_time"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"score"}]}]}]},{"Type":"NodeTableRow","TableAligns":[0,0,0,0,0,0],"Properties":{"id":""},"Children":[{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"1"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"1001"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"9001"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"2021-07-02 09:01:01"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"2021-07-02 09:21:01"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"80"}]}]},{"Type":"NodeTableRow","TableAligns":[0,0,0,0,0,0],"Properties":{"id":""},"Children":[{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"2"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"1002"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"9001"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"2021-09-05 19:01:01"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"2021-09-05 19:40:01"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"81"}]}]},{"Type":"NodeTableRow","TableAligns":[0,0,0,0,0,0],"Properties":{"id":""},"Children":[{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"3"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"1002"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"9002"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"2021-09-02 12:01:01"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"(NULL)"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"(NULL)"}]}]},{"Type":"NodeTableRow","TableAligns":[0,0,0,0,0,0],"Properties":{"id":""},"Children":[{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"4"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"1002"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"9003"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"2021-09-01 12:01:01"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"(NULL)"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"(NULL)"}]}]},{"Type":"NodeTableRow","TableAligns":[0,0,0,0,0,0],"Properties":{"id":""},"Children":[{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"5"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"1002"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"9001"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"2021-07-02 19:01:01"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"2021-07-02 19:30:01"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"82"}]}]},{"Type":"NodeTableRow","TableAligns":[0,0,0,0,0,0],"Properties":{"id":""},"Children":[{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"6"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"1002"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"9002"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"2021-07-05 18:01:01"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"2021-07-05 18:59:02"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"90"}]}]},{"Type":"NodeTableRow","TableAligns":[0,0,0,0,0,0],"Properties":{"id":""},"Children":[{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"7"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"1003"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"9002"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"2021-07-06 12:01:01"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"(NULL)"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"(NULL)"}]}]},{"Type":"NodeTableRow","TableAligns":[0,0,0,0,0,0],"Properties":{"id":""},"Children":[{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"8"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"1003"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"9003"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"2021-09-07 10:01:01"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"2021-09-07 10:31:01"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"86"}]}]},{"Type":"NodeTableRow","TableAligns":[0,0,0,0,0,0],"Properties":{"id":""},"Children":[{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"9"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"1004"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"9003"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"2021-09-06 12:01:01"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"(NULL)"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"(NULL)"}]}]},{"Type":"NodeTableRow","TableAligns":[0,0,0,0,0,0],"Properties":{"id":""},"Children":[{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"10"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"1002"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"9003"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"2021-09-01 12:01:01"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"2021-09-01 12:31:01"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"81"}]}]},{"Type":"NodeTableRow","TableAligns":[0,0,0,0,0,0],"Properties":{"id":""},"Children":[{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"11"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"1005"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"9001"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"2021-09-01 12:01:01"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"2021-09-01 12:31:01"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"88"}]}]},{"Type":"NodeTableRow","TableAligns":[0,0,0,0,0,0],"Properties":{"id":""},"Children":[{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"12"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"1006"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"9002"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"2021-09-02 12:11:01"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"2021-09-02 12:31:01"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"89"}]}]},{"Type":"NodeTableRow","TableAligns":[0,0,0,0,0,0],"Properties":{"id":""},"Children":[{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"13"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"1007"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"9002"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"2020-09-02 12:11:01"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"2020-09-02 12:31:01"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"89"}]}]}]},{"ID":"20240201213367-fz6pjod","Type":"NodeParagraph","Properties":{"id":"20240201213367-fz6pjod","updated":"20240201213367"},"Children":[{"Type":"NodeText","Data":"请计算 2021 年每个月里试卷作答区用户平均月活跃天数 "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"avg_active_days"},{"Type":"NodeText","Data":" 和月度活跃人数 "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"mau"},{"Type":"NodeText","Data":"，上面数据的示例输出如下："}]},{"ID":"20240201213368-1gs4ng5","Type":"NodeTable","Data":"| month  | avg_active_days | mau |\n| ------ | --------------- | --- |\n| 202107 | 1.50            | 2   |\n| 202109 | 1.25            | 4   |","TableAligns":[0,0,0],"Properties":{"id":"20240201213368-1gs4ng5","updated":"20240201213368"},"Children":[{"Type":"NodeTableHead","Properties":{"id":""},"Children":[{"Type":"NodeTableRow","Properties":{"id":""},"Children":[{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"month"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"avg_active_days"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"mau"}]}]}]},{"Type":"NodeTableRow","TableAligns":[0,0,0],"Properties":{"id":""},"Children":[{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"202107"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"1.50"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"2"}]}]},{"Type":"NodeTableRow","TableAligns":[0,0,0],"Properties":{"id":""},"Children":[{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"202109"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"1.25"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"4"}]}]}]},{"ID":"20240201213369-4umgpik","Type":"NodeParagraph","Properties":{"id":"20240201213369-4umgpik","updated":"20240201213369"},"Children":[{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"strong","TextMarkTextContent":"解释"},{"Type":"NodeText","Data":"：2021 年 7 月有 2 人活跃，共活跃了 3 天（1001 活跃 1 天，1002 活跃 2 天），平均活跃天数 1.5；2021 年 9 月有 4 人活跃，共活跃了 5 天，平均活跃天数 1.25，结果保留 2 位小数。"}]},{"ID":"20240201213370-20nsz3x","Type":"NodeParagraph","Properties":{"id":"20240201213370-20nsz3x","updated":"20240201213370"},"Children":[{"Type":"NodeText","Data":"注：此处活跃指有"},{"Type":"NodeTextMark","TextMarkType":"mark","TextMarkTextContent":"交卷"},{"Type":"NodeText","Data":"行为。"}]},{"ID":"20240201213371-glze7ri","Type":"NodeParagraph","Properties":{"id":"20240201213371-glze7ri","updated":"20240201213371"},"Children":[{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"strong","TextMarkTextContent":"思路"},{"Type":"NodeText","Data":"：读完题先注意高亮部分；一般求天数和月活跃人数马上就要想到相关的日期函数；这一题我们同样来进行拆分，把问题细化再解决；首先求活跃人数，肯定要用到"},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"COUNT()"},{"Type":"NodeText","Data":"，那这里首先就有一个坑，不知道大家注意了没有？用户 1002 在 9 月份做了两种不同的试卷，所以这里要注意去重，不然在统计的时候，活跃人数是错的；第二个就是要知道日期的格式化，如上表，题目要求以"},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"202107"},{"Type":"NodeText","Data":"这种日期格式展现，要用到"},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"DATE_FORMAT"},{"Type":"NodeText","Data":"来进行格式化。"}]},{"ID":"20240201213372-cv9pvne","Type":"NodeParagraph","Properties":{"id":"20240201213372-cv9pvne","updated":"20240201213372"},"Children":[{"Type":"NodeText","Data":"基本用法："}]},{"ID":"20240201213373-hr1enci","Type":"NodeParagraph","Properties":{"id":"20240201213373-hr1enci","updated":"20240201213373"},"Children":[{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"DATE_FORMAT(date_value, format)"}]},{"ID":"20240201213374-hkfbooo","Type":"NodeList","ListData":{"Tight":true,"BulletChar":45,"Padding":2,"Marker":"LQ==","Num":-1},"Properties":{"id":"20240201213374-hkfbooo","updated":"20240201213374"},"Children":[{"ID":"20240201213375-qpv8p04","Type":"NodeListItem","Data":"-","ListData":{"Tight":true,"BulletChar":45,"Padding":2,"Marker":"LQ==","Num":-1},"Properties":{"id":"20240201213375-qpv8p04","updated":"20240201213375"},"Children":[{"ID":"20240201213376-rrlss62","Type":"NodeParagraph","Properties":{"id":"20240201213376-rrlss62","updated":"20240201213376"},"Children":[{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"date_value"},{"Type":"NodeText","Data":" 参数是待格式化的日期或时间值。"}]}]},{"ID":"20240201213377-5wrxceu","Type":"NodeListItem","Data":"-","ListData":{"Tight":true,"BulletChar":45,"Padding":2,"Marker":"LQ==","Num":-1},"Properties":{"id":"20240201213377-5wrxceu","updated":"20240201213377"},"Children":[{"ID":"20240201213378-8a00797","Type":"NodeParagraph","Properties":{"id":"20240201213378-8a00797","updated":"20240201213378"},"Children":[{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"format"},{"Type":"NodeText","Data":" 参数是指定的日期或时间格式（这个和 Java 里面的日期格式一样）。"}]}]}]},{"ID":"20240201213379-e4xns9z","Type":"NodeParagraph","Properties":{"id":"20240201213379-e4xns9z","updated":"20240201213379"},"Children":[{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"strong","TextMarkTextContent":"答案"},{"Type":"NodeText","Data":"："}]},{"ID":"20240201213380-xfq8ohj","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"CodeBlockFenceChar":96,"CodeBlockFenceLen":3,"CodeBlockOpenFence":"YGBg","CodeBlockInfo":"c3Fs","CodeBlockCloseFence":"YGBg","Properties":{"id":"20240201213380-xfq8ohj","updated":"20240201213380"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"c3Fs","Properties":{"id":""}},{"Type":"NodeCodeBlockCode","Data":"SELECT DATE_FORMAT(submit_time, '%Y%m') MONTH,\n                                        round(count(DISTINCT UID, DATE_FORMAT(submit_time, '%Y%m%d')) / count(DISTINCT UID), 2) avg_active_days,\n                                        COUNT(DISTINCT UID) mau\nFROM exam_record\nWHERE YEAR (submit_time) = 2021\nGROUP BY MONTH\n","Properties":{"id":""}},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}}]},{"ID":"20240201213381-nmqdcik","Type":"NodeParagraph","Properties":{"id":"20240201213381-nmqdcik","updated":"20240201213381"},"Children":[{"Type":"NodeText","Data":"这里多说一句, 使用"},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"COUNT(DISTINCT uid, DATE_FORMAT(submit_time, '%Y%m%d'))"},{"Type":"NodeText","Data":" 可以统计在 "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"uid"},{"Type":"NodeText","Data":" 列和 "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"submit_time"},{"Type":"NodeText","Data":" 列按照年份、月份和日期进行格式化后的组合值的数量。"}]},{"ID":"20240201213382-5lm2xz7","Type":"NodeHeading","HeadingLevel":3,"Properties":{"id":"20240201213382-5lm2xz7","updated":"20240201213382"},"Children":[{"Type":"NodeHeadingC8hMarker","Data":"### ","Properties":{"id":""}},{"Type":"NodeText","Data":"月总刷题数和日均刷题数"}]},{"ID":"20240201213383-kv01joq","Type":"NodeParagraph","Properties":{"id":"20240201213383-kv01joq","updated":"20240201213383"},"Children":[{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"strong","TextMarkTextContent":"描述"},{"Type":"NodeText","Data":"：现有一张题目练习记录表 "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"practice_record"},{"Type":"NodeText","Data":"，示例内容如下："}]},{"ID":"20240201213384-5w8ucfs","Type":"NodeTable","Data":"| id  | uid  | question_id | submit_time         | score |\n| --- | ---- | ----------- | ------------------- | ----- |\n| 1   | 1001 | 8001        | 2021-08-02 11:41:01 | 60    |\n| 2   | 1002 | 8001        | 2021-09-02 19:30:01 | 50    |\n| 3   | 1002 | 8001        | 2021-09-02 19:20:01 | 70    |\n| 4   | 1002 | 8002        | 2021-09-02 19:38:01 | 70    |\n| 5   | 1003 | 8002        | 2021-08-01 19:38:01 | 80    |","TableAligns":[0,0,0,0,0],"Properties":{"id":"20240201213384-5w8ucfs","updated":"20240201213384"},"Children":[{"Type":"NodeTableHead","Properties":{"id":""},"Children":[{"Type":"NodeTableRow","Properties":{"id":""},"Children":[{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"id"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"uid"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"question_id"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"submit_time"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"score"}]}]}]},{"Type":"NodeTableRow","TableAligns":[0,0,0,0,0],"Properties":{"id":""},"Children":[{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"1"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"1001"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"8001"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"2021-08-02 11:41:01"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"60"}]}]},{"Type":"NodeTableRow","TableAligns":[0,0,0,0,0],"Properties":{"id":""},"Children":[{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"2"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"1002"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"8001"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"2021-09-02 19:30:01"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"50"}]}]},{"Type":"NodeTableRow","TableAligns":[0,0,0,0,0],"Properties":{"id":""},"Children":[{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"3"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"1002"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"8001"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"2021-09-02 19:20:01"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"70"}]}]},{"Type":"NodeTableRow","TableAligns":[0,0,0,0,0],"Properties":{"id":""},"Children":[{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"4"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"1002"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"8002"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"2021-09-02 19:38:01"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"70"}]}]},{"Type":"NodeTableRow","TableAligns":[0,0,0,0,0],"Properties":{"id":""},"Children":[{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"5"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"1003"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"8002"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"2021-08-01 19:38:01"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"80"}]}]}]},{"ID":"20240201213385-z5gibwb","Type":"NodeParagraph","Properties":{"id":"20240201213385-z5gibwb","updated":"20240201213385"},"Children":[{"Type":"NodeText","Data":"请从中统计出 2021 年每个月里用户的月总刷题数 "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"month_q_cnt"},{"Type":"NodeText","Data":" 和日均刷题数 "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"avg_day_q_cnt"},{"Type":"NodeText","Data":"（按月份升序排序）以及该年的总体情况，示例数据输出如下："}]},{"ID":"20240201213386-124l7il","Type":"NodeTable","Data":"| submit_month | month_q_cnt | avg_day_q_cnt |\n| ------------ | ----------- | ------------- |\n| 202108       | 2           | 0.065         |\n| 202109       | 3           | 0.100         |\n| 2021 汇总    | 5           | 0.161         |","TableAligns":[0,0,0],"Properties":{"id":"20240201213386-124l7il","updated":"20240201213386"},"Children":[{"Type":"NodeTableHead","Properties":{"id":""},"Children":[{"Type":"NodeTableRow","Properties":{"id":""},"Children":[{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"submit_month"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"month_q_cnt"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"avg_day_q_cnt"}]}]}]},{"Type":"NodeTableRow","TableAligns":[0,0,0],"Properties":{"id":""},"Children":[{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"202108"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"2"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"0.065"}]}]},{"Type":"NodeTableRow","TableAligns":[0,0,0],"Properties":{"id":""},"Children":[{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"202109"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"3"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"0.100"}]}]},{"Type":"NodeTableRow","TableAligns":[0,0,0],"Properties":{"id":""},"Children":[{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"2021 汇总"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"5"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"0.161"}]}]}]},{"ID":"20240201213387-3hvzo5n","Type":"NodeParagraph","Properties":{"id":"20240201213387-3hvzo5n","updated":"20240201213387"},"Children":[{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"strong","TextMarkTextContent":"解释"},{"Type":"NodeText","Data":"：2021 年 8 月共有 2 次刷题记录，日均刷题数为 2/31=0.065（保留 3 位小数）；2021 年 9 月共有 3 次刷题记录，日均刷题数为 3/30=0.100；2021 年共有 5 次刷题记录（年度汇总平均无实际意义，这里我们按照 31 天来算 5/31=0.161）"}]},{"ID":"20240201213388-da6d5bh","Type":"NodeBlockquote","Properties":{"id":"20240201213388-da6d5bh","updated":"20240201213388"},"Children":[{"Type":"NodeBlockquoteMarker","Data":"\u003e ","Properties":{"id":""}},{"ID":"20240201213389-7e5goiw","Type":"NodeParagraph","Properties":{"id":"20240201213389-7e5goiw","updated":"20240201213389"},"Children":[{"Type":"NodeText","Data":"牛客已经采用最新的 Mysql 版本，如果您运行结果出现错误：ONLY_FULL_GROUP_BY，意思是：对于 GROUP BY 聚合操作，如果在 SELECT 中的列，没有在 GROUP BY 中出现，那么这个 SQL 是不合法的，因为列不在 GROUP BY 从句中，也就是说查出来的列必须在 group by 后面出现否则就会报错，或者这个字段出现在聚合函数里面。"}]}]},{"ID":"20240201213390-ewu80n6","Type":"NodeParagraph","Properties":{"id":"20240201213390-ewu80n6","updated":"20240201213390"},"Children":[{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"strong","TextMarkTextContent":"思路："}]},{"ID":"20240201213391-5wt233p","Type":"NodeParagraph","Properties":{"id":"20240201213391-5wt233p","updated":"20240201213391"},"Children":[{"Type":"NodeText","Data":"看到实例数据就要马上联想到相关的函数，比如"},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"submit_month"},{"Type":"NodeText","Data":"就要用到"},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"DATE_FORMAT"},{"Type":"NodeText","Data":"来格式化日期。然后查出每月的刷题数量。"}]},{"ID":"20240201213392-nr7k4qz","Type":"NodeParagraph","Properties":{"id":"20240201213392-nr7k4qz","updated":"20240201213392"},"Children":[{"Type":"NodeText","Data":"每月的刷题数量"}]},{"ID":"20240201213393-pmgytdm","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"CodeBlockFenceChar":96,"CodeBlockFenceLen":3,"CodeBlockOpenFence":"YGBg","CodeBlockInfo":"c3Fs","CodeBlockCloseFence":"YGBg","Properties":{"id":"20240201213393-pmgytdm","updated":"20240201213393"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"c3Fs","Properties":{"id":""}},{"Type":"NodeCodeBlockCode","Data":"SELECT MONTH ( submit_time ), COUNT( question_id )\nFROM\n\tpractice_record\nGROUP BY\n\tMONTH (submit_time)\n","Properties":{"id":""}},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}}]},{"ID":"20240201213394-mfm63p6","Type":"NodeParagraph","Properties":{"id":"20240201213394-mfm63p6","updated":"20240201213394"},"Children":[{"Type":"NodeText","Data":"接着第三列这里要用到"},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"DAY(LAST_DAY(date_value))"},{"Type":"NodeText","Data":"函数来查找给定日期的月份中的天数。"}]},{"ID":"20240201213395-b5l31k8","Type":"NodeParagraph","Properties":{"id":"20240201213395-b5l31k8","updated":"20240201213395"},"Children":[{"Type":"NodeText","Data":"示例代码如下："}]},{"ID":"20240201213396-amlwoy1","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"CodeBlockFenceChar":96,"CodeBlockFenceLen":3,"CodeBlockOpenFence":"YGBg","CodeBlockInfo":"c3Fs","CodeBlockCloseFence":"YGBg","Properties":{"id":"20240201213396-amlwoy1","updated":"20240201213396"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"c3Fs","Properties":{"id":""}},{"Type":"NodeCodeBlockCode","Data":"SELECT DAY(LAST_DAY('2023-07-08')) AS days_in_month;\n-- 输出：31\n\nSELECT DAY(LAST_DAY('2023-02-01')) AS days_in_month;\n-- 输出：28 (闰年中的二月份)\n\nSELECT DAY(LAST_DAY(NOW())) AS days_in_current_month;\n-- 输出：31 （当前月份的天数）\n","Properties":{"id":""}},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}}]},{"ID":"20240201213397-erbjzeq","Type":"NodeParagraph","Properties":{"id":"20240201213397-erbjzeq","updated":"20240201213397"},"Children":[{"Type":"NodeText","Data":"使用 "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"LAST_DAY()"},{"Type":"NodeText","Data":" 函数获取给定日期的当月最后一天，然后使用 "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"DAY()"},{"Type":"NodeText","Data":" 函数提取该日期的天数。这样就能获得指定月份的天数。"}]},{"ID":"20240201213398-zimvrc7","Type":"NodeParagraph","Properties":{"id":"20240201213398-zimvrc7","updated":"20240201213398"},"Children":[{"Type":"NodeText","Data":"需要注意的是，"},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"LAST_DAY()"},{"Type":"NodeText","Data":" 函数返回的是日期值，而 "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"DAY()"},{"Type":"NodeText","Data":" 函数用于提取日期值中的天数部分。"}]},{"ID":"20240201213399-hsftzm0","Type":"NodeParagraph","Properties":{"id":"20240201213399-hsftzm0","updated":"20240201213399"},"Children":[{"Type":"NodeText","Data":"有了上述的分析之后，即可马上写出答案，这题复杂就复杂在处理日期上，其中的逻辑并不难。"}]},{"ID":"20240201213400-16p8fdv","Type":"NodeParagraph","Properties":{"id":"20240201213400-16p8fdv","updated":"20240201213400"},"Children":[{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"strong","TextMarkTextContent":"答案"},{"Type":"NodeText","Data":"："}]},{"ID":"20240201213401-2h11t2l","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"CodeBlockFenceChar":96,"CodeBlockFenceLen":3,"CodeBlockOpenFence":"YGBg","CodeBlockInfo":"c3Fs","CodeBlockCloseFence":"YGBg","Properties":{"id":"20240201213401-2h11t2l","updated":"20240201213401"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"c3Fs","Properties":{"id":""}},{"Type":"NodeCodeBlockCode","Data":"SELECT DATE_FORMAT(submit_time, '%Y%m') submit_month,\n       count(question_id) month_q_cnt,\n       ROUND(COUNT(question_id) / DAY (LAST_DAY(submit_time)), 3) avg_day_q_cnt\nFROM practice_record\nWHERE DATE_FORMAT(submit_time, '%Y') = '2021'\nGROUP BY submit_month\nUNION ALL\nSELECT '2021汇总' AS submit_month,\n       count(question_id) month_q_cnt,\n       ROUND(COUNT(question_id) / 31, 3) avg_day_q_cnt\nFROM practice_record\nWHERE DATE_FORMAT(submit_time, '%Y') = '2021'\nORDER BY submit_month\n","Properties":{"id":""}},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}}]},{"ID":"20240201213402-1mceocm","Type":"NodeParagraph","Properties":{"id":"20240201213402-1mceocm","updated":"20240201213402"},"Children":[{"Type":"NodeText","Data":"在实例数据输出中因为最后一行需要得出汇总数据，所以这里要 "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"UNION ALL"},{"Type":"NodeText","Data":"加到结果集中；别忘了最后要排序！"}]},{"ID":"20240201213403-xmjas3n","Type":"NodeHeading","HeadingLevel":3,"Properties":{"id":"20240201213403-xmjas3n","updated":"20240201213403"},"Children":[{"Type":"NodeHeadingC8hMarker","Data":"### ","Properties":{"id":""}},{"Type":"NodeText","Data":"未完成试卷数大于 1 的有效用户（较难）"}]},{"ID":"20240201213404-qkyzqze","Type":"NodeParagraph","Properties":{"id":"20240201213404-qkyzqze","updated":"20240201213404"},"Children":[{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"strong","TextMarkTextContent":"描述"},{"Type":"NodeText","Data":"：现有试卷作答记录表 "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"exam_record"},{"Type":"NodeText","Data":"（"},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"uid"},{"Type":"NodeText","Data":" 用户 ID, "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"exam_id"},{"Type":"NodeText","Data":" 试卷 ID, "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"start_time"},{"Type":"NodeText","Data":" 开始作答时间, "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"submit_time"},{"Type":"NodeText","Data":" 交卷时间, "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"score"},{"Type":"NodeText","Data":" 得分），示例数据如下："}]},{"ID":"20240201213405-9v6pfn9","Type":"NodeTable","Data":"| id  | uid  | exam_id | start_time          | submit_time         | score  |\n| --- | ---- | ------- | ------------------- | ------------------- | ------ |\n| 1   | 1001 | 9001    | 2021-07-02 09:01:01 | 2021-07-02 09:21:01 | 80     |\n| 2   | 1002 | 9001    | 2021-09-05 19:01:01 | 2021-09-05 19:40:01 | 81     |\n| 3   | 1002 | 9002    | 2021-09-02 12:01:01 | (NULL)              | (NULL) |\n| 4   | 1002 | 9003    | 2021-09-01 12:01:01 | (NULL)              | (NULL) |\n| 5   | 1002 | 9001    | 2021-07-02 19:01:01 | 2021-07-02 19:30:01 | 82     |\n| 6   | 1002 | 9002    | 2021-07-05 18:01:01 | 2021-07-05 18:59:02 | 90     |\n| 7   | 1003 | 9002    | 2021-07-06 12:01:01 | (NULL)              | (NULL) |\n| 8   | 1003 | 9003    | 2021-09-07 10:01:01 | 2021-09-07 10:31:01 | 86     |\n| 9   | 1004 | 9003    | 2021-09-06 12:01:01 | (NULL)              | (NULL) |\n| 10  | 1002 | 9003    | 2021-09-01 12:01:01 | 2021-09-01 12:31:01 | 81     |\n| 11  | 1005 | 9001    | 2021-09-01 12:01:01 | 2021-09-01 12:31:01 | 88     |\n| 12  | 1006 | 9002    | 2021-09-02 12:11:01 | 2021-09-02 12:31:01 | 89     |\n| 13  | 1007 | 9002    | 2020-09-02 12:11:01 | 2020-09-02 12:31:01 | 89     |","TableAligns":[0,0,0,0,0,0],"Properties":{"id":"20240201213405-9v6pfn9","updated":"20240201213405"},"Children":[{"Type":"NodeTableHead","Properties":{"id":""},"Children":[{"Type":"NodeTableRow","Properties":{"id":""},"Children":[{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"id"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"uid"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"exam_id"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"start_time"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"submit_time"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"score"}]}]}]},{"Type":"NodeTableRow","TableAligns":[0,0,0,0,0,0],"Properties":{"id":""},"Children":[{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"1"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"1001"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"9001"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"2021-07-02 09:01:01"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"2021-07-02 09:21:01"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"80"}]}]},{"Type":"NodeTableRow","TableAligns":[0,0,0,0,0,0],"Properties":{"id":""},"Children":[{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"2"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"1002"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"9001"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"2021-09-05 19:01:01"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"2021-09-05 19:40:01"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"81"}]}]},{"Type":"NodeTableRow","TableAligns":[0,0,0,0,0,0],"Properties":{"id":""},"Children":[{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"3"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"1002"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"9002"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"2021-09-02 12:01:01"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"(NULL)"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"(NULL)"}]}]},{"Type":"NodeTableRow","TableAligns":[0,0,0,0,0,0],"Properties":{"id":""},"Children":[{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"4"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"1002"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"9003"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"2021-09-01 12:01:01"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"(NULL)"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"(NULL)"}]}]},{"Type":"NodeTableRow","TableAligns":[0,0,0,0,0,0],"Properties":{"id":""},"Children":[{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"5"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"1002"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"9001"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"2021-07-02 19:01:01"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"2021-07-02 19:30:01"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"82"}]}]},{"Type":"NodeTableRow","TableAligns":[0,0,0,0,0,0],"Properties":{"id":""},"Children":[{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"6"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"1002"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"9002"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"2021-07-05 18:01:01"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"2021-07-05 18:59:02"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"90"}]}]},{"Type":"NodeTableRow","TableAligns":[0,0,0,0,0,0],"Properties":{"id":""},"Children":[{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"7"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"1003"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"9002"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"2021-07-06 12:01:01"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"(NULL)"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"(NULL)"}]}]},{"Type":"NodeTableRow","TableAligns":[0,0,0,0,0,0],"Properties":{"id":""},"Children":[{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"8"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"1003"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"9003"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"2021-09-07 10:01:01"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"2021-09-07 10:31:01"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"86"}]}]},{"Type":"NodeTableRow","TableAligns":[0,0,0,0,0,0],"Properties":{"id":""},"Children":[{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"9"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"1004"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"9003"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"2021-09-06 12:01:01"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"(NULL)"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"(NULL)"}]}]},{"Type":"NodeTableRow","TableAligns":[0,0,0,0,0,0],"Properties":{"id":""},"Children":[{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"10"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"1002"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"9003"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"2021-09-01 12:01:01"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"2021-09-01 12:31:01"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"81"}]}]},{"Type":"NodeTableRow","TableAligns":[0,0,0,0,0,0],"Properties":{"id":""},"Children":[{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"11"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"1005"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"9001"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"2021-09-01 12:01:01"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"2021-09-01 12:31:01"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"88"}]}]},{"Type":"NodeTableRow","TableAligns":[0,0,0,0,0,0],"Properties":{"id":""},"Children":[{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"12"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"1006"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"9002"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"2021-09-02 12:11:01"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"2021-09-02 12:31:01"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"89"}]}]},{"Type":"NodeTableRow","TableAligns":[0,0,0,0,0,0],"Properties":{"id":""},"Children":[{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"13"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"1007"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"9002"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"2020-09-02 12:11:01"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"2020-09-02 12:31:01"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"89"}]}]}]},{"ID":"20240201213406-wxz1ery","Type":"NodeParagraph","Properties":{"id":"20240201213406-wxz1ery","updated":"20240201213406"},"Children":[{"Type":"NodeText","Data":"还有一张试卷信息表 "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"examination_info"},{"Type":"NodeText","Data":"（"},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"exam_id"},{"Type":"NodeText","Data":" 试卷 ID, "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"tag"},{"Type":"NodeText","Data":" 试卷类别, "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"difficulty"},{"Type":"NodeText","Data":" 试卷难度, "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"duration"},{"Type":"NodeText","Data":" 考试时长, "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"release_time"},{"Type":"NodeText","Data":" 发布时间），示例数据如下："}]},{"ID":"20240201213407-y9hovbh","Type":"NodeTable","Data":"| id  | exam_id | tag  | difficulty | duration | release_time        |\n| --- | ------- | ---- | ---------- | -------- | ------------------- |\n| 1   | 9001    | SQL  | hard       | 60       | 2020-01-01 10:00:00 |\n| 2   | 9002    | SQL  | easy       | 60       | 2020-02-01 10:00:00 |\n| 3   | 9003    | 算法 | medium     | 80       | 2020-08-02 10:00:00 |","TableAligns":[0,0,0,0,0,0],"Properties":{"id":"20240201213407-y9hovbh","updated":"20240201213407"},"Children":[{"Type":"NodeTableHead","Properties":{"id":""},"Children":[{"Type":"NodeTableRow","Properties":{"id":""},"Children":[{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"id"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"exam_id"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"tag"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"difficulty"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"duration"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"release_time"}]}]}]},{"Type":"NodeTableRow","TableAligns":[0,0,0,0,0,0],"Properties":{"id":""},"Children":[{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"1"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"9001"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"SQL"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"hard"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"60"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"2020-01-01 10:00:00"}]}]},{"Type":"NodeTableRow","TableAligns":[0,0,0,0,0,0],"Properties":{"id":""},"Children":[{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"2"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"9002"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"SQL"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"easy"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"60"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"2020-02-01 10:00:00"}]}]},{"Type":"NodeTableRow","TableAligns":[0,0,0,0,0,0],"Properties":{"id":""},"Children":[{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"3"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"9003"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"算法"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"medium"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"80"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"2020-08-02 10:00:00"}]}]}]},{"ID":"20240201213408-kr2li16","Type":"NodeParagraph","Properties":{"id":"20240201213408-kr2li16","updated":"20240201213408"},"Children":[{"Type":"NodeText","Data":"请统计 2021 年每个未完成试卷作答数大于 1 的有效用户的数据（有效用户指完成试卷作答数至少为 1 且未完成数小于 5），输出用户 ID、未完成试卷作答数、完成试卷作答数、作答过的试卷 tag 集合，按未完成试卷数量由多到少排序。示例数据的输出结果如下："}]},{"ID":"20240201213409-8dahgtk","Type":"NodeTable","Data":"| uid  | incomplete_cnt | complete_cnt | detail                                                                      |\n| ---- | -------------- | ------------ | --------------------------------------------------------------------------- |\n| 1002 | 2              | 4            | 2021-09-01:算法;2021-07-02:SQL;2021-09-02:SQL;2021-09-05:SQL;2021-07-05:SQL |","TableAligns":[0,0,0,0],"Properties":{"id":"20240201213409-8dahgtk","updated":"20240201213409"},"Children":[{"Type":"NodeTableHead","Properties":{"id":""},"Children":[{"Type":"NodeTableRow","Properties":{"id":""},"Children":[{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"uid"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"incomplete_cnt"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"complete_cnt"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"detail"}]}]}]},{"Type":"NodeTableRow","TableAligns":[0,0,0,0],"Properties":{"id":""},"Children":[{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"1002"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"2"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"4"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"2021-09-01:算法;2021-07-02:SQL;2021-09-02:SQL;2021-09-05:SQL;2021-07-05:SQL"}]}]}]},{"ID":"20240201213410-6u7d2xz","Type":"NodeParagraph","Properties":{"id":"20240201213410-6u7d2xz","updated":"20240201213410"},"Children":[{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"strong","TextMarkTextContent":"解释"},{"Type":"NodeText","Data":"：2021 年的作答记录中，除了 1004，其他用户均满足有效用户定义，但只有 1002 未完成试卷数大于 1，因此只输出 1002，detail 中是 1002 作答过的试卷{日期:tag}集合，日期和 tag 间用 "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"strong","TextMarkTextContent":":"},{"Type":"NodeText","Data":" 连接，多元素间用 "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"strong","TextMarkTextContent":";"},{"Type":"NodeText","Data":" 连接。"}]},{"ID":"20240201213411-fnv59pi","Type":"NodeParagraph","Properties":{"id":"20240201213411-fnv59pi","updated":"20240201213411"},"Children":[{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"strong","TextMarkTextContent":"思路："}]},{"ID":"20240201213412-xztmzbm","Type":"NodeParagraph","Properties":{"id":"20240201213412-xztmzbm","updated":"20240201213412"},"Children":[{"Type":"NodeText","Data":"仔细读题后，分析出：首先要联表，因为后面要输出"},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"tag"},{"Type":"NodeText","Data":"；"}]},{"ID":"20240201213413-6e636x8","Type":"NodeParagraph","Properties":{"id":"20240201213413-6e636x8","updated":"20240201213413"},"Children":[{"Type":"NodeText","Data":"筛选出 2021 年的数据"}]},{"ID":"20240201213414-wlv3uch","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"CodeBlockFenceChar":96,"CodeBlockFenceLen":3,"CodeBlockOpenFence":"YGBg","CodeBlockInfo":"c3Fs","CodeBlockCloseFence":"YGBg","Properties":{"id":"20240201213414-wlv3uch","updated":"20240201213414"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"c3Fs","Properties":{"id":""}},{"Type":"NodeCodeBlockCode","Data":"SELECT *\nFROM exam_record er\nLEFT JOIN examination_info ei ON er.exam_id = ei.exam_id\nWHERE YEAR (er.start_time)= 2021\n","Properties":{"id":""}},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}}]},{"ID":"20240201213415-5kfgrr7","Type":"NodeParagraph","Properties":{"id":"20240201213415-5kfgrr7","updated":"20240201213415"},"Children":[{"Type":"NodeText","Data":"根据 uid 进行分组，然后对每个用户进行条件进行判断，题目中要求"},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"完成试卷数至少为1,未完成试卷数要大于1，小于5"}]},{"ID":"20240201213416-jyz5g1i","Type":"NodeParagraph","Properties":{"id":"20240201213416-jyz5g1i","updated":"20240201213416"},"Children":[{"Type":"NodeText","Data":"那么等会儿写 sql 的时候条件应该是："},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"未完成 \u0026gt; 1 and 已完成 \u0026gt;=1 and 未完成 \u0026lt; 5"}]},{"ID":"20240201213417-dllklny","Type":"NodeParagraph","Properties":{"id":"20240201213417-dllklny","updated":"20240201213417"},"Children":[{"Type":"NodeText","Data":"因为最后要用到字符串的拼接，而且还要组合拼接，这个可以用"},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"GROUP_CONCAT"},{"Type":"NodeText","Data":"函数，下面简单介绍一下该函数的用法："}]},{"ID":"20240201213418-p8ro2p7","Type":"NodeParagraph","Properties":{"id":"20240201213418-p8ro2p7","updated":"20240201213418"},"Children":[{"Type":"NodeText","Data":"基本格式："}]},{"ID":"20240201213419-70wwm49","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"CodeBlockFenceChar":96,"CodeBlockFenceLen":3,"CodeBlockOpenFence":"YGBg","CodeBlockInfo":"c3Fs","CodeBlockCloseFence":"YGBg","Properties":{"id":"20240201213419-70wwm49","updated":"20240201213419"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"c3Fs","Properties":{"id":""}},{"Type":"NodeCodeBlockCode","Data":"GROUP_CONCAT([DISTINCT] expr [ORDER BY {unsigned_integer | col_name | expr} [ASC | DESC] [, ...]]             [SEPARATOR sep])\n","Properties":{"id":""}},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}}]},{"ID":"20240201213420-yeb1mcj","Type":"NodeList","ListData":{"Tight":true,"BulletChar":45,"Padding":2,"Marker":"LQ==","Num":-1},"Properties":{"id":"20240201213420-yeb1mcj","updated":"20240201213420"},"Children":[{"ID":"20240201213421-27vcbg1","Type":"NodeListItem","Data":"-","ListData":{"Tight":true,"BulletChar":45,"Padding":2,"Marker":"LQ==","Num":-1},"Properties":{"id":"20240201213421-27vcbg1","updated":"20240201213421"},"Children":[{"ID":"20240201213422-vqx30t4","Type":"NodeParagraph","Properties":{"id":"20240201213422-vqx30t4","updated":"20240201213422"},"Children":[{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"expr"},{"Type":"NodeText","Data":"：要连接的列或表达式。"}]}]},{"ID":"20240201213423-uoisebw","Type":"NodeListItem","Data":"-","ListData":{"Tight":true,"BulletChar":45,"Padding":2,"Marker":"LQ==","Num":-1},"Properties":{"id":"20240201213423-uoisebw","updated":"20240201213423"},"Children":[{"ID":"20240201213424-fcqjt0d","Type":"NodeParagraph","Properties":{"id":"20240201213424-fcqjt0d","updated":"20240201213424"},"Children":[{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"DISTINCT"},{"Type":"NodeText","Data":"：可选参数，用于去重。当指定了 "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"DISTINCT"},{"Type":"NodeText","Data":"，相同的值只会出现一次。"}]}]},{"ID":"20240201213425-mthku3b","Type":"NodeListItem","Data":"-","ListData":{"Tight":true,"BulletChar":45,"Padding":2,"Marker":"LQ==","Num":-1},"Properties":{"id":"20240201213425-mthku3b","updated":"20240201213425"},"Children":[{"ID":"20240201213426-zdn1dmx","Type":"NodeParagraph","Properties":{"id":"20240201213426-zdn1dmx","updated":"20240201213426"},"Children":[{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"ORDER BY"},{"Type":"NodeText","Data":"：可选参数，用于排序连接后的值。可以选择升序 ("},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"ASC"},{"Type":"NodeText","Data":") 或降序 ("},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"DESC"},{"Type":"NodeText","Data":") 排序。"}]}]},{"ID":"20240201213427-4g6bv78","Type":"NodeListItem","Data":"-","ListData":{"Tight":true,"BulletChar":45,"Padding":2,"Marker":"LQ==","Num":-1},"Properties":{"id":"20240201213427-4g6bv78","updated":"20240201213427"},"Children":[{"ID":"20240201213428-osbf7xu","Type":"NodeParagraph","Properties":{"id":"20240201213428-osbf7xu","updated":"20240201213428"},"Children":[{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"SEPARATOR sep"},{"Type":"NodeText","Data":"：可选参数，用于设置连接后的值的分隔符。（本题要用这个参数设置 ; 号 ）"}]}]}]},{"ID":"20240201213429-3p6kg7u","Type":"NodeParagraph","Properties":{"id":"20240201213429-3p6kg7u","updated":"20240201213429"},"Children":[{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"GROUP_CONCAT()"},{"Type":"NodeText","Data":" 函数常用于 "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"GROUP BY"},{"Type":"NodeText","Data":" 子句中，将一组行的值连接为一个字符串，并在结果集中以聚合的形式返回。"}]},{"ID":"20240201213430-m5ir4ia","Type":"NodeParagraph","Properties":{"id":"20240201213430-m5ir4ia","updated":"20240201213430"},"Children":[{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"strong","TextMarkTextContent":"答案"},{"Type":"NodeText","Data":"："}]},{"ID":"20240201213431-7ppg7hs","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"CodeBlockFenceChar":96,"CodeBlockFenceLen":3,"CodeBlockOpenFence":"YGBg","CodeBlockInfo":"c3Fs","CodeBlockCloseFence":"YGBg","Properties":{"id":"20240201213431-7ppg7hs","updated":"20240201213431"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"c3Fs","Properties":{"id":""}},{"Type":"NodeCodeBlockCode","Data":"SELECT a.uid,\n       SUM(CASE\n               WHEN a.submit_time IS NULL THEN 1\n           END) AS incomplete_cnt,\n       SUM(CASE\n               WHEN a.submit_time IS NOT NULL THEN 1\n           END) AS complete_cnt,\n       GROUP_CONCAT(DISTINCT CONCAT(DATE_FORMAT(a.start_time, '%Y-%m-%d'), ':', b.tag)\n                    ORDER BY start_time SEPARATOR \";\") AS detail\nFROM exam_record a\nLEFT JOIN examination_info b ON a.exam_id = b.exam_id\nWHERE YEAR (a.start_time)= 2021\nGROUP BY a.uid\nHAVING incomplete_cnt \u003e 1\nAND complete_cnt \u003e= 1\nAND incomplete_cnt \u003c 5\nORDER BY incomplete_cnt DESC\n","Properties":{"id":""}},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}}]},{"ID":"20240201213432-gr865v1","Type":"NodeList","ListData":{"Tight":true,"BulletChar":45,"Padding":2,"Marker":"LQ==","Num":-1},"Properties":{"id":"20240201213432-gr865v1","updated":"20240201213432"},"Children":[{"ID":"20240201213433-w8vciqx","Type":"NodeListItem","Data":"-","ListData":{"Tight":true,"BulletChar":45,"Padding":2,"Marker":"LQ==","Num":-1},"Properties":{"id":"20240201213433-w8vciqx","updated":"20240201213433"},"Children":[{"ID":"20240201213434-o2n4whr","Type":"NodeParagraph","Properties":{"id":"20240201213434-o2n4whr","updated":"20240201213434"},"Children":[{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"SUM(CASE WHEN a.submit_time IS NULL THEN 1 END)"},{"Type":"NodeText","Data":" 统计了每个用户未完成的记录数量。"}]}]},{"ID":"20240201213435-tjjn1yh","Type":"NodeListItem","Data":"-","ListData":{"Tight":true,"BulletChar":45,"Padding":2,"Marker":"LQ==","Num":-1},"Properties":{"id":"20240201213435-tjjn1yh","updated":"20240201213435"},"Children":[{"ID":"20240201213436-bxbx96w","Type":"NodeParagraph","Properties":{"id":"20240201213436-bxbx96w","updated":"20240201213436"},"Children":[{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"SUM(CASE WHEN a.submit_time IS NOT NULL THEN 1 END)"},{"Type":"NodeText","Data":" 统计了每个用户已完成的记录数量。"}]}]},{"ID":"20240201213437-hfnhm9t","Type":"NodeListItem","Data":"-","ListData":{"Tight":true,"BulletChar":45,"Padding":2,"Marker":"LQ==","Num":-1},"Properties":{"id":"20240201213437-hfnhm9t","updated":"20240201213437"},"Children":[{"ID":"20240201213438-vr8uj9r","Type":"NodeParagraph","Properties":{"id":"20240201213438-vr8uj9r","updated":"20240201213438"},"Children":[{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"GROUP_CONCAT(DISTINCT CONCAT(DATE_FORMAT(a.start_time, '%Y-%m-%d'), ':', b.tag) ORDER BY a.start_time SEPARATOR ';')"},{"Type":"NodeText","Data":" 将每个用户的考试日期和标签以逗号分隔的形式连接成一个字符串，并按考试开始时间进行排序。"}]}]}]},{"ID":"20240201213439-tuwoin5","Type":"NodeHeading","HeadingLevel":2,"Properties":{"id":"20240201213439-tuwoin5","updated":"20240201213439"},"Children":[{"Type":"NodeHeadingC8hMarker","Data":"## ","Properties":{"id":""}},{"Type":"NodeText","Data":"嵌套子查询"}]},{"ID":"20240201213440-rn02fz7","Type":"NodeHeading","HeadingLevel":3,"Properties":{"id":"20240201213440-rn02fz7","updated":"20240201213440"},"Children":[{"Type":"NodeHeadingC8hMarker","Data":"### ","Properties":{"id":""}},{"Type":"NodeText","Data":"月均完成试卷数不小于 3 的用户爱作答的类别（较难）"}]},{"ID":"20240201213441-rjkha4e","Type":"NodeParagraph","Properties":{"id":"20240201213441-rjkha4e","updated":"20240201213441"},"Children":[{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"strong","TextMarkTextContent":"描述"},{"Type":"NodeText","Data":"：现有试卷作答记录表 "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"exam_record"},{"Type":"NodeText","Data":"（"},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"uid"},{"Type":"NodeText","Data":"：用户 ID, "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"exam_id"},{"Type":"NodeText","Data":"：试卷 ID, "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"start_time"},{"Type":"NodeText","Data":"：开始作答时间, "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"submit_time"},{"Type":"NodeText","Data":"：交卷时间，没提交的话为 NULL, "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"score"},{"Type":"NodeText","Data":"：得分），示例数据如下："}]},{"ID":"20240201213442-gl60k6w","Type":"NodeTable","Data":"| id  | uid  | exam_id | start_time          | submit_time         | score  |\n| --- | ---- | ------- | ------------------- | ------------------- | ------ |\n| 1   | 1001 | 9001    | 2021-07-02 09:01:01 | (NULL)              | (NULL) |\n| 2   | 1002 | 9003    | 2021-09-01 12:01:01 | 2021-09-01 12:21:01 | 60     |\n| 3   | 1002 | 9002    | 2021-09-02 12:01:01 | 2021-09-02 12:31:01 | 70     |\n| 4   | 1002 | 9001    | 2021-09-05 19:01:01 | 2021-09-05 19:40:01 | 81     |\n| 5   | 1002 | 9002    | 2021-07-06 12:01:01 | (NULL)              | (NULL) |\n| 6   | 1003 | 9003    | 2021-09-07 10:01:01 | 2021-09-07 10:31:01 | 86     |\n| 7   | 1003 | 9003    | 2021-09-08 12:01:01 | 2021-09-08 12:11:01 | 40     |\n| 8   | 1003 | 9001    | 2021-09-08 13:01:01 | (NULL)              | (NULL) |\n| 9   | 1003 | 9002    | 2021-09-08 14:01:01 | (NULL)              | (NULL) |\n| 10  | 1003 | 9003    | 2021-09-08 15:01:01 | (NULL)              | (NULL) |\n| 11  | 1005 | 9001    | 2021-09-01 12:01:01 | 2021-09-01 12:31:01 | 88     |\n| 12  | 1005 | 9002    | 2021-09-01 12:01:01 | 2021-09-01 12:31:01 | 88     |\n| 13  | 1005 | 9002    | 2021-09-02 12:11:01 | 2021-09-02 12:31:01 | 89     |","TableAligns":[0,0,0,0,0,0],"Properties":{"id":"20240201213442-gl60k6w","updated":"20240201213442"},"Children":[{"Type":"NodeTableHead","Properties":{"id":""},"Children":[{"Type":"NodeTableRow","Properties":{"id":""},"Children":[{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"id"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"uid"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"exam_id"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"start_time"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"submit_time"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"score"}]}]}]},{"Type":"NodeTableRow","TableAligns":[0,0,0,0,0,0],"Properties":{"id":""},"Children":[{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"1"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"1001"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"9001"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"2021-07-02 09:01:01"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"(NULL)"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"(NULL)"}]}]},{"Type":"NodeTableRow","TableAligns":[0,0,0,0,0,0],"Properties":{"id":""},"Children":[{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"2"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"1002"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"9003"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"2021-09-01 12:01:01"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"2021-09-01 12:21:01"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"60"}]}]},{"Type":"NodeTableRow","TableAligns":[0,0,0,0,0,0],"Properties":{"id":""},"Children":[{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"3"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"1002"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"9002"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"2021-09-02 12:01:01"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"2021-09-02 12:31:01"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"70"}]}]},{"Type":"NodeTableRow","TableAligns":[0,0,0,0,0,0],"Properties":{"id":""},"Children":[{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"4"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"1002"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"9001"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"2021-09-05 19:01:01"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"2021-09-05 19:40:01"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"81"}]}]},{"Type":"NodeTableRow","TableAligns":[0,0,0,0,0,0],"Properties":{"id":""},"Children":[{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"5"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"1002"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"9002"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"2021-07-06 12:01:01"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"(NULL)"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"(NULL)"}]}]},{"Type":"NodeTableRow","TableAligns":[0,0,0,0,0,0],"Properties":{"id":""},"Children":[{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"6"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"1003"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"9003"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"2021-09-07 10:01:01"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"2021-09-07 10:31:01"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"86"}]}]},{"Type":"NodeTableRow","TableAligns":[0,0,0,0,0,0],"Properties":{"id":""},"Children":[{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"7"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"1003"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"9003"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"2021-09-08 12:01:01"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"2021-09-08 12:11:01"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"40"}]}]},{"Type":"NodeTableRow","TableAligns":[0,0,0,0,0,0],"Properties":{"id":""},"Children":[{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"8"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"1003"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"9001"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"2021-09-08 13:01:01"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"(NULL)"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"(NULL)"}]}]},{"Type":"NodeTableRow","TableAligns":[0,0,0,0,0,0],"Properties":{"id":""},"Children":[{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"9"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"1003"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"9002"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"2021-09-08 14:01:01"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"(NULL)"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"(NULL)"}]}]},{"Type":"NodeTableRow","TableAligns":[0,0,0,0,0,0],"Properties":{"id":""},"Children":[{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"10"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"1003"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"9003"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"2021-09-08 15:01:01"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"(NULL)"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"(NULL)"}]}]},{"Type":"NodeTableRow","TableAligns":[0,0,0,0,0,0],"Properties":{"id":""},"Children":[{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"11"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"1005"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"9001"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"2021-09-01 12:01:01"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"2021-09-01 12:31:01"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"88"}]}]},{"Type":"NodeTableRow","TableAligns":[0,0,0,0,0,0],"Properties":{"id":""},"Children":[{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"12"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"1005"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"9002"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"2021-09-01 12:01:01"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"2021-09-01 12:31:01"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"88"}]}]},{"Type":"NodeTableRow","TableAligns":[0,0,0,0,0,0],"Properties":{"id":""},"Children":[{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"13"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"1005"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"9002"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"2021-09-02 12:11:01"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"2021-09-02 12:31:01"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"89"}]}]}]},{"ID":"20240201213443-kfr4vow","Type":"NodeParagraph","Properties":{"id":"20240201213443-kfr4vow","updated":"20240201213443"},"Children":[{"Type":"NodeText","Data":"试卷信息表 "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"examination_info"},{"Type":"NodeText","Data":"（"},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"exam_id"},{"Type":"NodeText","Data":"：试卷 ID, "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"tag"},{"Type":"NodeText","Data":"：试卷类别, "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"difficulty"},{"Type":"NodeText","Data":"：试卷难度, "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"duration"},{"Type":"NodeText","Data":"：考试时长, "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"release_time"},{"Type":"NodeText","Data":"：发布时间），示例数据如下："}]},{"ID":"20240201213444-tuyqgxf","Type":"NodeTable","Data":"| id  | exam_id | tag  | difficulty | duration | release_time        |\n| --- | ------- | ---- | ---------- | -------- | ------------------- |\n| 1   | 9001    | SQL  | hard       | 60       | 2020-01-01 10:00:00 |\n| 2   | 9002    | C++  | easy       | 60       | 2020-02-01 10:00:00 |\n| 3   | 9003    | 算法 | medium     | 80       | 2020-08-02 10:00:00 |","TableAligns":[0,0,0,0,0,0],"Properties":{"id":"20240201213444-tuyqgxf","updated":"20240201213444"},"Children":[{"Type":"NodeTableHead","Properties":{"id":""},"Children":[{"Type":"NodeTableRow","Properties":{"id":""},"Children":[{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"id"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"exam_id"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"tag"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"difficulty"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"duration"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"release_time"}]}]}]},{"Type":"NodeTableRow","TableAligns":[0,0,0,0,0,0],"Properties":{"id":""},"Children":[{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"1"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"9001"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"SQL"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"hard"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"60"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"2020-01-01 10:00:00"}]}]},{"Type":"NodeTableRow","TableAligns":[0,0,0,0,0,0],"Properties":{"id":""},"Children":[{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"2"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"9002"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"C++"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"easy"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"60"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"2020-02-01 10:00:00"}]}]},{"Type":"NodeTableRow","TableAligns":[0,0,0,0,0,0],"Properties":{"id":""},"Children":[{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"3"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"9003"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"算法"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"medium"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"80"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"2020-08-02 10:00:00"}]}]}]},{"ID":"20240201213445-pf4mx14","Type":"NodeParagraph","Properties":{"id":"20240201213445-pf4mx14","updated":"20240201213445"},"Children":[{"Type":"NodeText","Data":"请从表中统计出 “当月均完成试卷数”不小于 3 的用户们爱作答的类别及作答次数，按次数降序输出，示例输出如下："}]},{"ID":"20240201213446-5prlm40","Type":"NodeTable","Data":"| tag  | tag_cnt |\n| ---- | ------- |\n| C++  | 4       |\n| SQL  | 2       |\n| 算法 | 1       |","TableAligns":[0,0],"Properties":{"id":"20240201213446-5prlm40","updated":"20240201213446"},"Children":[{"Type":"NodeTableHead","Properties":{"id":""},"Children":[{"Type":"NodeTableRow","Properties":{"id":""},"Children":[{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"tag"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"tag_cnt"}]}]}]},{"Type":"NodeTableRow","TableAligns":[0,0],"Properties":{"id":""},"Children":[{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"C++"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"4"}]}]},{"Type":"NodeTableRow","TableAligns":[0,0],"Properties":{"id":""},"Children":[{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"SQL"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"2"}]}]},{"Type":"NodeTableRow","TableAligns":[0,0],"Properties":{"id":""},"Children":[{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"算法"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"1"}]}]}]},{"ID":"20240201213447-whacjbr","Type":"NodeParagraph","Properties":{"id":"20240201213447-whacjbr","updated":"20240201213447"},"Children":[{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"strong","TextMarkTextContent":"解释"},{"Type":"NodeText","Data":"：用户 1002 和 1005 在 2021 年 09 月的完成试卷数目均为 3，其他用户均小于 3；然后用户 1002 和 1005 作答过的试卷 tag 分布结果按作答次数降序排序依次为 C++、SQL、算法。"}]},{"ID":"20240201213448-yhssij4","Type":"NodeParagraph","Properties":{"id":"20240201213448-yhssij4","updated":"20240201213448"},"Children":[{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"strong","TextMarkTextContent":"思路"},{"Type":"NodeText","Data":"：这题考察联合子查询，重点在于"},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"月均回答\u0026gt;=3"},{"Type":"NodeText","Data":", 但是个人认为这里没有表述清楚，应该直接说查 9 月的就容易理解多了；这里不是每个月都要\u003e=3 或者是所有答题次数/答题月份。不要理解错误了。"}]},{"ID":"20240201213449-rt36qbp","Type":"NodeParagraph","Properties":{"id":"20240201213449-rt36qbp","updated":"20240201213449"},"Children":[{"Type":"NodeText","Data":"先查询出哪些用户月均答题大于三次"}]},{"ID":"20240201213450-52hau38","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"CodeBlockFenceChar":96,"CodeBlockFenceLen":3,"CodeBlockOpenFence":"YGBg","CodeBlockInfo":"c3Fs","CodeBlockCloseFence":"YGBg","Properties":{"id":"20240201213450-52hau38","updated":"20240201213450"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"c3Fs","Properties":{"id":""}},{"Type":"NodeCodeBlockCode","Data":"SELECT UID\nFROM exam_record record\nGROUP BY UID,\n         MONTH (start_time)\nHAVING count(submit_time) \u003e= 3\n","Properties":{"id":""}},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}}]},{"ID":"20240201213451-08a83rg","Type":"NodeParagraph","Properties":{"id":"20240201213451-08a83rg","updated":"20240201213451"},"Children":[{"Type":"NodeText","Data":"有了这一步之后再进行深入，只要能理解上一步(我的意思是不被题目中的月均所困扰)，然后再套一个子查询，查哪些用户包含其中，然后查出题目中所需的列即可。记得排序！！"}]},{"ID":"20240201213452-6a9nbzq","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"CodeBlockFenceChar":96,"CodeBlockFenceLen":3,"CodeBlockOpenFence":"YGBg","CodeBlockInfo":"c3Fs","CodeBlockCloseFence":"YGBg","Properties":{"id":"20240201213452-6a9nbzq","updated":"20240201213452"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"c3Fs","Properties":{"id":""}},{"Type":"NodeCodeBlockCode","Data":"SELECT tag,\n       count(start_time) AS tag_cnt\nFROM exam_record record\nINNER JOIN examination_info info ON record.exam_id = info.exam_id\nWHERE UID IN\n    (SELECT UID\n     FROM exam_record record\n     GROUP BY UID,\n              MONTH (start_time)\n     HAVING count(submit_time) \u003e= 3)\nGROUP BY tag\nORDER BY tag_cnt DESC\n","Properties":{"id":""}},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}}]},{"ID":"20240201213453-xapsaxn","Type":"NodeHeading","HeadingLevel":3,"Properties":{"id":"20240201213453-xapsaxn","updated":"20240201213453"},"Children":[{"Type":"NodeHeadingC8hMarker","Data":"### ","Properties":{"id":""}},{"Type":"NodeText","Data":"试卷发布当天作答人数和平均分"}]},{"ID":"20240201213454-1fovvzt","Type":"NodeParagraph","Properties":{"id":"20240201213454-1fovvzt","updated":"20240201213454"},"Children":[{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"strong","TextMarkTextContent":"描述"},{"Type":"NodeText","Data":"：现有用户信息表 "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"user_info"},{"Type":"NodeText","Data":"（"},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"uid"},{"Type":"NodeText","Data":" 用户 ID，"},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"nick_name"},{"Type":"NodeText","Data":" 昵称, "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"achievement"},{"Type":"NodeText","Data":" 成就值, "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"level"},{"Type":"NodeText","Data":" 等级, "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"job"},{"Type":"NodeText","Data":" 职业方向, "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"register_time"},{"Type":"NodeText","Data":" 注册时间），示例数据如下："}]},{"ID":"20240201213455-isscrb3","Type":"NodeTable","Data":"| id  | uid  | nick_name | achievement | level | job  | register_time       |\n| --- | ---- | --------- | ----------- | ----- | ---- | ------------------- |\n| 1   | 1001 | 牛客 1 号 | 3100        | 7     | 算法 | 2020-01-01 10:00:00 |\n| 2   | 1002 | 牛客 2 号 | 2100        | 6     | 算法 | 2020-01-01 10:00:00 |\n| 3   | 1003 | 牛客 3 号 | 1500        | 5     | 算法 | 2020-01-01 10:00:00 |\n| 4   | 1004 | 牛客 4 号 | 1100        | 4     | 算法 | 2020-01-01 10:00:00 |\n| 5   | 1005 | 牛客 5 号 | 1600        | 6     | C++  | 2020-01-01 10:00:00 |\n| 6   | 1006 | 牛客 6 号 | 3000        | 6     | C++  | 2020-01-01 10:00:00 |","TableAligns":[0,0,0,0,0,0,0],"Properties":{"id":"20240201213455-isscrb3","updated":"20240201213455"},"Children":[{"Type":"NodeTableHead","Properties":{"id":""},"Children":[{"Type":"NodeTableRow","Properties":{"id":""},"Children":[{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"id"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"uid"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"nick_name"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"achievement"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"level"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"job"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"register_time"}]}]}]},{"Type":"NodeTableRow","TableAligns":[0,0,0,0,0,0,0],"Properties":{"id":""},"Children":[{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"1"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"1001"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"牛客 1 号"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"3100"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"7"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"算法"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"2020-01-01 10:00:00"}]}]},{"Type":"NodeTableRow","TableAligns":[0,0,0,0,0,0,0],"Properties":{"id":""},"Children":[{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"2"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"1002"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"牛客 2 号"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"2100"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"6"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"算法"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"2020-01-01 10:00:00"}]}]},{"Type":"NodeTableRow","TableAligns":[0,0,0,0,0,0,0],"Properties":{"id":""},"Children":[{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"3"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"1003"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"牛客 3 号"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"1500"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"5"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"算法"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"2020-01-01 10:00:00"}]}]},{"Type":"NodeTableRow","TableAligns":[0,0,0,0,0,0,0],"Properties":{"id":""},"Children":[{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"4"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"1004"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"牛客 4 号"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"1100"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"4"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"算法"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"2020-01-01 10:00:00"}]}]},{"Type":"NodeTableRow","TableAligns":[0,0,0,0,0,0,0],"Properties":{"id":""},"Children":[{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"5"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"1005"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"牛客 5 号"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"1600"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"6"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"C++"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"2020-01-01 10:00:00"}]}]},{"Type":"NodeTableRow","TableAligns":[0,0,0,0,0,0,0],"Properties":{"id":""},"Children":[{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"6"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"1006"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"牛客 6 号"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"3000"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"6"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"C++"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"2020-01-01 10:00:00"}]}]}]},{"ID":"20240201213456-qrhscg4","Type":"NodeParagraph","Properties":{"id":"20240201213456-qrhscg4","updated":"20240201213456"},"Children":[{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"strong","TextMarkTextContent":"释义"},{"Type":"NodeText","Data":"：用户 1001 昵称为牛客 1 号，成就值为 3100，用户等级是 7 级，职业方向为算法，注册时间 2020-01-01 10:00:00"}]},{"ID":"20240201213457-37wxpwi","Type":"NodeParagraph","Properties":{"id":"20240201213457-37wxpwi","updated":"20240201213457"},"Children":[{"Type":"NodeText","Data":"试卷信息表 "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"examination_info"},{"Type":"NodeText","Data":"（"},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"exam_id"},{"Type":"NodeText","Data":" 试卷 ID, "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"tag"},{"Type":"NodeText","Data":" 试卷类别, "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"difficulty"},{"Type":"NodeText","Data":" 试卷难度, "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"duration"},{"Type":"NodeText","Data":" 考试时长, "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"release_time"},{"Type":"NodeText","Data":" 发布时间） 示例数据如下："}]},{"ID":"20240201213458-wltub7b","Type":"NodeTable","Data":"| id  | exam_id | tag  | difficulty | duration | release_time        |\n| --- | ------- | ---- | ---------- | -------- | ------------------- |\n| 1   | 9001    | SQL  | hard       | 60       | 2021-09-01 06:00:00 |\n| 2   | 9002    | C++  | easy       | 60       | 2020-02-01 10:00:00 |\n| 3   | 9003    | 算法 | medium     | 80       | 2020-08-02 10:00:00 |","TableAligns":[0,0,0,0,0,0],"Properties":{"id":"20240201213458-wltub7b","updated":"20240201213458"},"Children":[{"Type":"NodeTableHead","Properties":{"id":""},"Children":[{"Type":"NodeTableRow","Properties":{"id":""},"Children":[{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"id"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"exam_id"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"tag"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"difficulty"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"duration"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"release_time"}]}]}]},{"Type":"NodeTableRow","TableAligns":[0,0,0,0,0,0],"Properties":{"id":""},"Children":[{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"1"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"9001"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"SQL"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"hard"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"60"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"2021-09-01 06:00:00"}]}]},{"Type":"NodeTableRow","TableAligns":[0,0,0,0,0,0],"Properties":{"id":""},"Children":[{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"2"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"9002"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"C++"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"easy"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"60"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"2020-02-01 10:00:00"}]}]},{"Type":"NodeTableRow","TableAligns":[0,0,0,0,0,0],"Properties":{"id":""},"Children":[{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"3"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"9003"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"算法"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"medium"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"80"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"2020-08-02 10:00:00"}]}]}]},{"ID":"20240201213459-e9wv6k0","Type":"NodeParagraph","Properties":{"id":"20240201213459-e9wv6k0","updated":"20240201213459"},"Children":[{"Type":"NodeText","Data":"试卷作答记录表 "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"exam_record"},{"Type":"NodeText","Data":"（"},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"uid"},{"Type":"NodeText","Data":" 用户 ID, "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"exam_id"},{"Type":"NodeText","Data":" 试卷 ID, "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"start_time"},{"Type":"NodeText","Data":" 开始作答时间, "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"submit_time"},{"Type":"NodeText","Data":" 交卷时间, "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"score"},{"Type":"NodeText","Data":" 得分） 示例数据如下："}]},{"ID":"20240201213460-tb8e03s","Type":"NodeTable","Data":"| id  | uid  | exam_id | start_time          | submit_time         | score  |\n| --- | ---- | ------- | ------------------- | ------------------- | ------ |\n| 1   | 1001 | 9001    | 2021-07-02 09:01:01 | 2021-09-01 09:41:01 | 70     |\n| 2   | 1002 | 9003    | 2021-09-01 12:01:01 | 2021-09-01 12:21:01 | 60     |\n| 3   | 1002 | 9002    | 2021-09-02 12:01:01 | 2021-09-02 12:31:01 | 70     |\n| 4   | 1002 | 9001    | 2021-09-01 19:01:01 | 2021-09-01 19:40:01 | 80     |\n| 5   | 1002 | 9003    | 2021-08-01 12:01:01 | 2021-08-01 12:21:01 | 60     |\n| 6   | 1002 | 9002    | 2021-08-02 12:01:01 | 2021-08-02 12:31:01 | 70     |\n| 7   | 1002 | 9001    | 2021-09-01 19:01:01 | 2021-09-01 19:40:01 | 85     |\n| 8   | 1002 | 9002    | 2021-07-06 12:01:01 | (NULL)              | (NULL) |\n| 9   | 1003 | 9002    | 2021-09-07 10:01:01 | 2021-09-07 10:31:01 | 86     |\n| 10  | 1003 | 9003    | 2021-09-08 12:01:01 | 2021-09-08 12:11:01 | 40     |\n| 11  | 1003 | 9003    | 2021-09-01 13:01:01 | 2021-09-01 13:41:01 | 70     |\n| 12  | 1003 | 9001    | 2021-09-08 14:01:01 | (NULL)              | (NULL) |\n| 13  | 1003 | 9002    | 2021-09-08 15:01:01 | (NULL)              | (NULL) |\n| 14  | 1005 | 9001    | 2021-09-01 12:01:01 | 2021-09-01 12:31:01 | 90     |\n| 15  | 1005 | 9002    | 2021-09-01 12:01:01 | 2021-09-01 12:31:01 | 88     |\n| 16  | 1005 | 9002    | 2021-09-02 12:11:01 | 2021-09-02 12:31:01 | 89     |","TableAligns":[0,0,0,0,0,0],"Properties":{"id":"20240201213460-tb8e03s","updated":"20240201213460"},"Children":[{"Type":"NodeTableHead","Properties":{"id":""},"Children":[{"Type":"NodeTableRow","Properties":{"id":""},"Children":[{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"id"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"uid"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"exam_id"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"start_time"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"submit_time"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"score"}]}]}]},{"Type":"NodeTableRow","TableAligns":[0,0,0,0,0,0],"Properties":{"id":""},"Children":[{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"1"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"1001"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"9001"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"2021-07-02 09:01:01"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"2021-09-01 09:41:01"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"70"}]}]},{"Type":"NodeTableRow","TableAligns":[0,0,0,0,0,0],"Properties":{"id":""},"Children":[{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"2"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"1002"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"9003"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"2021-09-01 12:01:01"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"2021-09-01 12:21:01"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"60"}]}]},{"Type":"NodeTableRow","TableAligns":[0,0,0,0,0,0],"Properties":{"id":""},"Children":[{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"3"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"1002"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"9002"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"2021-09-02 12:01:01"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"2021-09-02 12:31:01"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"70"}]}]},{"Type":"NodeTableRow","TableAligns":[0,0,0,0,0,0],"Properties":{"id":""},"Children":[{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"4"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"1002"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"9001"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"2021-09-01 19:01:01"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"2021-09-01 19:40:01"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"80"}]}]},{"Type":"NodeTableRow","TableAligns":[0,0,0,0,0,0],"Properties":{"id":""},"Children":[{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"5"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"1002"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"9003"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"2021-08-01 12:01:01"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"2021-08-01 12:21:01"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"60"}]}]},{"Type":"NodeTableRow","TableAligns":[0,0,0,0,0,0],"Properties":{"id":""},"Children":[{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"6"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"1002"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"9002"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"2021-08-02 12:01:01"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"2021-08-02 12:31:01"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"70"}]}]},{"Type":"NodeTableRow","TableAligns":[0,0,0,0,0,0],"Properties":{"id":""},"Children":[{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"7"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"1002"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"9001"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"2021-09-01 19:01:01"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"2021-09-01 19:40:01"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"85"}]}]},{"Type":"NodeTableRow","TableAligns":[0,0,0,0,0,0],"Properties":{"id":""},"Children":[{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"8"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"1002"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"9002"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"2021-07-06 12:01:01"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"(NULL)"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"(NULL)"}]}]},{"Type":"NodeTableRow","TableAligns":[0,0,0,0,0,0],"Properties":{"id":""},"Children":[{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"9"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"1003"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"9002"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"2021-09-07 10:01:01"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"2021-09-07 10:31:01"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"86"}]}]},{"Type":"NodeTableRow","TableAligns":[0,0,0,0,0,0],"Properties":{"id":""},"Children":[{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"10"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"1003"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"9003"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"2021-09-08 12:01:01"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"2021-09-08 12:11:01"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"40"}]}]},{"Type":"NodeTableRow","TableAligns":[0,0,0,0,0,0],"Properties":{"id":""},"Children":[{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"11"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"1003"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"9003"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"2021-09-01 13:01:01"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"2021-09-01 13:41:01"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"70"}]}]},{"Type":"NodeTableRow","TableAligns":[0,0,0,0,0,0],"Properties":{"id":""},"Children":[{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"12"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"1003"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"9001"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"2021-09-08 14:01:01"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"(NULL)"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"(NULL)"}]}]},{"Type":"NodeTableRow","TableAligns":[0,0,0,0,0,0],"Properties":{"id":""},"Children":[{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"13"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"1003"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"9002"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"2021-09-08 15:01:01"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"(NULL)"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"(NULL)"}]}]},{"Type":"NodeTableRow","TableAligns":[0,0,0,0,0,0],"Properties":{"id":""},"Children":[{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"14"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"1005"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"9001"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"2021-09-01 12:01:01"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"2021-09-01 12:31:01"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"90"}]}]},{"Type":"NodeTableRow","TableAligns":[0,0,0,0,0,0],"Properties":{"id":""},"Children":[{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"15"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"1005"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"9002"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"2021-09-01 12:01:01"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"2021-09-01 12:31:01"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"88"}]}]},{"Type":"NodeTableRow","TableAligns":[0,0,0,0,0,0],"Properties":{"id":""},"Children":[{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"16"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"1005"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"9002"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"2021-09-02 12:11:01"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"2021-09-02 12:31:01"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"89"}]}]}]},{"ID":"20240201213461-gsbyvq0","Type":"NodeParagraph","Properties":{"id":"20240201213461-gsbyvq0","updated":"20240201213461"},"Children":[{"Type":"NodeText","Data":"请计算每张 SQL 类别试卷发布后，当天 5 级以上的用户作答的人数 "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"uv"},{"Type":"NodeText","Data":" 和平均分 "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"avg_score"},{"Type":"NodeText","Data":"，按人数降序，相同人数的按平均分升序，示例数据结果输出如下："}]},{"ID":"20240201213462-fnyzo9d","Type":"NodeTable","Data":"| exam_id | uv  | avg_score |\n| ------- | --- | --------- |\n| 9001    | 3   | 81.3      |","TableAligns":[0,0,0],"Properties":{"id":"20240201213462-fnyzo9d","updated":"20240201213462"},"Children":[{"Type":"NodeTableHead","Properties":{"id":""},"Children":[{"Type":"NodeTableRow","Properties":{"id":""},"Children":[{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"exam_id"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"uv"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"avg_score"}]}]}]},{"Type":"NodeTableRow","TableAligns":[0,0,0],"Properties":{"id":""},"Children":[{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"9001"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"3"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"81.3"}]}]}]},{"ID":"20240201213463-qaog2c0","Type":"NodeParagraph","Properties":{"id":"20240201213463-qaog2c0","updated":"20240201213463"},"Children":[{"Type":"NodeText","Data":"解释：只有一张 SQL 类别的试卷，试卷 ID 为 9001，发布当天（2021-09-01）有 1001、1002、1003、1005 作答过，但是 1003 是 5 级用户，其他 3 位为 5 级以上，他们三的得分有[70,80,85,90]，平均分为 81.3（保留 1 位小数）。"}]},{"ID":"20240201213464-3wz5e2b","Type":"NodeParagraph","Properties":{"id":"20240201213464-3wz5e2b","updated":"20240201213464"},"Children":[{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"strong","TextMarkTextContent":"思路"},{"Type":"NodeText","Data":"：这题看似很复杂，但是先逐步将“外边”条件拆分，然后合拢到一起，答案就出来，多表查询反正记住：由外向里，抽丝剥茧。"}]},{"ID":"20240201213465-qk0grrr","Type":"NodeParagraph","Properties":{"id":"20240201213465-qk0grrr","updated":"20240201213465"},"Children":[{"Type":"NodeText","Data":"先把三种表连起来，同时给定一些条件，比如题目中要求"},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"等级\u0026gt; 5"},{"Type":"NodeText","Data":"的用户，那么可以先查出来"}]},{"ID":"20240201213466-r9pr0vt","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"CodeBlockFenceChar":96,"CodeBlockFenceLen":3,"CodeBlockOpenFence":"YGBg","CodeBlockInfo":"c3Fs","CodeBlockCloseFence":"YGBg","Properties":{"id":"20240201213466-r9pr0vt","updated":"20240201213466"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"c3Fs","Properties":{"id":""}},{"Type":"NodeCodeBlockCode","Data":"SELECT DISTINCT u_info.uid\nFROM examination_info e_info\nINNER JOIN exam_record record\nINNER JOIN user_info u_info\nWHERE e_info.exam_id = record.exam_id\n  AND u_info.uid = record.uid\n  AND u_info.LEVEL \u003e 5\n","Properties":{"id":""}},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}}]},{"ID":"20240201213467-k7pmxan","Type":"NodeParagraph","Properties":{"id":"20240201213467-k7pmxan","updated":"20240201213467"},"Children":[{"Type":"NodeText","Data":"接着注意题目中要求："},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"每张sql类别试卷发布后，当天作答用户"},{"Type":"NodeText","Data":"，注意其中的"},{"Type":"NodeTextMark","TextMarkType":"mark","TextMarkTextContent":"当天"},{"Type":"NodeText","Data":"，那我们马上就要想到要用到时间的比较。"}]},{"ID":"20240201213468-jt99r36","Type":"NodeParagraph","Properties":{"id":"20240201213468-jt99r36","updated":"20240201213468"},"Children":[{"Type":"NodeText","Data":"对试卷发布日期和开始考试日期进行比较："},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"DATE(e_info.release_time) = DATE(record.start_time)"},{"Type":"NodeText","Data":"；不用担心"},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"submit_time"},{"Type":"NodeText","Data":" 为 null 的问题，后续在 where 中会给过滤掉。"}]},{"ID":"20240201213469-felw18w","Type":"NodeParagraph","Properties":{"id":"20240201213469-felw18w","updated":"20240201213469"},"Children":[{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"strong","TextMarkTextContent":"答案"},{"Type":"NodeText","Data":"："}]},{"ID":"20240201213470-egeb4ce","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"CodeBlockFenceChar":96,"CodeBlockFenceLen":3,"CodeBlockOpenFence":"YGBg","CodeBlockInfo":"c3Fs","CodeBlockCloseFence":"YGBg","Properties":{"id":"20240201213470-egeb4ce","updated":"20240201213470"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"c3Fs","Properties":{"id":""}},{"Type":"NodeCodeBlockCode","Data":"SELECT record.exam_id AS exam_id,\n       COUNT(DISTINCT u_info.uid) AS uv,\n       ROUND(SUM(record.score) / COUNT(u_info.uid), 1) AS avg_score\nFROM examination_info e_info\nINNER JOIN exam_record record\nINNER JOIN user_info u_info\nWHERE e_info.exam_id = record.exam_id\n  AND u_info.uid = record.uid\n  AND DATE (e_info.release_time) = DATE (record.start_time)\n  AND submit_time IS NOT NULL\n  AND tag = 'SQL'\n  AND u_info.LEVEL \u003e 5\nGROUP BY record.exam_id\nORDER BY uv DESC,\n         avg_score ASC\n","Properties":{"id":""}},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}}]},{"ID":"20240201213471-fcrbn1w","Type":"NodeParagraph","Properties":{"id":"20240201213471-fcrbn1w","updated":"20240201213471"},"Children":[{"Type":"NodeText","Data":"注意最后的分组排序！先按人数排，若一致，按平均分排。"}]},{"ID":"20240201213472-ixdeziq","Type":"NodeHeading","HeadingLevel":3,"Properties":{"id":"20240201213472-ixdeziq","updated":"20240201213472"},"Children":[{"Type":"NodeHeadingC8hMarker","Data":"### ","Properties":{"id":""}},{"Type":"NodeText","Data":"作答试卷得分大于过 80 的人的用户等级分布"}]},{"ID":"20240201213473-je1d7rz","Type":"NodeParagraph","Properties":{"id":"20240201213473-je1d7rz","updated":"20240201213473"},"Children":[{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"strong","TextMarkTextContent":"描述"},{"Type":"NodeText","Data":"："}]},{"ID":"20240201213474-f8xjfhi","Type":"NodeParagraph","Properties":{"id":"20240201213474-f8xjfhi","updated":"20240201213474"},"Children":[{"Type":"NodeText","Data":"现有用户信息表 "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"user_info"},{"Type":"NodeText","Data":"（"},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"uid"},{"Type":"NodeText","Data":" 用户 ID，"},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"nick_name"},{"Type":"NodeText","Data":" 昵称, "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"achievement"},{"Type":"NodeText","Data":" 成就值, "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"level"},{"Type":"NodeText","Data":" 等级, "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"job"},{"Type":"NodeText","Data":" 职业方向, "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"register_time"},{"Type":"NodeText","Data":" 注册时间）："}]},{"ID":"20240201213475-n0mzxj0","Type":"NodeTable","Data":"| id  | uid  | nick_name | achievement | level | job  | register_time       |\n| --- | ---- | --------- | ----------- | ----- | ---- | ------------------- |\n| 1   | 1001 | 牛客 1 号 | 3100        | 7     | 算法 | 2020-01-01 10:00:00 |\n| 2   | 1002 | 牛客 2 号 | 2100        | 6     | 算法 | 2020-01-01 10:00:00 |\n| 3   | 1003 | 牛客 3 号 | 1500        | 5     | 算法 | 2020-01-01 10:00:00 |\n| 4   | 1004 | 牛客 4 号 | 1100        | 4     | 算法 | 2020-01-01 10:00:00 |\n| 5   | 1005 | 牛客 5 号 | 1600        | 6     | C++  | 2020-01-01 10:00:00 |\n| 6   | 1006 | 牛客 6 号 | 3000        | 6     | C++  | 2020-01-01 10:00:00 |","TableAligns":[0,0,0,0,0,0,0],"Properties":{"id":"20240201213475-n0mzxj0","updated":"20240201213475"},"Children":[{"Type":"NodeTableHead","Properties":{"id":""},"Children":[{"Type":"NodeTableRow","Properties":{"id":""},"Children":[{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"id"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"uid"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"nick_name"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"achievement"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"level"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"job"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"register_time"}]}]}]},{"Type":"NodeTableRow","TableAligns":[0,0,0,0,0,0,0],"Properties":{"id":""},"Children":[{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"1"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"1001"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"牛客 1 号"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"3100"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"7"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"算法"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"2020-01-01 10:00:00"}]}]},{"Type":"NodeTableRow","TableAligns":[0,0,0,0,0,0,0],"Properties":{"id":""},"Children":[{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"2"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"1002"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"牛客 2 号"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"2100"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"6"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"算法"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"2020-01-01 10:00:00"}]}]},{"Type":"NodeTableRow","TableAligns":[0,0,0,0,0,0,0],"Properties":{"id":""},"Children":[{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"3"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"1003"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"牛客 3 号"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"1500"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"5"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"算法"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"2020-01-01 10:00:00"}]}]},{"Type":"NodeTableRow","TableAligns":[0,0,0,0,0,0,0],"Properties":{"id":""},"Children":[{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"4"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"1004"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"牛客 4 号"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"1100"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"4"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"算法"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"2020-01-01 10:00:00"}]}]},{"Type":"NodeTableRow","TableAligns":[0,0,0,0,0,0,0],"Properties":{"id":""},"Children":[{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"5"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"1005"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"牛客 5 号"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"1600"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"6"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"C++"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"2020-01-01 10:00:00"}]}]},{"Type":"NodeTableRow","TableAligns":[0,0,0,0,0,0,0],"Properties":{"id":""},"Children":[{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"6"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"1006"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"牛客 6 号"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"3000"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"6"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"C++"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"2020-01-01 10:00:00"}]}]}]},{"ID":"20240201213476-dl1q8eg","Type":"NodeParagraph","Properties":{"id":"20240201213476-dl1q8eg","updated":"20240201213476"},"Children":[{"Type":"NodeText","Data":"试卷信息表 "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"examination_info"},{"Type":"NodeText","Data":"（"},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"exam_id"},{"Type":"NodeText","Data":" 试卷 ID, "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"tag"},{"Type":"NodeText","Data":" 试卷类别, "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"difficulty"},{"Type":"NodeText","Data":" 试卷难度, "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"duration"},{"Type":"NodeText","Data":" 考试时长, "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"release_time"},{"Type":"NodeText","Data":" 发布时间）："}]},{"ID":"20240201213477-wpeovle","Type":"NodeTable","Data":"| id  | exam_id | tag  | difficulty | duration | release_time        |\n| --- | ------- | ---- | ---------- | -------- | ------------------- |\n| 1   | 9001    | SQL  | hard       | 60       | 2021-09-01 06:00:00 |\n| 2   | 9002    | C++  | easy       | 60       | 2021-09-01 06:00:00 |\n| 3   | 9003    | 算法 | medium     | 80       | 2021-09-01 10:00:00 |","TableAligns":[0,0,0,0,0,0],"Properties":{"id":"20240201213477-wpeovle","updated":"20240201213477"},"Children":[{"Type":"NodeTableHead","Properties":{"id":""},"Children":[{"Type":"NodeTableRow","Properties":{"id":""},"Children":[{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"id"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"exam_id"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"tag"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"difficulty"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"duration"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"release_time"}]}]}]},{"Type":"NodeTableRow","TableAligns":[0,0,0,0,0,0],"Properties":{"id":""},"Children":[{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"1"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"9001"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"SQL"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"hard"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"60"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"2021-09-01 06:00:00"}]}]},{"Type":"NodeTableRow","TableAligns":[0,0,0,0,0,0],"Properties":{"id":""},"Children":[{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"2"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"9002"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"C++"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"easy"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"60"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"2021-09-01 06:00:00"}]}]},{"Type":"NodeTableRow","TableAligns":[0,0,0,0,0,0],"Properties":{"id":""},"Children":[{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"3"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"9003"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"算法"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"medium"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"80"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"2021-09-01 10:00:00"}]}]}]},{"ID":"20240201213478-t3qxe02","Type":"NodeParagraph","Properties":{"id":"20240201213478-t3qxe02","updated":"20240201213478"},"Children":[{"Type":"NodeText","Data":"试卷作答信息表 "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"exam_record"},{"Type":"NodeText","Data":"（"},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"uid"},{"Type":"NodeText","Data":" 用户 ID, "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"exam_id"},{"Type":"NodeText","Data":" 试卷 ID, "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"start_time"},{"Type":"NodeText","Data":" 开始作答时间, "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"submit_time"},{"Type":"NodeText","Data":" 交卷时间, "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"score"},{"Type":"NodeText","Data":" 得分）："}]},{"ID":"20240201213479-odvi5e0","Type":"NodeTable","Data":"| id  | uid  | exam_id | start_time          | submit_time         | score  |\n| --- | ---- | ------- | ------------------- | ------------------- | ------ |\n| 1   | 1001 | 9001    | 2021-09-01 09:01:01 | 2021-09-01 09:41:01 | 79     |\n| 2   | 1002 | 9003    | 2021-09-01 12:01:01 | 2021-09-01 12:21:01 | 60     |\n| 3   | 1002 | 9002    | 2021-09-01 12:01:01 | 2021-09-01 12:31:01 | 70     |\n| 4   | 1002 | 9001    | 2021-09-01 19:01:01 | 2021-09-01 19:40:01 | 80     |\n| 5   | 1002 | 9003    | 2021-08-01 12:01:01 | 2021-08-01 12:21:01 | 60     |\n| 6   | 1002 | 9002    | 2021-09-01 12:01:01 | 2021-09-01 12:31:01 | 70     |\n| 7   | 1002 | 9001    | 2021-09-01 19:01:01 | 2021-09-01 19:40:01 | 85     |\n| 8   | 1002 | 9002    | 2021-09-01 12:01:01 | (NULL)              | (NULL) |\n| 9   | 1003 | 9002    | 2021-09-07 10:01:01 | 2021-09-07 10:31:01 | 86     |\n| 10  | 1003 | 9003    | 2021-09-08 12:01:01 | 2021-09-08 12:11:01 | 40     |\n| 11  | 1003 | 9003    | 2021-09-01 13:01:01 | 2021-09-01 13:41:01 | 81     |\n| 12  | 1003 | 9001    | 2021-09-01 14:01:01 | (NULL)              | (NULL) |\n| 13  | 1003 | 9002    | 2021-09-08 15:01:01 | (NULL)              | (NULL) |\n| 14  | 1005 | 9001    | 2021-09-01 12:01:01 | 2021-09-01 12:31:01 | 90     |\n| 15  | 1005 | 9002    | 2021-09-01 12:01:01 | 2021-09-01 12:31:01 | 88     |\n| 16  | 1005 | 9002    | 2021-09-02 12:11:01 | 2021-09-02 12:31:01 | 89     |","TableAligns":[0,0,0,0,0,0],"Properties":{"id":"20240201213479-odvi5e0","updated":"20240201213479"},"Children":[{"Type":"NodeTableHead","Properties":{"id":""},"Children":[{"Type":"NodeTableRow","Properties":{"id":""},"Children":[{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"id"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"uid"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"exam_id"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"start_time"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"submit_time"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"score"}]}]}]},{"Type":"NodeTableRow","TableAligns":[0,0,0,0,0,0],"Properties":{"id":""},"Children":[{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"1"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"1001"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"9001"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"2021-09-01 09:01:01"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"2021-09-01 09:41:01"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"79"}]}]},{"Type":"NodeTableRow","TableAligns":[0,0,0,0,0,0],"Properties":{"id":""},"Children":[{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"2"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"1002"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"9003"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"2021-09-01 12:01:01"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"2021-09-01 12:21:01"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"60"}]}]},{"Type":"NodeTableRow","TableAligns":[0,0,0,0,0,0],"Properties":{"id":""},"Children":[{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"3"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"1002"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"9002"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"2021-09-01 12:01:01"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"2021-09-01 12:31:01"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"70"}]}]},{"Type":"NodeTableRow","TableAligns":[0,0,0,0,0,0],"Properties":{"id":""},"Children":[{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"4"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"1002"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"9001"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"2021-09-01 19:01:01"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"2021-09-01 19:40:01"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"80"}]}]},{"Type":"NodeTableRow","TableAligns":[0,0,0,0,0,0],"Properties":{"id":""},"Children":[{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"5"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"1002"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"9003"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"2021-08-01 12:01:01"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"2021-08-01 12:21:01"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"60"}]}]},{"Type":"NodeTableRow","TableAligns":[0,0,0,0,0,0],"Properties":{"id":""},"Children":[{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"6"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"1002"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"9002"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"2021-09-01 12:01:01"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"2021-09-01 12:31:01"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"70"}]}]},{"Type":"NodeTableRow","TableAligns":[0,0,0,0,0,0],"Properties":{"id":""},"Children":[{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"7"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"1002"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"9001"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"2021-09-01 19:01:01"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"2021-09-01 19:40:01"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"85"}]}]},{"Type":"NodeTableRow","TableAligns":[0,0,0,0,0,0],"Properties":{"id":""},"Children":[{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"8"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"1002"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"9002"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"2021-09-01 12:01:01"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"(NULL)"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"(NULL)"}]}]},{"Type":"NodeTableRow","TableAligns":[0,0,0,0,0,0],"Properties":{"id":""},"Children":[{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"9"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"1003"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"9002"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"2021-09-07 10:01:01"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"2021-09-07 10:31:01"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"86"}]}]},{"Type":"NodeTableRow","TableAligns":[0,0,0,0,0,0],"Properties":{"id":""},"Children":[{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"10"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"1003"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"9003"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"2021-09-08 12:01:01"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"2021-09-08 12:11:01"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"40"}]}]},{"Type":"NodeTableRow","TableAligns":[0,0,0,0,0,0],"Properties":{"id":""},"Children":[{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"11"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"1003"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"9003"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"2021-09-01 13:01:01"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"2021-09-01 13:41:01"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"81"}]}]},{"Type":"NodeTableRow","TableAligns":[0,0,0,0,0,0],"Properties":{"id":""},"Children":[{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"12"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"1003"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"9001"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"2021-09-01 14:01:01"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"(NULL)"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"(NULL)"}]}]},{"Type":"NodeTableRow","TableAligns":[0,0,0,0,0,0],"Properties":{"id":""},"Children":[{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"13"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"1003"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"9002"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"2021-09-08 15:01:01"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"(NULL)"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"(NULL)"}]}]},{"Type":"NodeTableRow","TableAligns":[0,0,0,0,0,0],"Properties":{"id":""},"Children":[{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"14"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"1005"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"9001"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"2021-09-01 12:01:01"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"2021-09-01 12:31:01"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"90"}]}]},{"Type":"NodeTableRow","TableAligns":[0,0,0,0,0,0],"Properties":{"id":""},"Children":[{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"15"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"1005"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"9002"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"2021-09-01 12:01:01"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"2021-09-01 12:31:01"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"88"}]}]},{"Type":"NodeTableRow","TableAligns":[0,0,0,0,0,0],"Properties":{"id":""},"Children":[{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"16"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"1005"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"9002"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"2021-09-02 12:11:01"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"2021-09-02 12:31:01"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"89"}]}]}]},{"ID":"20240201213480-y84k2g0","Type":"NodeParagraph","Properties":{"id":"20240201213480-y84k2g0","updated":"20240201213480"},"Children":[{"Type":"NodeText","Data":"统计作答 SQL 类别的试卷得分大于过 80 的人的用户等级分布，按数量降序排序（保证数量都不同）。示例数据结果输出如下："}]},{"ID":"20240201213481-9hfgw7s","Type":"NodeTable","Data":"| level | level_cnt |\n| ----- | --------- |\n| 6     | 2         |\n| 5     | 1         |","TableAligns":[0,0],"Properties":{"id":"20240201213481-9hfgw7s","updated":"20240201213481"},"Children":[{"Type":"NodeTableHead","Properties":{"id":""},"Children":[{"Type":"NodeTableRow","Properties":{"id":""},"Children":[{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"level"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"level_cnt"}]}]}]},{"Type":"NodeTableRow","TableAligns":[0,0],"Properties":{"id":""},"Children":[{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"6"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"2"}]}]},{"Type":"NodeTableRow","TableAligns":[0,0],"Properties":{"id":""},"Children":[{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"5"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"1"}]}]}]},{"ID":"20240201213482-voye958","Type":"NodeParagraph","Properties":{"id":"20240201213482-voye958","updated":"20240201213482"},"Children":[{"Type":"NodeText","Data":"解释：9001 为 SQL 类试卷，作答该试卷大于 80 分的人有 1002、1003、1005 共 3 人，6 级两人，5 级一人。"}]},{"ID":"20240201213483-lxcfn2w","Type":"NodeParagraph","Properties":{"id":"20240201213483-lxcfn2w","updated":"20240201213483"},"Children":[{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"思路："},{"Type":"NodeText","Data":"这题和上一题都是一样的数据，只是查询条件改变了而已，上一题理解了，这题分分钟做出来。"}]},{"ID":"20240201213484-q49reqt","Type":"NodeParagraph","Properties":{"id":"20240201213484-q49reqt","updated":"20240201213484"},"Children":[{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"strong","TextMarkTextContent":"答案"},{"Type":"NodeText","Data":"："}]},{"ID":"20240201213485-ibo40ry","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"CodeBlockFenceChar":96,"CodeBlockFenceLen":3,"CodeBlockOpenFence":"YGBg","CodeBlockInfo":"c3Fs","CodeBlockCloseFence":"YGBg","Properties":{"id":"20240201213485-ibo40ry","updated":"20240201213485"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"c3Fs","Properties":{"id":""}},{"Type":"NodeCodeBlockCode","Data":"SELECT u_info.LEVEL AS LEVEL,\n       count(u_info.uid) AS level_cnt\nFROM examination_info e_info\nINNER JOIN exam_record record\nINNER JOIN user_info u_info\nWHERE e_info.exam_id = record.exam_id\n  AND u_info.uid = record.uid\n  AND record.score \u003e 80\n  AND submit_time IS NOT NULL\n  AND tag = 'SQL'\nGROUP BY LEVEL\nORDER BY level_cnt DESC\n","Properties":{"id":""}},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}}]},{"ID":"20240201213486-igzpa34","Type":"NodeHeading","HeadingLevel":2,"Properties":{"id":"20240201213486-igzpa34","updated":"20240201213486"},"Children":[{"Type":"NodeHeadingC8hMarker","Data":"## ","Properties":{"id":""}},{"Type":"NodeText","Data":"合并查询"}]},{"ID":"20240201213487-tvxwkcb","Type":"NodeHeading","HeadingLevel":3,"Properties":{"id":"20240201213487-tvxwkcb","updated":"20240201213487"},"Children":[{"Type":"NodeHeadingC8hMarker","Data":"### ","Properties":{"id":""}},{"Type":"NodeText","Data":"每个题目和每份试卷被作答的人数和次数"}]},{"ID":"20240201213488-il3eiii","Type":"NodeParagraph","Properties":{"id":"20240201213488-il3eiii","updated":"20240201213488"},"Children":[{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"strong","TextMarkTextContent":"描述"},{"Type":"NodeText","Data":"："}]},{"ID":"20240201213489-8mcd66l","Type":"NodeParagraph","Properties":{"id":"20240201213489-8mcd66l","updated":"20240201213489"},"Children":[{"Type":"NodeText","Data":"现有试卷作答记录表 exam_record（uid 用户 ID, exam_id 试卷 ID, start_time 开始作答时间, submit_time 交卷时间, score 得分）："}]},{"ID":"20240201213490-9p8hgor","Type":"NodeTable","Data":"| id  | uid  | exam_id | start_time          | submit_time         | score  |\n| --- | ---- | ------- | ------------------- | ------------------- | ------ |\n| 1   | 1001 | 9001    | 2021-09-01 09:01:01 | 2021-09-01 09:41:01 | 81     |\n| 2   | 1002 | 9002    | 2021-09-01 12:01:01 | 2021-09-01 12:31:01 | 70     |\n| 3   | 1002 | 9001    | 2021-09-01 19:01:01 | 2021-09-01 19:40:01 | 80     |\n| 4   | 1002 | 9002    | 2021-09-01 12:01:01 | 2021-09-01 12:31:01 | 70     |\n| 5   | 1004 | 9001    | 2021-09-01 19:01:01 | 2021-09-01 19:40:01 | 85     |\n| 6   | 1002 | 9002    | 2021-09-01 12:01:01 | (NULL)              | (NULL) |","TableAligns":[0,0,0,0,0,0],"Properties":{"id":"20240201213490-9p8hgor","updated":"20240201213490"},"Children":[{"Type":"NodeTableHead","Properties":{"id":""},"Children":[{"Type":"NodeTableRow","Properties":{"id":""},"Children":[{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"id"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"uid"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"exam_id"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"start_time"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"submit_time"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"score"}]}]}]},{"Type":"NodeTableRow","TableAligns":[0,0,0,0,0,0],"Properties":{"id":""},"Children":[{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"1"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"1001"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"9001"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"2021-09-01 09:01:01"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"2021-09-01 09:41:01"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"81"}]}]},{"Type":"NodeTableRow","TableAligns":[0,0,0,0,0,0],"Properties":{"id":""},"Children":[{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"2"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"1002"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"9002"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"2021-09-01 12:01:01"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"2021-09-01 12:31:01"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"70"}]}]},{"Type":"NodeTableRow","TableAligns":[0,0,0,0,0,0],"Properties":{"id":""},"Children":[{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"3"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"1002"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"9001"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"2021-09-01 19:01:01"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"2021-09-01 19:40:01"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"80"}]}]},{"Type":"NodeTableRow","TableAligns":[0,0,0,0,0,0],"Properties":{"id":""},"Children":[{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"4"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"1002"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"9002"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"2021-09-01 12:01:01"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"2021-09-01 12:31:01"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"70"}]}]},{"Type":"NodeTableRow","TableAligns":[0,0,0,0,0,0],"Properties":{"id":""},"Children":[{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"5"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"1004"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"9001"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"2021-09-01 19:01:01"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"2021-09-01 19:40:01"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"85"}]}]},{"Type":"NodeTableRow","TableAligns":[0,0,0,0,0,0],"Properties":{"id":""},"Children":[{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"6"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"1002"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"9002"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"2021-09-01 12:01:01"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"(NULL)"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"(NULL)"}]}]}]},{"ID":"20240201213491-vgqcwfb","Type":"NodeParagraph","Properties":{"id":"20240201213491-vgqcwfb","updated":"20240201213491"},"Children":[{"Type":"NodeText","Data":"题目练习表 practice_record（uid 用户 ID, question_id 题目 ID, submit_time 提交时间, score 得分）："}]},{"ID":"20240201213492-uqulpka","Type":"NodeTable","Data":"| id  | uid  | question_id | submit_time         | score |\n| --- | ---- | ----------- | ------------------- | ----- |\n| 1   | 1001 | 8001        | 2021-08-02 11:41:01 | 60    |\n| 2   | 1002 | 8001        | 2021-09-02 19:30:01 | 50    |\n| 3   | 1002 | 8001        | 2021-09-02 19:20:01 | 70    |\n| 4   | 1002 | 8002        | 2021-09-02 19:38:01 | 70    |\n| 5   | 1003 | 8001        | 2021-08-02 19:38:01 | 70    |\n| 6   | 1003 | 8001        | 2021-08-02 19:48:01 | 90    |\n| 7   | 1003 | 8002        | 2021-08-01 19:38:01 | 80    |","TableAligns":[0,0,0,0,0],"Properties":{"id":"20240201213492-uqulpka","updated":"20240201213492"},"Children":[{"Type":"NodeTableHead","Properties":{"id":""},"Children":[{"Type":"NodeTableRow","Properties":{"id":""},"Children":[{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"id"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"uid"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"question_id"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"submit_time"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"score"}]}]}]},{"Type":"NodeTableRow","TableAligns":[0,0,0,0,0],"Properties":{"id":""},"Children":[{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"1"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"1001"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"8001"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"2021-08-02 11:41:01"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"60"}]}]},{"Type":"NodeTableRow","TableAligns":[0,0,0,0,0],"Properties":{"id":""},"Children":[{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"2"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"1002"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"8001"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"2021-09-02 19:30:01"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"50"}]}]},{"Type":"NodeTableRow","TableAligns":[0,0,0,0,0],"Properties":{"id":""},"Children":[{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"3"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"1002"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"8001"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"2021-09-02 19:20:01"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"70"}]}]},{"Type":"NodeTableRow","TableAligns":[0,0,0,0,0],"Properties":{"id":""},"Children":[{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"4"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"1002"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"8002"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"2021-09-02 19:38:01"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"70"}]}]},{"Type":"NodeTableRow","TableAligns":[0,0,0,0,0],"Properties":{"id":""},"Children":[{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"5"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"1003"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"8001"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"2021-08-02 19:38:01"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"70"}]}]},{"Type":"NodeTableRow","TableAligns":[0,0,0,0,0],"Properties":{"id":""},"Children":[{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"6"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"1003"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"8001"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"2021-08-02 19:48:01"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"90"}]}]},{"Type":"NodeTableRow","TableAligns":[0,0,0,0,0],"Properties":{"id":""},"Children":[{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"7"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"1003"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"8002"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"2021-08-01 19:38:01"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"80"}]}]}]},{"ID":"20240201213493-779cj39","Type":"NodeParagraph","Properties":{"id":"20240201213493-779cj39","updated":"20240201213493"},"Children":[{"Type":"NodeText","Data":"请统计每个题目和每份试卷被作答的人数和次数，分别按照\"试卷\"和\"题目\"的 uv \u0026 pv 降序显示，示例数据结果输出如下："}]},{"ID":"20240201213494-pnedym0","Type":"NodeTable","Data":"| tid  | uv  | pv  |\n| ---- | --- | --- |\n| 9001 | 3   | 3   |\n| 9002 | 1   | 3   |\n| 8001 | 3   | 5   |\n| 8002 | 2   | 2   |","TableAligns":[0,0,0],"Properties":{"id":"20240201213494-pnedym0","updated":"20240201213494"},"Children":[{"Type":"NodeTableHead","Properties":{"id":""},"Children":[{"Type":"NodeTableRow","Properties":{"id":""},"Children":[{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"tid"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"uv"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"pv"}]}]}]},{"Type":"NodeTableRow","TableAligns":[0,0,0],"Properties":{"id":""},"Children":[{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"9001"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"3"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"3"}]}]},{"Type":"NodeTableRow","TableAligns":[0,0,0],"Properties":{"id":""},"Children":[{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"9002"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"1"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"3"}]}]},{"Type":"NodeTableRow","TableAligns":[0,0,0],"Properties":{"id":""},"Children":[{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"8001"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"3"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"5"}]}]},{"Type":"NodeTableRow","TableAligns":[0,0,0],"Properties":{"id":""},"Children":[{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"8002"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"2"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"2"}]}]}]},{"ID":"20240201213495-ij5z8f7","Type":"NodeParagraph","Properties":{"id":"20240201213495-ij5z8f7","updated":"20240201213495"},"Children":[{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"strong","TextMarkTextContent":"解释"},{"Type":"NodeText","Data":"：“试卷”有 3 人共练习 3 次试卷 9001，1 人作答 3 次 9002；“刷题”有 3 人刷 5 次 8001，有 2 人刷 2 次 8002"}]},{"ID":"20240201213496-4u3g09j","Type":"NodeParagraph","Properties":{"id":"20240201213496-4u3g09j","updated":"20240201213496"},"Children":[{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"strong","TextMarkTextContent":"思路"},{"Type":"NodeText","Data":"：这题的难点和易错点在于"},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"UNION"},{"Type":"NodeText","Data":"和"},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"ORDER BY"},{"Type":"NodeText","Data":" 同时使用的问题"}]},{"ID":"20240201213497-a41x1to","Type":"NodeParagraph","Properties":{"id":"20240201213497-a41x1to","updated":"20240201213497"},"Children":[{"Type":"NodeText","Data":"有以下几种情况：使用"},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"union"},{"Type":"NodeText","Data":"和多个"},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"order by"},{"Type":"NodeText","Data":"不加括号，报错！"}]},{"ID":"20240201213498-zlvrun5","Type":"NodeParagraph","Properties":{"id":"20240201213498-zlvrun5","updated":"20240201213498"},"Children":[{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"order by"},{"Type":"NodeText","Data":"在"},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"union"},{"Type":"NodeText","Data":"连接的子句中不起作用；"}]},{"ID":"20240201213499-s3ewszx","Type":"NodeParagraph","Properties":{"id":"20240201213499-s3ewszx","updated":"20240201213499"},"Children":[{"Type":"NodeText","Data":"比如不加括号："}]},{"ID":"20240201213500-c1nl9sb","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"CodeBlockFenceChar":96,"CodeBlockFenceLen":3,"CodeBlockOpenFence":"YGBg","CodeBlockInfo":"c3Fs","CodeBlockCloseFence":"YGBg","Properties":{"id":"20240201213500-c1nl9sb","updated":"20240201213500"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"c3Fs","Properties":{"id":""}},{"Type":"NodeCodeBlockCode","Data":"SELECT exam_id AS tid,\n       COUNT(DISTINCT UID) AS uv,\n       COUNT(UID) AS pv\nFROM exam_record\nGROUP BY exam_id\nORDER BY uv DESC,\n         pv DESC\nUNION\nSELECT question_id AS tid,\n       COUNT(DISTINCT UID) AS uv,\n       COUNT(UID) AS pv\nFROM practice_record\nGROUP BY question_id\nORDER BY uv DESC,\n         pv DESC\n","Properties":{"id":""}},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}}]},{"ID":"20240201213501-1wyickn","Type":"NodeParagraph","Properties":{"id":"20240201213501-1wyickn","updated":"20240201213501"},"Children":[{"Type":"NodeText","Data":"直接报语法错误，如果没有括号，只能有一个"},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"order by"}]},{"ID":"20240201213502-wh5e0mo","Type":"NodeParagraph","Properties":{"id":"20240201213502-wh5e0mo","updated":"20240201213502"},"Children":[{"Type":"NodeText","Data":"还有一种"},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"order by"},{"Type":"NodeText","Data":"不起作用的情况，但是能在子句的子句中起作用，这里的解决方案就是在外面再套一层查询。"}]},{"ID":"20240201213503-9s6x36m","Type":"NodeParagraph","Properties":{"id":"20240201213503-9s6x36m","updated":"20240201213503"},"Children":[{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"strong","TextMarkTextContent":"答案"},{"Type":"NodeText","Data":"："}]},{"ID":"20240201213504-iucug76","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"CodeBlockFenceChar":96,"CodeBlockFenceLen":3,"CodeBlockOpenFence":"YGBg","CodeBlockInfo":"c3Fs","CodeBlockCloseFence":"YGBg","Properties":{"id":"20240201213504-iucug76","updated":"20240201213504"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"c3Fs","Properties":{"id":""}},{"Type":"NodeCodeBlockCode","Data":"SELECT *\nFROM\n  (SELECT exam_id AS tid,\n          COUNT(DISTINCT exam_record.uid) uv,\n          COUNT(*) pv\n   FROM exam_record\n   GROUP BY exam_id\n   ORDER BY uv DESC, pv DESC) t1\nUNION\nSELECT *\nFROM\n  (SELECT question_id AS tid,\n          COUNT(DISTINCT practice_record.uid) uv,\n          COUNT(*) pv\n   FROM practice_record\n   GROUP BY question_id\n   ORDER BY uv DESC, pv DESC) t2;\n","Properties":{"id":""}},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}}]},{"ID":"20240201213505-onxmxt0","Type":"NodeHeading","HeadingLevel":3,"Properties":{"id":"20240201213505-onxmxt0","updated":"20240201213505"},"Children":[{"Type":"NodeHeadingC8hMarker","Data":"### ","Properties":{"id":""}},{"Type":"NodeText","Data":"分别满足两个活动的人"}]},{"ID":"20240201213506-maigdf7","Type":"NodeParagraph","Properties":{"id":"20240201213506-maigdf7","updated":"20240201213506"},"Children":[{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"strong","TextMarkTextContent":"描述"},{"Type":"NodeText","Data":"： 为了促进更多用户在牛客平台学习和刷题进步，我们会经常给一些既活跃又表现不错的用户发放福利。假使以前我们有两拨运营活动，分别给每次试卷得分都能到 85 分的人（activity1）、至少有一次用了一半时间就完成高难度试卷且分数大于 80 的人（activity2）发了福利券。"}]},{"ID":"20240201213507-0l2s0b3","Type":"NodeParagraph","Properties":{"id":"20240201213507-0l2s0b3","updated":"20240201213507"},"Children":[{"Type":"NodeText","Data":"现在，需要你一次性将这两个活动满足的人筛选出来，交给运营同学。请写出一个 SQL 实现：输出 2021 年里，所有每次试卷得分都能到 85 分的人以及至少有一次用了一半时间就完成高难度试卷且分数大于 80 的人的 id 和活动号，按用户 ID 排序输出。"}]},{"ID":"20240201213508-1g229tt","Type":"NodeParagraph","Properties":{"id":"20240201213508-1g229tt","updated":"20240201213508"},"Children":[{"Type":"NodeText","Data":"现有试卷信息表 "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"examination_info"},{"Type":"NodeText","Data":"（"},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"exam_id"},{"Type":"NodeText","Data":" 试卷 ID, "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"tag"},{"Type":"NodeText","Data":" 试卷类别, "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"difficulty"},{"Type":"NodeText","Data":" 试卷难度, "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"duration"},{"Type":"NodeText","Data":" 考试时长, "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"release_time"},{"Type":"NodeText","Data":" 发布时间）："}]},{"ID":"20240201213509-hqlbywt","Type":"NodeTable","Data":"| id  | exam_id | tag  | difficulty | duration | release_time        |\n| --- | ------- | ---- | ---------- | -------- | ------------------- |\n| 1   | 9001    | SQL  | hard       | 60       | 2021-09-01 06:00:00 |\n| 2   | 9002    | C++  | easy       | 60       | 2021-09-01 06:00:00 |\n| 3   | 9003    | 算法 | medium     | 80       | 2021-09-01 10:00:00 |","TableAligns":[0,0,0,0,0,0],"Properties":{"id":"20240201213509-hqlbywt","updated":"20240201213509"},"Children":[{"Type":"NodeTableHead","Properties":{"id":""},"Children":[{"Type":"NodeTableRow","Properties":{"id":""},"Children":[{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"id"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"exam_id"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"tag"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"difficulty"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"duration"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"release_time"}]}]}]},{"Type":"NodeTableRow","TableAligns":[0,0,0,0,0,0],"Properties":{"id":""},"Children":[{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"1"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"9001"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"SQL"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"hard"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"60"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"2021-09-01 06:00:00"}]}]},{"Type":"NodeTableRow","TableAligns":[0,0,0,0,0,0],"Properties":{"id":""},"Children":[{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"2"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"9002"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"C++"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"easy"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"60"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"2021-09-01 06:00:00"}]}]},{"Type":"NodeTableRow","TableAligns":[0,0,0,0,0,0],"Properties":{"id":""},"Children":[{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"3"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"9003"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"算法"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"medium"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"80"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"2021-09-01 10:00:00"}]}]}]},{"ID":"20240201213510-navt96y","Type":"NodeParagraph","Properties":{"id":"20240201213510-navt96y","updated":"20240201213510"},"Children":[{"Type":"NodeText","Data":"试卷作答记录表 "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"exam_record"},{"Type":"NodeText","Data":"（"},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"uid"},{"Type":"NodeText","Data":" 用户 ID, "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"exam_id"},{"Type":"NodeText","Data":" 试卷 ID, "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"start_time"},{"Type":"NodeText","Data":" 开始作答时间, "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"submit_time"},{"Type":"NodeText","Data":" 交卷时间, "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"score"},{"Type":"NodeText","Data":" 得分）："}]},{"ID":"20240201213511-y7wl3v9","Type":"NodeTable","Data":"| id  | uid  | exam_id | start_time          | submit_time         | score  |\n| --- | ---- | ------- | ------------------- | ------------------- | ------ |\n| 1   | 1001 | 9001    | 2021-09-01 09:01:01 | 2021-09-01 09:31:00 | 81     |\n| 2   | 1002 | 9002    | 2021-09-01 12:01:01 | 2021-09-01 12:31:01 | 70     |\n| 3   | 1003 | 9001    | 2021-09-01 19:01:01 | 2021-09-01 19:40:01 | **86** |\n| 4   | 1003 | 9002    | 2021-09-01 12:01:01 | 2021-09-01 12:31:01 | 89     |\n| 5   | 1004 | 9001    | 2021-09-01 19:01:01 | 2021-09-01 19:30:01 | 85     |","TableAligns":[0,0,0,0,0,0],"Properties":{"id":"20240201213511-y7wl3v9","updated":"20240201213511"},"Children":[{"Type":"NodeTableHead","Properties":{"id":""},"Children":[{"Type":"NodeTableRow","Properties":{"id":""},"Children":[{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"id"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"uid"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"exam_id"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"start_time"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"submit_time"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"score"}]}]}]},{"Type":"NodeTableRow","TableAligns":[0,0,0,0,0,0],"Properties":{"id":""},"Children":[{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"1"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"1001"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"9001"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"2021-09-01 09:01:01"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"2021-09-01 09:31:00"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"81"}]}]},{"Type":"NodeTableRow","TableAligns":[0,0,0,0,0,0],"Properties":{"id":""},"Children":[{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"2"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"1002"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"9002"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"2021-09-01 12:01:01"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"2021-09-01 12:31:01"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"70"}]}]},{"Type":"NodeTableRow","TableAligns":[0,0,0,0,0,0],"Properties":{"id":""},"Children":[{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"3"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"1003"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"9001"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"2021-09-01 19:01:01"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"2021-09-01 19:40:01"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"strong","TextMarkTextContent":"86"}]}]},{"Type":"NodeTableRow","TableAligns":[0,0,0,0,0,0],"Properties":{"id":""},"Children":[{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"4"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"1003"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"9002"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"2021-09-01 12:01:01"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"2021-09-01 12:31:01"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"89"}]}]},{"Type":"NodeTableRow","TableAligns":[0,0,0,0,0,0],"Properties":{"id":""},"Children":[{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"5"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"1004"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"9001"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"2021-09-01 19:01:01"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"2021-09-01 19:30:01"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"85"}]}]}]},{"ID":"20240201213512-6pl78hj","Type":"NodeParagraph","Properties":{"id":"20240201213512-6pl78hj","updated":"20240201213512"},"Children":[{"Type":"NodeText","Data":"示例数据输出结果："}]},{"ID":"20240201213513-sghvjb4","Type":"NodeTable","Data":"| uid  | activity  |\n| ---- | --------- |\n| 1001 | activity2 |\n| 1003 | activity1 |\n| 1004 | activity1 |\n| 1004 | activity2 |","TableAligns":[0,0],"Properties":{"id":"20240201213513-sghvjb4","updated":"20240201213513"},"Children":[{"Type":"NodeTableHead","Properties":{"id":""},"Children":[{"Type":"NodeTableRow","Properties":{"id":""},"Children":[{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"uid"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"activity"}]}]}]},{"Type":"NodeTableRow","TableAligns":[0,0],"Properties":{"id":""},"Children":[{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"1001"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"activity2"}]}]},{"Type":"NodeTableRow","TableAligns":[0,0],"Properties":{"id":""},"Children":[{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"1003"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"activity1"}]}]},{"Type":"NodeTableRow","TableAligns":[0,0],"Properties":{"id":""},"Children":[{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"1004"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"activity1"}]}]},{"Type":"NodeTableRow","TableAligns":[0,0],"Properties":{"id":""},"Children":[{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"1004"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"activity2"}]}]}]},{"ID":"20240201213514-kindvxz","Type":"NodeParagraph","Properties":{"id":"20240201213514-kindvxz","updated":"20240201213514"},"Children":[{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"strong","TextMarkTextContent":"解释"},{"Type":"NodeText","Data":"：用户 1001 最小分数 81 不满足活动 1，但 29 分 59 秒完成了 60 分钟长的试卷得分 81，满足活动 2；1003 最小分数 86 满足活动 1，完成时长都大于试卷时长的一半，不满足活动 2；用户 1004 刚好用了一半时间（30 分钟整）完成了试卷得分 85，满足活动 1 和活动 2。"}]},{"ID":"20240201213515-e6ed98c","Type":"NodeParagraph","Properties":{"id":"20240201213515-e6ed98c","updated":"20240201213515"},"Children":[{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"strong","TextMarkTextContent":"思路"},{"Type":"NodeText","Data":"： 这一题需要涉及到时间的减法，需要用到 "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"TIMESTAMPDIFF()"},{"Type":"NodeText","Data":" 函数计算两个时间戳之间的分钟差值。"}]},{"ID":"20240201213516-sfk1fep","Type":"NodeParagraph","Properties":{"id":"20240201213516-sfk1fep","updated":"20240201213516"},"Children":[{"Type":"NodeText","Data":"下面我们来看一下基本用法"}]},{"ID":"20240201213517-h00muei","Type":"NodeParagraph","Properties":{"id":"20240201213517-h00muei","updated":"20240201213517"},"Children":[{"Type":"NodeText","Data":"示例："}]},{"ID":"20240201213518-jksp3li","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"CodeBlockFenceChar":96,"CodeBlockFenceLen":3,"CodeBlockOpenFence":"YGBg","CodeBlockInfo":"c3Fs","CodeBlockCloseFence":"YGBg","Properties":{"id":"20240201213518-jksp3li","updated":"20240201213518"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"c3Fs","Properties":{"id":""}},{"Type":"NodeCodeBlockCode","Data":"TIMESTAMPDIFF(MINUTE, start_time, end_time)\n","Properties":{"id":""}},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}}]},{"ID":"20240201213519-wlzmuiy","Type":"NodeParagraph","Properties":{"id":"20240201213519-wlzmuiy","updated":"20240201213519"},"Children":[{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"TIMESTAMPDIFF()"},{"Type":"NodeText","Data":" 函数的第一个参数是时间单位，这里我们选择 "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"MINUTE"},{"Type":"NodeText","Data":" 表示返回分钟差值。第二个参数是较早的时间戳，第三个参数是较晚的时间戳。函数会返回它们之间的分钟差值"}]},{"ID":"20240201213520-b0oxk2l","Type":"NodeParagraph","Properties":{"id":"20240201213520-b0oxk2l","updated":"20240201213520"},"Children":[{"Type":"NodeText","Data":"了解了这个函数的用法之后，我们再回过头来看"},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"activity1"},{"Type":"NodeText","Data":"的要求，求分数大于 85 即可，那我们还是先把这个写出来，后续思路就会清晰很多"}]},{"ID":"20240201213521-8zl2rpi","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"CodeBlockFenceChar":96,"CodeBlockFenceLen":3,"CodeBlockOpenFence":"YGBg","CodeBlockInfo":"c3Fs","CodeBlockCloseFence":"YGBg","Properties":{"id":"20240201213521-8zl2rpi","updated":"20240201213521"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"c3Fs","Properties":{"id":""}},{"Type":"NodeCodeBlockCode","Data":"SELECT DISTINCT UID\nFROM exam_record\nWHERE score \u003e= 85\n  AND YEAR (start_time) = '2021'\n","Properties":{"id":""}},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}}]},{"ID":"20240201213522-ub4kvjz","Type":"NodeParagraph","Properties":{"id":"20240201213522-ub4kvjz","updated":"20240201213522"},"Children":[{"Type":"NodeText","Data":"根据条件 2，接着写出"},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"在一半时间内完成高难度试卷且分数大于80的人"}]},{"ID":"20240201213523-7rp30ey","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"CodeBlockFenceChar":96,"CodeBlockFenceLen":3,"CodeBlockOpenFence":"YGBg","CodeBlockInfo":"c3Fs","CodeBlockCloseFence":"YGBg","Properties":{"id":"20240201213523-7rp30ey","updated":"20240201213523"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"c3Fs","Properties":{"id":""}},{"Type":"NodeCodeBlockCode","Data":"SELECT UID\nFROM examination_info info\nINNER JOIN exam_record record\nWHERE info.exam_id = record.exam_id\n  AND (TIMESTAMPDIFF(MINUTE, start_time, submit_time)) \u003c (info.duration / 2)\n  AND difficulty = 'hard'\n  AND score \u003e= 80\n","Properties":{"id":""}},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}}]},{"ID":"20240201213524-bj14ktf","Type":"NodeParagraph","Properties":{"id":"20240201213524-bj14ktf","updated":"20240201213524"},"Children":[{"Type":"NodeText","Data":"然后再把两者"},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"UNION"},{"Type":"NodeText","Data":" 起来即可。（这里特别要注意括号问题和"},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"order by"},{"Type":"NodeText","Data":"位置，具体用法在上一篇中已提及）"}]},{"ID":"20240201213525-g1o5724","Type":"NodeParagraph","Properties":{"id":"20240201213525-g1o5724","updated":"20240201213525"},"Children":[{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"strong","TextMarkTextContent":"答案"},{"Type":"NodeText","Data":"："}]},{"ID":"20240201213526-f9mpftp","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"CodeBlockFenceChar":96,"CodeBlockFenceLen":3,"CodeBlockOpenFence":"YGBg","CodeBlockInfo":"c3Fs","CodeBlockCloseFence":"YGBg","Properties":{"id":"20240201213526-f9mpftp","updated":"20240201213526"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"c3Fs","Properties":{"id":""}},{"Type":"NodeCodeBlockCode","Data":"SELECT DISTINCT UID UID,\n                    'activity1' activity\nFROM exam_record\nWHERE UID not in\n    (SELECT UID\n     FROM exam_record\n     WHERE score\u003c85\n       AND YEAR(submit_time) = 2021 )\nUNION\nSELECT DISTINCT UID UID,\n                    'activity2' activity\nFROM exam_record e_r\nLEFT JOIN examination_info e_i ON e_r.exam_id = e_i.exam_id\nWHERE YEAR(submit_time) = 2021\n  AND difficulty = 'hard'\n  AND TIMESTAMPDIFF(SECOND, start_time, submit_time) \u003c= duration *30\n  AND score\u003e80\nORDER BY UID\n","Properties":{"id":""}},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}}]},{"ID":"20240201213527-9to3wgs","Type":"NodeHeading","HeadingLevel":2,"Properties":{"id":"20240201213527-9to3wgs","updated":"20240201213527"},"Children":[{"Type":"NodeHeadingC8hMarker","Data":"## ","Properties":{"id":""}},{"Type":"NodeText","Data":"连接查询"}]},{"ID":"20240201213528-iucnqtc","Type":"NodeHeading","HeadingLevel":3,"Properties":{"id":"20240201213528-iucnqtc","updated":"20240201213528"},"Children":[{"Type":"NodeHeadingC8hMarker","Data":"### ","Properties":{"id":""}},{"Type":"NodeText","Data":"满足条件的用户的试卷完成数和题目练习数（困难）"}]},{"ID":"20240201213529-mgid3yd","Type":"NodeParagraph","Properties":{"id":"20240201213529-mgid3yd","updated":"20240201213529"},"Children":[{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"strong","TextMarkTextContent":"描述"},{"Type":"NodeText","Data":"："}]},{"ID":"20240201213530-sar7ifc","Type":"NodeParagraph","Properties":{"id":"20240201213530-sar7ifc","updated":"20240201213530"},"Children":[{"Type":"NodeText","Data":"现有用户信息表 user_info（uid 用户 ID，nick_name 昵称, achievement 成就值, level 等级, job 职业方向, register_time 注册时间）："}]},{"ID":"20240201213531-y7g9uzw","Type":"NodeTable","Data":"| id  | uid  | nick_name | achievement | level | job  | register_time       |\n| --- | ---- | --------- | ----------- | ----- | ---- | ------------------- |\n| 1   | 1001 | 牛客 1 号 | 3100        | 7     | 算法 | 2020-01-01 10:00:00 |\n| 2   | 1002 | 牛客 2 号 | 2300        | 7     | 算法 | 2020-01-01 10:00:00 |\n| 3   | 1003 | 牛客 3 号 | 2500        | 7     | 算法 | 2020-01-01 10:00:00 |\n| 4   | 1004 | 牛客 4 号 | 1200        | 5     | 算法 | 2020-01-01 10:00:00 |\n| 5   | 1005 | 牛客 5 号 | 1600        | 6     | C++  | 2020-01-01 10:00:00 |\n| 6   | 1006 | 牛客 6 号 | 2000        | 6     | C++  | 2020-01-01 10:00:00 |","TableAligns":[0,0,0,0,0,0,0],"Properties":{"id":"20240201213531-y7g9uzw","updated":"20240201213531"},"Children":[{"Type":"NodeTableHead","Properties":{"id":""},"Children":[{"Type":"NodeTableRow","Properties":{"id":""},"Children":[{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"id"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"uid"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"nick_name"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"achievement"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"level"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"job"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"register_time"}]}]}]},{"Type":"NodeTableRow","TableAligns":[0,0,0,0,0,0,0],"Properties":{"id":""},"Children":[{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"1"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"1001"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"牛客 1 号"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"3100"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"7"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"算法"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"2020-01-01 10:00:00"}]}]},{"Type":"NodeTableRow","TableAligns":[0,0,0,0,0,0,0],"Properties":{"id":""},"Children":[{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"2"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"1002"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"牛客 2 号"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"2300"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"7"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"算法"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"2020-01-01 10:00:00"}]}]},{"Type":"NodeTableRow","TableAligns":[0,0,0,0,0,0,0],"Properties":{"id":""},"Children":[{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"3"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"1003"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"牛客 3 号"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"2500"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"7"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"算法"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"2020-01-01 10:00:00"}]}]},{"Type":"NodeTableRow","TableAligns":[0,0,0,0,0,0,0],"Properties":{"id":""},"Children":[{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"4"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"1004"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"牛客 4 号"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"1200"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"5"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"算法"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"2020-01-01 10:00:00"}]}]},{"Type":"NodeTableRow","TableAligns":[0,0,0,0,0,0,0],"Properties":{"id":""},"Children":[{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"5"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"1005"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"牛客 5 号"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"1600"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"6"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"C++"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"2020-01-01 10:00:00"}]}]},{"Type":"NodeTableRow","TableAligns":[0,0,0,0,0,0,0],"Properties":{"id":""},"Children":[{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"6"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"1006"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"牛客 6 号"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"2000"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"6"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"C++"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"2020-01-01 10:00:00"}]}]}]},{"ID":"20240201213532-hjxjuzp","Type":"NodeParagraph","Properties":{"id":"20240201213532-hjxjuzp","updated":"20240201213532"},"Children":[{"Type":"NodeText","Data":"试卷信息表 examination_info（exam_id 试卷 ID, tag 试卷类别, difficulty 试卷难度, duration 考试时长, release_time 发布时间）："}]},{"ID":"20240201213533-nz7o4o7","Type":"NodeTable","Data":"| id  | exam_id | tag  | difficulty | duration | release_time        |\n| --- | ------- | ---- | ---------- | -------- | ------------------- |\n| 1   | 9001    | SQL  | hard       | 60       | 2021-09-01 06:00:00 |\n| 2   | 9002    | C++  | hard       | 60       | 2021-09-01 06:00:00 |\n| 3   | 9003    | 算法 | medium     | 80       | 2021-09-01 10:00:00 |","TableAligns":[0,0,0,0,0,0],"Properties":{"id":"20240201213533-nz7o4o7","updated":"20240201213533"},"Children":[{"Type":"NodeTableHead","Properties":{"id":""},"Children":[{"Type":"NodeTableRow","Properties":{"id":""},"Children":[{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"id"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"exam_id"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"tag"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"difficulty"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"duration"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"release_time"}]}]}]},{"Type":"NodeTableRow","TableAligns":[0,0,0,0,0,0],"Properties":{"id":""},"Children":[{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"1"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"9001"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"SQL"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"hard"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"60"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"2021-09-01 06:00:00"}]}]},{"Type":"NodeTableRow","TableAligns":[0,0,0,0,0,0],"Properties":{"id":""},"Children":[{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"2"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"9002"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"C++"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"hard"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"60"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"2021-09-01 06:00:00"}]}]},{"Type":"NodeTableRow","TableAligns":[0,0,0,0,0,0],"Properties":{"id":""},"Children":[{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"3"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"9003"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"算法"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"medium"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"80"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"2021-09-01 10:00:00"}]}]}]},{"ID":"20240201213534-jmf1pje","Type":"NodeParagraph","Properties":{"id":"20240201213534-jmf1pje","updated":"20240201213534"},"Children":[{"Type":"NodeText","Data":"试卷作答记录表 exam_record（uid 用户 ID, exam_id 试卷 ID, start_time 开始作答时间, submit_time 交卷时间, score 得分）："}]},{"ID":"20240201213535-mtspuq2","Type":"NodeTable","Data":"| id  | uid  | exam_id | start_time          | submit_time         | score |\n| --- | ---- | ------- | ------------------- | ------------------- | ----- |\n| 1   | 1001 | 9001    | 2021-09-01 09:01:01 | 2021-09-01 09:31:00 | 81    |\n| 2   | 1002 | 9002    | 2021-09-01 12:01:01 | 2021-09-01 12:31:01 | 81    |\n| 3   | 1003 | 9001    | 2021-09-01 19:01:01 | 2021-09-01 19:40:01 | 86    |\n| 4   | 1003 | 9002    | 2021-09-01 12:01:01 | 2021-09-01 12:31:51 | 89    |\n| 5   | 1004 | 9001    | 2021-09-01 19:01:01 | 2021-09-01 19:30:01 | 85    |\n| 6   | 1005 | 9002    | 2021-09-01 12:01:01 | 2021-09-01 12:31:02 | 85    |\n| 7   | 1006 | 9003    | 2021-09-07 10:01:01 | 2021-09-07 10:21:01 | 84    |\n| 8   | 1006 | 9001    | 2021-09-07 10:01:01 | 2021-09-07 10:21:01 | 80    |","TableAligns":[0,0,0,0,0,0],"Properties":{"id":"20240201213535-mtspuq2","updated":"20240201213535"},"Children":[{"Type":"NodeTableHead","Properties":{"id":""},"Children":[{"Type":"NodeTableRow","Properties":{"id":""},"Children":[{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"id"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"uid"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"exam_id"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"start_time"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"submit_time"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"score"}]}]}]},{"Type":"NodeTableRow","TableAligns":[0,0,0,0,0,0],"Properties":{"id":""},"Children":[{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"1"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"1001"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"9001"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"2021-09-01 09:01:01"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"2021-09-01 09:31:00"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"81"}]}]},{"Type":"NodeTableRow","TableAligns":[0,0,0,0,0,0],"Properties":{"id":""},"Children":[{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"2"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"1002"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"9002"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"2021-09-01 12:01:01"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"2021-09-01 12:31:01"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"81"}]}]},{"Type":"NodeTableRow","TableAligns":[0,0,0,0,0,0],"Properties":{"id":""},"Children":[{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"3"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"1003"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"9001"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"2021-09-01 19:01:01"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"2021-09-01 19:40:01"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"86"}]}]},{"Type":"NodeTableRow","TableAligns":[0,0,0,0,0,0],"Properties":{"id":""},"Children":[{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"4"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"1003"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"9002"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"2021-09-01 12:01:01"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"2021-09-01 12:31:51"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"89"}]}]},{"Type":"NodeTableRow","TableAligns":[0,0,0,0,0,0],"Properties":{"id":""},"Children":[{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"5"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"1004"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"9001"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"2021-09-01 19:01:01"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"2021-09-01 19:30:01"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"85"}]}]},{"Type":"NodeTableRow","TableAligns":[0,0,0,0,0,0],"Properties":{"id":""},"Children":[{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"6"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"1005"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"9002"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"2021-09-01 12:01:01"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"2021-09-01 12:31:02"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"85"}]}]},{"Type":"NodeTableRow","TableAligns":[0,0,0,0,0,0],"Properties":{"id":""},"Children":[{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"7"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"1006"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"9003"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"2021-09-07 10:01:01"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"2021-09-07 10:21:01"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"84"}]}]},{"Type":"NodeTableRow","TableAligns":[0,0,0,0,0,0],"Properties":{"id":""},"Children":[{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"8"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"1006"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"9001"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"2021-09-07 10:01:01"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"2021-09-07 10:21:01"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"80"}]}]}]},{"ID":"20240201213536-k0iexox","Type":"NodeParagraph","Properties":{"id":"20240201213536-k0iexox","updated":"20240201213536"},"Children":[{"Type":"NodeText","Data":"题目练习记录表 practice_record（uid 用户 ID, question_id 题目 ID, submit_time 提交时间, score 得分）："}]},{"ID":"20240201213537-mmwktej","Type":"NodeTable","Data":"| id  | uid  | question_id | submit_time         | score |\n| --- | ---- | ----------- | ------------------- | ----- |\n| 1   | 1001 | 8001        | 2021-08-02 11:41:01 | 60    |\n| 2   | 1002 | 8001        | 2021-09-02 19:30:01 | 50    |\n| 3   | 1002 | 8001        | 2021-09-02 19:20:01 | 70    |\n| 4   | 1002 | 8002        | 2021-09-02 19:38:01 | 70    |\n| 5   | 1004 | 8001        | 2021-08-02 19:38:01 | 70    |\n| 6   | 1004 | 8002        | 2021-08-02 19:48:01 | 90    |\n| 7   | 1001 | 8002        | 2021-08-02 19:38:01 | 70    |\n| 8   | 1004 | 8002        | 2021-08-02 19:48:01 | 90    |\n| 9   | 1004 | 8002        | 2021-08-02 19:58:01 | 94    |\n| 10  | 1004 | 8003        | 2021-08-02 19:38:01 | 70    |\n| 11  | 1004 | 8003        | 2021-08-02 19:48:01 | 90    |\n| 12  | 1004 | 8003        | 2021-08-01 19:38:01 | 80    |","TableAligns":[0,0,0,0,0],"Properties":{"id":"20240201213537-mmwktej","updated":"20240201213537"},"Children":[{"Type":"NodeTableHead","Properties":{"id":""},"Children":[{"Type":"NodeTableRow","Properties":{"id":""},"Children":[{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"id"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"uid"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"question_id"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"submit_time"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"score"}]}]}]},{"Type":"NodeTableRow","TableAligns":[0,0,0,0,0],"Properties":{"id":""},"Children":[{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"1"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"1001"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"8001"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"2021-08-02 11:41:01"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"60"}]}]},{"Type":"NodeTableRow","TableAligns":[0,0,0,0,0],"Properties":{"id":""},"Children":[{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"2"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"1002"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"8001"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"2021-09-02 19:30:01"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"50"}]}]},{"Type":"NodeTableRow","TableAligns":[0,0,0,0,0],"Properties":{"id":""},"Children":[{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"3"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"1002"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"8001"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"2021-09-02 19:20:01"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"70"}]}]},{"Type":"NodeTableRow","TableAligns":[0,0,0,0,0],"Properties":{"id":""},"Children":[{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"4"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"1002"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"8002"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"2021-09-02 19:38:01"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"70"}]}]},{"Type":"NodeTableRow","TableAligns":[0,0,0,0,0],"Properties":{"id":""},"Children":[{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"5"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"1004"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"8001"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"2021-08-02 19:38:01"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"70"}]}]},{"Type":"NodeTableRow","TableAligns":[0,0,0,0,0],"Properties":{"id":""},"Children":[{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"6"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"1004"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"8002"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"2021-08-02 19:48:01"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"90"}]}]},{"Type":"NodeTableRow","TableAligns":[0,0,0,0,0],"Properties":{"id":""},"Children":[{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"7"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"1001"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"8002"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"2021-08-02 19:38:01"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"70"}]}]},{"Type":"NodeTableRow","TableAligns":[0,0,0,0,0],"Properties":{"id":""},"Children":[{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"8"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"1004"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"8002"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"2021-08-02 19:48:01"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"90"}]}]},{"Type":"NodeTableRow","TableAligns":[0,0,0,0,0],"Properties":{"id":""},"Children":[{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"9"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"1004"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"8002"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"2021-08-02 19:58:01"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"94"}]}]},{"Type":"NodeTableRow","TableAligns":[0,0,0,0,0],"Properties":{"id":""},"Children":[{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"10"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"1004"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"8003"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"2021-08-02 19:38:01"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"70"}]}]},{"Type":"NodeTableRow","TableAligns":[0,0,0,0,0],"Properties":{"id":""},"Children":[{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"11"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"1004"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"8003"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"2021-08-02 19:48:01"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"90"}]}]},{"Type":"NodeTableRow","TableAligns":[0,0,0,0,0],"Properties":{"id":""},"Children":[{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"12"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"1004"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"8003"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"2021-08-01 19:38:01"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"80"}]}]}]},{"ID":"20240201213538-927ezwy","Type":"NodeParagraph","Properties":{"id":"20240201213538-927ezwy","updated":"20240201213538"},"Children":[{"Type":"NodeText","Data":"请你找到高难度 SQL 试卷得分平均值大于 80 并且是 7 级的红名大佬，统计他们的 2021 年试卷总完成次数和题目总练习次数，只保留 2021 年有试卷完成记录的用户。结果按试卷完成数升序，按题目练习数降序。"}]},{"ID":"20240201213539-cforpgc","Type":"NodeParagraph","Properties":{"id":"20240201213539-cforpgc","updated":"20240201213539"},"Children":[{"Type":"NodeText","Data":"示例数据输出如下："}]},{"ID":"20240201213540-wff6pst","Type":"NodeTable","Data":"| uid  | exam_cnt | question_cnt |\n| ---- | -------- | ------------ |\n| 1001 | 1        | 2            |\n| 1003 | 2        | 0            |","TableAligns":[0,0,0],"Properties":{"id":"20240201213540-wff6pst","updated":"20240201213540"},"Children":[{"Type":"NodeTableHead","Properties":{"id":""},"Children":[{"Type":"NodeTableRow","Properties":{"id":""},"Children":[{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"uid"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"exam_cnt"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"question_cnt"}]}]}]},{"Type":"NodeTableRow","TableAligns":[0,0,0],"Properties":{"id":""},"Children":[{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"1001"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"1"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"2"}]}]},{"Type":"NodeTableRow","TableAligns":[0,0,0],"Properties":{"id":""},"Children":[{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"1003"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"2"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"0"}]}]}]},{"ID":"20240201213541-rir30an","Type":"NodeParagraph","Properties":{"id":"20240201213541-rir30an","updated":"20240201213541"},"Children":[{"Type":"NodeText","Data":"解释：用户 1001、1003、1004、1006 满足高难度 SQL 试卷得分平均值大于 80，但只有 1001、1003 是 7 级红名大佬；1001 完成了 1 次试卷 1001，练习了 2 次题目；1003 完成了 2 次试卷 9001、9002，未练习题目（因此计数为 0）"}]},{"ID":"20240201213542-sanzd3k","Type":"NodeParagraph","Properties":{"id":"20240201213542-sanzd3k","updated":"20240201213542"},"Children":[{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"strong","TextMarkTextContent":"思路："}]},{"ID":"20240201213543-5sugag4","Type":"NodeParagraph","Properties":{"id":"20240201213543-5sugag4","updated":"20240201213543"},"Children":[{"Type":"NodeText","Data":"先将条件进行初步筛选，比如先查出做过高难度 sql 试卷的用户"}]},{"ID":"20240201213544-aacplwb","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"CodeBlockFenceChar":96,"CodeBlockFenceLen":3,"CodeBlockOpenFence":"YGBg","CodeBlockInfo":"c3Fs","CodeBlockCloseFence":"YGBg","Properties":{"id":"20240201213544-aacplwb","updated":"20240201213544"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"c3Fs","Properties":{"id":""}},{"Type":"NodeCodeBlockCode","Data":"SELECT\n\trecord.uid\nFROM\n\texam_record record\n\tINNER JOIN examination_info e_info ON record.exam_id = e_info.exam_id\n\tJOIN user_info u_info ON record.uid = u_info.uid\nWHERE\n\te_info.tag = 'SQL'\n\tAND e_info.difficulty = 'hard'\n","Properties":{"id":""}},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}}]},{"ID":"20240201213545-laktej7","Type":"NodeParagraph","Properties":{"id":"20240201213545-laktej7","updated":"20240201213545"},"Children":[{"Type":"NodeText","Data":"然后根据题目要求，接着再往里叠条件即可；"}]},{"ID":"20240201213546-3myj6uk","Type":"NodeParagraph","Properties":{"id":"20240201213546-3myj6uk","updated":"20240201213546"},"Children":[{"Type":"NodeText","Data":"但是这里又要注意："}]},{"ID":"20240201213547-g19ws0r","Type":"NodeParagraph","Properties":{"id":"20240201213547-g19ws0r","updated":"20240201213547"},"Children":[{"Type":"NodeText","Data":"第一：不能"},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"YEAR(submit_time)= 2021"},{"Type":"NodeText","Data":"这个条件放到最后，要在"},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"ON"},{"Type":"NodeText","Data":"条件里，因为左连接存在返回左表全部行，右表为 null 的情形，放在 "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"JOIN"},{"Type":"NodeText","Data":"条件的 "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"ON"},{"Type":"NodeText","Data":" 子句中的目的是为了确保在连接两个表时，只有满足年份条件的记录会进行连接。这样可以避免其他年份的记录被包含在结果中。即 1001 做过 2021 年的试卷，但没有练习过，如果把条件放到最后，就会排除掉这种情况。"}]},{"ID":"20240201213548-ze6r4im","Type":"NodeParagraph","Properties":{"id":"20240201213548-ze6r4im","updated":"20240201213548"},"Children":[{"Type":"NodeText","Data":"第二，必须是"},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"COUNT(distinct er.exam_id) exam_cnt, COUNT(distinct pr.id) question_cnt，"},{"Type":"NodeText","Data":"要加 distinct，因为有左连接产生很多重复值。"}]},{"ID":"20240201213549-sfq8d3f","Type":"NodeParagraph","Properties":{"id":"20240201213549-sfq8d3f","updated":"20240201213549"},"Children":[{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"strong","TextMarkTextContent":"答案"},{"Type":"NodeText","Data":"："}]},{"ID":"20240201213550-ct5n95w","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"CodeBlockFenceChar":96,"CodeBlockFenceLen":3,"CodeBlockOpenFence":"YGBg","CodeBlockInfo":"c3Fs","CodeBlockCloseFence":"YGBg","Properties":{"id":"20240201213550-ct5n95w","updated":"20240201213550"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"c3Fs","Properties":{"id":""}},{"Type":"NodeCodeBlockCode","Data":"SELECT er.uid AS UID,\n       count(DISTINCT er.exam_id) AS exam_cnt,\n       count(DISTINCT pr.id) AS question_cnt\nFROM exam_record er\nLEFT JOIN practice_record pr ON er.uid = pr.uid\nAND YEAR (er.submit_time)= 2021\nAND YEAR (pr.submit_time)= 2021\nWHERE er.uid IN\n    (SELECT er.uid\n     FROM exam_record er\n     LEFT JOIN examination_info ei ON er.exam_id = ei.exam_id\n     LEFT JOIN user_info ui ON er.uid = ui.uid\n     WHERE tag = 'SQL'\n       AND difficulty = 'hard'\n       AND LEVEL = 7\n     GROUP BY er.uid\n     HAVING avg(score) \u003e 80)\nGROUP BY er.uid\nORDER BY exam_cnt,\n         question_cnt DESC\n","Properties":{"id":""}},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}}]},{"ID":"20240201213551-w16fpe9","Type":"NodeParagraph","Properties":{"id":"20240201213551-w16fpe9","updated":"20240201213551"},"Children":[{"Type":"NodeText","Data":"可能细心的小伙伴会发现，为什么明明将条件限制了"},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"tag = 'SQL' AND difficulty = 'hard'"},{"Type":"NodeText","Data":"，但是用户 1003 仍然能查出两条考试记录，其中一条的考试"},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"tag"},{"Type":"NodeText","Data":"为 "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"C++"},{"Type":"NodeText","Data":"; 这是由于"},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"LEFT JOIN"},{"Type":"NodeText","Data":"的特性，即使没有与右表匹配的行，左表的所有记录仍然会被保留。"}]},{"ID":"20240201213552-zmzt1s4","Type":"NodeHeading","HeadingLevel":3,"Properties":{"id":"20240201213552-zmzt1s4","updated":"20240201213552"},"Children":[{"Type":"NodeHeadingC8hMarker","Data":"### ","Properties":{"id":""}},{"Type":"NodeText","Data":"每个 6/7 级用户活跃情况（困难）"}]},{"ID":"20240201213553-ffuevnw","Type":"NodeParagraph","Properties":{"id":"20240201213553-ffuevnw","updated":"20240201213553"},"Children":[{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"strong","TextMarkTextContent":"描述"},{"Type":"NodeText","Data":"："}]},{"ID":"20240201213554-az2umxv","Type":"NodeParagraph","Properties":{"id":"20240201213554-az2umxv","updated":"20240201213554"},"Children":[{"Type":"NodeText","Data":"现有用户信息表 "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"user_info"},{"Type":"NodeText","Data":"（"},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"uid"},{"Type":"NodeText","Data":" 用户 ID，"},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"nick_name"},{"Type":"NodeText","Data":" 昵称, "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"achievement"},{"Type":"NodeText","Data":" 成就值, "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"level"},{"Type":"NodeText","Data":" 等级, "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"job"},{"Type":"NodeText","Data":" 职业方向, "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"register_time"},{"Type":"NodeText","Data":" 注册时间）："}]},{"ID":"20240201213555-svharj9","Type":"NodeTable","Data":"| id  | uid  | nick_name | achievement | level | job  | register_time       |\n| --- | ---- | --------- | ----------- | ----- | ---- | ------------------- |\n| 1   | 1001 | 牛客 1 号 | 3100        | 7     | 算法 | 2020-01-01 10:00:00 |\n| 2   | 1002 | 牛客 2 号 | 2300        | 7     | 算法 | 2020-01-01 10:00:00 |\n| 3   | 1003 | 牛客 3 号 | 2500        | 7     | 算法 | 2020-01-01 10:00:00 |\n| 4   | 1004 | 牛客 4 号 | 1200        | 5     | 算法 | 2020-01-01 10:00:00 |\n| 5   | 1005 | 牛客 5 号 | 1600        | 6     | C++  | 2020-01-01 10:00:00 |\n| 6   | 1006 | 牛客 6 号 | 2600        | 7     | C++  | 2020-01-01 10:00:00 |","TableAligns":[0,0,0,0,0,0,0],"Properties":{"id":"20240201213555-svharj9","updated":"20240201213555"},"Children":[{"Type":"NodeTableHead","Properties":{"id":""},"Children":[{"Type":"NodeTableRow","Properties":{"id":""},"Children":[{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"id"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"uid"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"nick_name"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"achievement"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"level"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"job"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"register_time"}]}]}]},{"Type":"NodeTableRow","TableAligns":[0,0,0,0,0,0,0],"Properties":{"id":""},"Children":[{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"1"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"1001"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"牛客 1 号"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"3100"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"7"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"算法"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"2020-01-01 10:00:00"}]}]},{"Type":"NodeTableRow","TableAligns":[0,0,0,0,0,0,0],"Properties":{"id":""},"Children":[{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"2"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"1002"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"牛客 2 号"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"2300"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"7"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"算法"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"2020-01-01 10:00:00"}]}]},{"Type":"NodeTableRow","TableAligns":[0,0,0,0,0,0,0],"Properties":{"id":""},"Children":[{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"3"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"1003"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"牛客 3 号"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"2500"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"7"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"算法"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"2020-01-01 10:00:00"}]}]},{"Type":"NodeTableRow","TableAligns":[0,0,0,0,0,0,0],"Properties":{"id":""},"Children":[{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"4"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"1004"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"牛客 4 号"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"1200"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"5"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"算法"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"2020-01-01 10:00:00"}]}]},{"Type":"NodeTableRow","TableAligns":[0,0,0,0,0,0,0],"Properties":{"id":""},"Children":[{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"5"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"1005"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"牛客 5 号"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"1600"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"6"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"C++"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"2020-01-01 10:00:00"}]}]},{"Type":"NodeTableRow","TableAligns":[0,0,0,0,0,0,0],"Properties":{"id":""},"Children":[{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"6"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"1006"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"牛客 6 号"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"2600"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"7"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"C++"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"2020-01-01 10:00:00"}]}]}]},{"ID":"20240201213556-s38khy4","Type":"NodeParagraph","Properties":{"id":"20240201213556-s38khy4","updated":"20240201213556"},"Children":[{"Type":"NodeText","Data":"试卷信息表 "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"examination_info"},{"Type":"NodeText","Data":"（"},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"exam_id"},{"Type":"NodeText","Data":" 试卷 ID, "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"tag"},{"Type":"NodeText","Data":" 试卷类别, "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"difficulty"},{"Type":"NodeText","Data":" 试卷难度, "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"duration"},{"Type":"NodeText","Data":" 考试时长, "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"release_time"},{"Type":"NodeText","Data":" 发布时间）："}]},{"ID":"20240201213557-41n7760","Type":"NodeTable","Data":"| id  | exam_id | tag  | difficulty | duration | release_time        |\n| --- | ------- | ---- | ---------- | -------- | ------------------- |\n| 1   | 9001    | SQL  | hard       | 60       | 2021-09-01 06:00:00 |\n| 2   | 9002    | C++  | easy       | 60       | 2021-09-01 06:00:00 |\n| 3   | 9003    | 算法 | medium     | 80       | 2021-09-01 10:00:00 |","TableAligns":[0,0,0,0,0,0],"Properties":{"id":"20240201213557-41n7760","updated":"20240201213557"},"Children":[{"Type":"NodeTableHead","Properties":{"id":""},"Children":[{"Type":"NodeTableRow","Properties":{"id":""},"Children":[{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"id"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"exam_id"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"tag"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"difficulty"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"duration"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"release_time"}]}]}]},{"Type":"NodeTableRow","TableAligns":[0,0,0,0,0,0],"Properties":{"id":""},"Children":[{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"1"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"9001"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"SQL"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"hard"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"60"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"2021-09-01 06:00:00"}]}]},{"Type":"NodeTableRow","TableAligns":[0,0,0,0,0,0],"Properties":{"id":""},"Children":[{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"2"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"9002"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"C++"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"easy"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"60"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"2021-09-01 06:00:00"}]}]},{"Type":"NodeTableRow","TableAligns":[0,0,0,0,0,0],"Properties":{"id":""},"Children":[{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"3"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"9003"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"算法"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"medium"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"80"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"2021-09-01 10:00:00"}]}]}]},{"ID":"20240201213558-umsth7m","Type":"NodeParagraph","Properties":{"id":"20240201213558-umsth7m","updated":"20240201213558"},"Children":[{"Type":"NodeText","Data":"试卷作答记录表 "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"exam_record"},{"Type":"NodeText","Data":"（"},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"uid"},{"Type":"NodeText","Data":" 用户 ID, "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"exam_id"},{"Type":"NodeText","Data":" 试卷 ID, "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"start_time"},{"Type":"NodeText","Data":" 开始作答时间, "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"submit_time"},{"Type":"NodeText","Data":" 交卷时间, "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"score"},{"Type":"NodeText","Data":" 得分）："}]},{"ID":"20240201213559-elu60b6","Type":"NodeTable","Data":"| uid  | exam_id | start_time          | submit_time         | score  |\n| ---- | ------- | ------------------- | ------------------- | ------ |\n| 1001 | 9001    | 2021-09-01 09:01:01 | 2021-09-01 09:31:00 | 78     |\n| 1001 | 9001    | 2021-09-01 09:01:01 | 2021-09-01 09:31:00 | 81     |\n| 1005 | 9001    | 2021-09-01 19:01:01 | 2021-09-01 19:30:01 | 85     |\n| 1005 | 9002    | 2021-09-01 12:01:01 | 2021-09-01 12:31:02 | 85     |\n| 1006 | 9003    | 2021-09-07 10:01:01 | 2021-09-07 10:21:59 | 84     |\n| 1006 | 9001    | 2021-09-07 10:01:01 | 2021-09-07 10:21:01 | 81     |\n| 1002 | 9001    | 2020-09-01 13:01:01 | 2020-09-01 13:41:01 | 81     |\n| 1005 | 9001    | 2021-09-01 14:01:01 | (NULL)              | (NULL) |","TableAligns":[0,0,0,0,0],"Properties":{"id":"20240201213559-elu60b6","updated":"20240201213559"},"Children":[{"Type":"NodeTableHead","Properties":{"id":""},"Children":[{"Type":"NodeTableRow","Properties":{"id":""},"Children":[{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"uid"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"exam_id"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"start_time"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"submit_time"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"score"}]}]}]},{"Type":"NodeTableRow","TableAligns":[0,0,0,0,0],"Properties":{"id":""},"Children":[{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"1001"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"9001"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"2021-09-01 09:01:01"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"2021-09-01 09:31:00"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"78"}]}]},{"Type":"NodeTableRow","TableAligns":[0,0,0,0,0],"Properties":{"id":""},"Children":[{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"1001"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"9001"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"2021-09-01 09:01:01"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"2021-09-01 09:31:00"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"81"}]}]},{"Type":"NodeTableRow","TableAligns":[0,0,0,0,0],"Properties":{"id":""},"Children":[{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"1005"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"9001"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"2021-09-01 19:01:01"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"2021-09-01 19:30:01"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"85"}]}]},{"Type":"NodeTableRow","TableAligns":[0,0,0,0,0],"Properties":{"id":""},"Children":[{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"1005"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"9002"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"2021-09-01 12:01:01"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"2021-09-01 12:31:02"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"85"}]}]},{"Type":"NodeTableRow","TableAligns":[0,0,0,0,0],"Properties":{"id":""},"Children":[{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"1006"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"9003"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"2021-09-07 10:01:01"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"2021-09-07 10:21:59"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"84"}]}]},{"Type":"NodeTableRow","TableAligns":[0,0,0,0,0],"Properties":{"id":""},"Children":[{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"1006"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"9001"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"2021-09-07 10:01:01"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"2021-09-07 10:21:01"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"81"}]}]},{"Type":"NodeTableRow","TableAligns":[0,0,0,0,0],"Properties":{"id":""},"Children":[{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"1002"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"9001"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"2020-09-01 13:01:01"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"2020-09-01 13:41:01"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"81"}]}]},{"Type":"NodeTableRow","TableAligns":[0,0,0,0,0],"Properties":{"id":""},"Children":[{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"1005"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"9001"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"2021-09-01 14:01:01"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"(NULL)"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"(NULL)"}]}]}]},{"ID":"20240201213560-f2i0xuw","Type":"NodeParagraph","Properties":{"id":"20240201213560-f2i0xuw","updated":"20240201213560"},"Children":[{"Type":"NodeText","Data":"题目练习记录表 "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"practice_record"},{"Type":"NodeText","Data":"（"},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"uid"},{"Type":"NodeText","Data":" 用户 ID, "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"question_id"},{"Type":"NodeText","Data":" 题目 ID, "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"submit_time"},{"Type":"NodeText","Data":" 提交时间, "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"score"},{"Type":"NodeText","Data":" 得分）："}]},{"ID":"20240201213561-xkqrkdq","Type":"NodeTable","Data":"| uid  | question_id | submit_time         | score |\n| ---- | ----------- | ------------------- | ----- |\n| 1001 | 8001        | 2021-08-02 11:41:01 | 60    |\n| 1004 | 8001        | 2021-08-02 19:38:01 | 70    |\n| 1004 | 8002        | 2021-08-02 19:48:01 | 90    |\n| 1001 | 8002        | 2021-08-02 19:38:01 | 70    |\n| 1004 | 8002        | 2021-08-02 19:48:01 | 90    |\n| 1006 | 8002        | 2021-08-04 19:58:01 | 94    |\n| 1006 | 8003        | 2021-08-03 19:38:01 | 70    |\n| 1006 | 8003        | 2021-08-02 19:48:01 | 90    |\n| 1006 | 8003        | 2020-08-01 19:38:01 | 80    |","TableAligns":[0,0,0,0],"Properties":{"id":"20240201213561-xkqrkdq","updated":"20240201213561"},"Children":[{"Type":"NodeTableHead","Properties":{"id":""},"Children":[{"Type":"NodeTableRow","Properties":{"id":""},"Children":[{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"uid"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"question_id"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"submit_time"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"score"}]}]}]},{"Type":"NodeTableRow","TableAligns":[0,0,0,0],"Properties":{"id":""},"Children":[{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"1001"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"8001"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"2021-08-02 11:41:01"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"60"}]}]},{"Type":"NodeTableRow","TableAligns":[0,0,0,0],"Properties":{"id":""},"Children":[{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"1004"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"8001"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"2021-08-02 19:38:01"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"70"}]}]},{"Type":"NodeTableRow","TableAligns":[0,0,0,0],"Properties":{"id":""},"Children":[{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"1004"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"8002"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"2021-08-02 19:48:01"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"90"}]}]},{"Type":"NodeTableRow","TableAligns":[0,0,0,0],"Properties":{"id":""},"Children":[{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"1001"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"8002"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"2021-08-02 19:38:01"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"70"}]}]},{"Type":"NodeTableRow","TableAligns":[0,0,0,0],"Properties":{"id":""},"Children":[{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"1004"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"8002"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"2021-08-02 19:48:01"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"90"}]}]},{"Type":"NodeTableRow","TableAligns":[0,0,0,0],"Properties":{"id":""},"Children":[{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"1006"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"8002"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"2021-08-04 19:58:01"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"94"}]}]},{"Type":"NodeTableRow","TableAligns":[0,0,0,0],"Properties":{"id":""},"Children":[{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"1006"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"8003"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"2021-08-03 19:38:01"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"70"}]}]},{"Type":"NodeTableRow","TableAligns":[0,0,0,0],"Properties":{"id":""},"Children":[{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"1006"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"8003"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"2021-08-02 19:48:01"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"90"}]}]},{"Type":"NodeTableRow","TableAligns":[0,0,0,0],"Properties":{"id":""},"Children":[{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"1006"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"8003"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"2020-08-01 19:38:01"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"80"}]}]}]},{"ID":"20240201213562-0xccrhq","Type":"NodeParagraph","Properties":{"id":"20240201213562-0xccrhq","updated":"20240201213562"},"Children":[{"Type":"NodeText","Data":"请统计每个 6/7 级用户总活跃月份数、2021 年活跃天数、2021 年试卷作答活跃天数、2021 年答题活跃天数，按照总活跃月份数、2021 年活跃天数降序排序。由示例数据结果输出如下："}]},{"ID":"20240201213563-2fgo6fb","Type":"NodeTable","Data":"| uid  | act_month_total | act_days_2021 | act_days_2021_exam |\n| ---- | --------------- | ------------- | ------------------ |\n| 1006 | 3               | 4             | 1                  |\n| 1001 | 2               | 2             | 1                  |\n| 1005 | 1               | 1             | 1                  |\n| 1002 | 1               | 0             | 0                  |\n| 1003 | 0               | 0             | 0                  |","TableAligns":[0,0,0,0],"Properties":{"id":"20240201213563-2fgo6fb","updated":"20240201213563"},"Children":[{"Type":"NodeTableHead","Properties":{"id":""},"Children":[{"Type":"NodeTableRow","Properties":{"id":""},"Children":[{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"uid"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"act_month_total"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"act_days_2021"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"act_days_2021_exam"}]}]}]},{"Type":"NodeTableRow","TableAligns":[0,0,0,0],"Properties":{"id":""},"Children":[{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"1006"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"3"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"4"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"1"}]}]},{"Type":"NodeTableRow","TableAligns":[0,0,0,0],"Properties":{"id":""},"Children":[{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"1001"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"2"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"2"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"1"}]}]},{"Type":"NodeTableRow","TableAligns":[0,0,0,0],"Properties":{"id":""},"Children":[{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"1005"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"1"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"1"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"1"}]}]},{"Type":"NodeTableRow","TableAligns":[0,0,0,0],"Properties":{"id":""},"Children":[{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"1002"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"1"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"0"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"0"}]}]},{"Type":"NodeTableRow","TableAligns":[0,0,0,0],"Properties":{"id":""},"Children":[{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"1003"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"0"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"0"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"0"}]}]}]},{"ID":"20240201213564-lvaws1y","Type":"NodeParagraph","Properties":{"id":"20240201213564-lvaws1y","updated":"20240201213564"},"Children":[{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"strong","TextMarkTextContent":"解释"},{"Type":"NodeText","Data":"：6/7 级用户共有 5 个，其中 1006 在 202109、202108、202008 共 3 个月活跃过，2021 年活跃的日期有 20210907、20210804、20210803、20210802 共 4 天，2021 年在试卷作答区 20210907 活跃 1 天，在题目练习区活跃了 3 天。"}]},{"ID":"20240201213565-cxqg8ns","Type":"NodeParagraph","Properties":{"id":"20240201213565-cxqg8ns","updated":"20240201213565"},"Children":[{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"strong","TextMarkTextContent":"思路："}]},{"ID":"20240201213566-a20om47","Type":"NodeParagraph","Properties":{"id":"20240201213566-a20om47","updated":"20240201213566"},"Children":[{"Type":"NodeText","Data":"这题的关键在于"},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"CASE WHEN THEN"},{"Type":"NodeText","Data":"的使用，不然要写很多的"},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"left join"},{"Type":"NodeText","Data":" 因为会产生很多的结果集。"}]},{"ID":"20240201213567-sklagt0","Type":"NodeParagraph","Properties":{"id":"20240201213567-sklagt0","updated":"20240201213567"},"Children":[{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"CASE WHEN THEN"},{"Type":"NodeText","Data":"语句是一种条件表达式，用于在 SQL 中根据条件执行不同的操作或返回不同的结果。"}]},{"ID":"20240201213568-s2lrl08","Type":"NodeParagraph","Properties":{"id":"20240201213568-s2lrl08","updated":"20240201213568"},"Children":[{"Type":"NodeText","Data":"语法结构如下："}]},{"ID":"20240201213569-hvr3xq0","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"CodeBlockFenceChar":96,"CodeBlockFenceLen":3,"CodeBlockOpenFence":"YGBg","CodeBlockInfo":"c3Fs","CodeBlockCloseFence":"YGBg","Properties":{"id":"20240201213569-hvr3xq0","updated":"20240201213569"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"c3Fs","Properties":{"id":""}},{"Type":"NodeCodeBlockCode","Data":"CASE\n    WHEN condition1 THEN result1\n    WHEN condition2 THEN result2\n    ...\n    ELSE result\nEND\n","Properties":{"id":""}},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}}]},{"ID":"20240201213570-hsuhwgq","Type":"NodeParagraph","Properties":{"id":"20240201213570-hsuhwgq","updated":"20240201213570"},"Children":[{"Type":"NodeText","Data":"在这个结构中，可以根据需要添加多个"},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"WHEN"},{"Type":"NodeText","Data":"子句，每个"},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"WHEN"},{"Type":"NodeText","Data":"子句后面跟着一个条件（condition）和一个结果（result）。条件可以是任何逻辑表达式，如果满足条件，将返回对应的结果。"}]},{"ID":"20240201213571-hgige7r","Type":"NodeParagraph","Properties":{"id":"20240201213571-hgige7r","updated":"20240201213571"},"Children":[{"Type":"NodeText","Data":"最后的"},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"ELSE"},{"Type":"NodeText","Data":"子句是可选的，用于指定当所有前面的条件都不满足时的默认返回结果。如果没有提供"},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"ELSE"},{"Type":"NodeText","Data":"子句，则默认返回"},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"NULL"},{"Type":"NodeText","Data":"。"}]},{"ID":"20240201213572-1tx59we","Type":"NodeParagraph","Properties":{"id":"20240201213572-1tx59we","updated":"20240201213572"},"Children":[{"Type":"NodeText","Data":"例如："}]},{"ID":"20240201213573-phga03z","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"CodeBlockFenceChar":96,"CodeBlockFenceLen":3,"CodeBlockOpenFence":"YGBg","CodeBlockInfo":"c3Fs","CodeBlockCloseFence":"YGBg","Properties":{"id":"20240201213573-phga03z","updated":"20240201213573"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"c3Fs","Properties":{"id":""}},{"Type":"NodeCodeBlockCode","Data":"SELECT score,\n    CASE\n        WHEN score \u003e= 90 THEN '优秀'\n        WHEN score \u003e= 80 THEN '良好'\n        WHEN score \u003e= 60 THEN '及格'\n        ELSE '不及格'\n    END AS grade\nFROM student_scores;\n","Properties":{"id":""}},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}}]},{"ID":"20240201213574-qw27wfu","Type":"NodeParagraph","Properties":{"id":"20240201213574-qw27wfu","updated":"20240201213574"},"Children":[{"Type":"NodeText","Data":"在上述示例中，根据学生成绩（score）的不同范围，使用 CASE WHEN THEN 语句返回相应的等级（grade）。如果成绩大于等于 90，则返回\"优秀\"；如果成绩大于等于 80，则返回\"良好\"；如果成绩大于等于 60，则返回\"及格\"；否则返回\"不及格\"。"}]},{"ID":"20240201213575-tlr3529","Type":"NodeParagraph","Properties":{"id":"20240201213575-tlr3529","updated":"20240201213575"},"Children":[{"Type":"NodeText","Data":"那了解到了上述的用法之后，回过头看看该题，要求列出不同的活跃天数。"}]},{"ID":"20240201213576-558xktf","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"CodeBlockFenceChar":96,"CodeBlockFenceLen":3,"CodeBlockOpenFence":"YGBg","CodeBlockInfo":"c3Fs","CodeBlockCloseFence":"YGBg","Properties":{"id":"20240201213576-558xktf","updated":"20240201213576"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"c3Fs","Properties":{"id":""}},{"Type":"NodeCodeBlockCode","Data":"count(distinct act_month) as act_month_total,\ncount(distinct case when year(act_time)='2021'then act_day end) as act_days_2021,\ncount(distinct case when year(act_time)='2021' and tag='exam' then act_day end) as act_days_2021_exam,\ncount(distinct case when year(act_time)='2021' and tag='question'then act_day end) as act_days_2021_question\n","Properties":{"id":""}},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}}]},{"ID":"20240201213577-79etwi4","Type":"NodeParagraph","Properties":{"id":"20240201213577-79etwi4","updated":"20240201213577"},"Children":[{"Type":"NodeText","Data":"这里的 tag 是先给标记，方便对查询进行区分，将考试和答题分开。"}]},{"ID":"20240201213578-8yqwr08","Type":"NodeParagraph","Properties":{"id":"20240201213578-8yqwr08","updated":"20240201213578"},"Children":[{"Type":"NodeText","Data":"找出试卷作答区的用户"}]},{"ID":"20240201213579-h7vg656","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"CodeBlockFenceChar":96,"CodeBlockFenceLen":3,"CodeBlockOpenFence":"YGBg","CodeBlockInfo":"c3Fs","CodeBlockCloseFence":"YGBg","Properties":{"id":"20240201213579-h7vg656","updated":"20240201213579"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"c3Fs","Properties":{"id":""}},{"Type":"NodeCodeBlockCode","Data":"SELECT\n\t\tuid,\n\t\texam_id AS ans_id,\n\t\tstart_time AS act_time,\n\t\tdate_format( start_time, '%Y%m' ) AS act_month,\n\t\tdate_format( start_time, '%Y%m%d' ) AS act_day,\n\t\t'exam' AS tag\n\tFROM\n\t\texam_record\n","Properties":{"id":""}},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}}]},{"ID":"20240201213580-61hxzpg","Type":"NodeParagraph","Properties":{"id":"20240201213580-61hxzpg","updated":"20240201213580"},"Children":[{"Type":"NodeText","Data":"紧接着就是答题作答区的用户"}]},{"ID":"20240201213581-wusr3ru","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"CodeBlockFenceChar":96,"CodeBlockFenceLen":3,"CodeBlockOpenFence":"YGBg","CodeBlockInfo":"c3Fs","CodeBlockCloseFence":"YGBg","Properties":{"id":"20240201213581-wusr3ru","updated":"20240201213581"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"c3Fs","Properties":{"id":""}},{"Type":"NodeCodeBlockCode","Data":"SELECT\n\t\tuid,\n\t\tquestion_id AS ans_id,\n\t\tsubmit_time AS act_time,\n\t\tdate_format( submit_time, '%Y%m' ) AS act_month,\n\t\tdate_format( submit_time, '%Y%m%d' ) AS act_day,\n\t\t'question' AS tag\n\tFROM\n\t\tpractice_record\n","Properties":{"id":""}},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}}]},{"ID":"20240201213582-1y91oa5","Type":"NodeParagraph","Properties":{"id":"20240201213582-1y91oa5","updated":"20240201213582"},"Children":[{"Type":"NodeText","Data":"最后将两个结果进行"},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"UNION"},{"Type":"NodeText","Data":" 最后别忘了将结果进行排序 （这题有点类似于分治法的思想）"}]},{"ID":"20240201213583-4xjouw6","Type":"NodeParagraph","Properties":{"id":"20240201213583-4xjouw6","updated":"20240201213583"},"Children":[{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"strong","TextMarkTextContent":"答案"},{"Type":"NodeText","Data":"："}]},{"ID":"20240201213584-dxrs8oy","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"CodeBlockFenceChar":96,"CodeBlockFenceLen":3,"CodeBlockOpenFence":"YGBg","CodeBlockInfo":"c3Fs","CodeBlockCloseFence":"YGBg","Properties":{"id":"20240201213584-dxrs8oy","updated":"20240201213584"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"c3Fs","Properties":{"id":""}},{"Type":"NodeCodeBlockCode","Data":"SELECT user_info.uid,\n       count(DISTINCT act_month) AS act_month_total,\n       count(DISTINCT CASE\n                          WHEN YEAR (act_time)= '2021' THEN act_day\n                      END) AS act_days_2021,\n       count(DISTINCT CASE\n                          WHEN YEAR (act_time)= '2021'\n                               AND tag = 'exam' THEN act_day\n                      END) AS act_days_2021_exam,\n       count(DISTINCT CASE\n                          WHEN YEAR (act_time)= '2021'\n                               AND tag = 'question' THEN act_day\n                      END) AS act_days_2021_question\nFROM\n  (SELECT UID,\n          exam_id AS ans_id,\n          start_time AS act_time,\n          date_format(start_time, '%Y%m') AS act_month,\n          date_format(start_time, '%Y%m%d') AS act_day,\n          'exam' AS tag\n   FROM exam_record\n   UNION ALL SELECT UID,\n                    question_id AS ans_id,\n                    submit_time AS act_time,\n                    date_format(submit_time, '%Y%m') AS act_month,\n                    date_format(submit_time, '%Y%m%d') AS act_day,\n                    'question' AS tag\n   FROM practice_record) total\nRIGHT JOIN user_info ON total.uid = user_info.uid\nWHERE user_info.LEVEL IN (6,\n                          7)\nGROUP BY user_info.uid\nORDER BY act_month_total DESC,\n         act_days_2021 DESC\n","Properties":{"id":""}},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}}]},{"ID":"20240201213585-53jdite","Type":"NodeHTMLBlock","Data":"\u003cdiv\u003e\n\u003c!-- @include: @article-footer.snippet.md --\u003e\n\u003c/div\u003e","HtmlBlockType":2,"Properties":{"id":"20240201213585-53jdite","updated":"20240201213585"}}]}
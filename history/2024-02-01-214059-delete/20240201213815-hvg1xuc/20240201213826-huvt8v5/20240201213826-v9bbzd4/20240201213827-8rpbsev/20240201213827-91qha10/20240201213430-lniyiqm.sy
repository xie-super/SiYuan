{"ID":"20240201213430-lniyiqm","Spec":"1","Type":"NodeDocument","Properties":{"id":"20240201213430-lniyiqm","title":"docker-in-action","updated":"20240201213430"},"Children":[{"ID":"20240201213431-k5l5pdp","Type":"NodeThematicBreak","Properties":{"id":"20240201213431-k5l5pdp","updated":"20240201213431"}},{"ID":"20240201213432-kgmqmy1","Type":"NodeParagraph","Properties":{"id":"20240201213432-kgmqmy1","updated":"20240201213432"},"Children":[{"Type":"NodeText","Data":"title: Docker实战"},{"Type":"NodeSoftBreak","Data":"\n","Properties":{"id":""}},{"Type":"NodeText","Data":"category: 开发工具"},{"Type":"NodeSoftBreak","Data":"\n","Properties":{"id":""}},{"Type":"NodeText","Data":"tag:"}]},{"ID":"20240201213433-4tgy6ll","Type":"NodeList","ListData":{"Tight":true,"BulletChar":45,"Padding":2,"MarkerOffset":2,"Marker":"LQ==","Num":-1},"Properties":{"id":"20240201213433-4tgy6ll","updated":"20240201213433"},"Children":[{"ID":"20240201213434-rhyx9vb","Type":"NodeListItem","Data":"-","ListData":{"Tight":true,"BulletChar":45,"Padding":2,"MarkerOffset":2,"Marker":"LQ==","Num":-1},"Properties":{"id":"20240201213434-rhyx9vb","updated":"20240201213434"},"Children":[{"ID":"20240201213435-9g15zx0","Type":"NodeParagraph","Properties":{"id":"20240201213435-9g15zx0","updated":"20240201213435"},"Children":[{"Type":"NodeText","Data":"Docker"}]}]}]},{"ID":"20240201213436-c5tcy9r","Type":"NodeThematicBreak","Properties":{"id":"20240201213436-c5tcy9r","updated":"20240201213436"}},{"ID":"20240201213437-2titzdg","Type":"NodeHeading","HeadingLevel":2,"Properties":{"id":"20240201213437-2titzdg","updated":"20240201213437"},"Children":[{"Type":"NodeHeadingC8hMarker","Data":"## ","Properties":{"id":""}},{"Type":"NodeText","Data":"Docker 介绍"}]},{"ID":"20240201213438-j3oovfz","Type":"NodeParagraph","Properties":{"id":"20240201213438-j3oovfz","updated":"20240201213438"},"Children":[{"Type":"NodeText","Data":"开始之前，还是简单介绍一下 Docker，更多 Docker 概念介绍可以看前一篇文章"},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"a","TextMarkAHref":"./docker-intro.md","TextMarkTextContent":"Docker 核心概念总结"},{"Type":"NodeText","Data":"。"}]},{"ID":"20240201213439-qr7czt6","Type":"NodeHeading","HeadingLevel":3,"Properties":{"id":"20240201213439-qr7czt6","updated":"20240201213439"},"Children":[{"Type":"NodeHeadingC8hMarker","Data":"### ","Properties":{"id":""}},{"Type":"NodeText","Data":"什么是 Docker？"}]},{"ID":"20240201213440-mql3xz9","Type":"NodeParagraph","Properties":{"id":"20240201213440-mql3xz9","updated":"20240201213440"},"Children":[{"Type":"NodeText","Data":"说实话关于 Docker 是什么并不太好说，下面我通过四点向你说明 Docker 到底是个什么东西。"}]},{"ID":"20240201213441-z234t61","Type":"NodeList","ListData":{"Tight":true,"BulletChar":45,"Padding":2,"Marker":"LQ==","Num":-1},"Properties":{"id":"20240201213441-z234t61","updated":"20240201213441"},"Children":[{"ID":"20240201213442-2qmixhx","Type":"NodeListItem","Data":"-","ListData":{"Tight":true,"BulletChar":45,"Padding":2,"Marker":"LQ==","Num":-1},"Properties":{"id":"20240201213442-2qmixhx","updated":"20240201213442"},"Children":[{"ID":"20240201213443-nwmw454","Type":"NodeParagraph","Properties":{"id":"20240201213443-nwmw454","updated":"20240201213443"},"Children":[{"Type":"NodeText","Data":"Docker 是世界领先的软件容器平台，基于 "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"strong","TextMarkTextContent":"Go 语言"},{"Type":"NodeText","Data":" 进行开发实现。"}]}]},{"ID":"20240201213444-2jp6jxm","Type":"NodeListItem","Data":"-","ListData":{"Tight":true,"BulletChar":45,"Padding":2,"Marker":"LQ==","Num":-1},"Properties":{"id":"20240201213444-2jp6jxm","updated":"20240201213444"},"Children":[{"ID":"20240201213445-tafaqa6","Type":"NodeParagraph","Properties":{"id":"20240201213445-tafaqa6","updated":"20240201213445"},"Children":[{"Type":"NodeText","Data":"Docker 能够自动执行重复性任务，例如搭建和配置开发环境，从而解放开发人员。"}]}]},{"ID":"20240201213446-akaxzj4","Type":"NodeListItem","Data":"-","ListData":{"Tight":true,"BulletChar":45,"Padding":2,"Marker":"LQ==","Num":-1},"Properties":{"id":"20240201213446-akaxzj4","updated":"20240201213446"},"Children":[{"ID":"20240201213447-z34xfmj","Type":"NodeParagraph","Properties":{"id":"20240201213447-z34xfmj","updated":"20240201213447"},"Children":[{"Type":"NodeText","Data":"用户可以方便地创建和使用容器，把自己的应用放入容器。容器还可以进行版本管理、复制、分享、修改，就像管理普通的代码一样。"}]}]},{"ID":"20240201213448-igny63q","Type":"NodeListItem","Data":"-","ListData":{"Tight":true,"BulletChar":45,"Padding":2,"Marker":"LQ==","Num":-1},"Properties":{"id":"20240201213448-igny63q","updated":"20240201213448"},"Children":[{"ID":"20240201213449-mvwcfmy","Type":"NodeParagraph","Properties":{"id":"20240201213449-mvwcfmy","updated":"20240201213449"},"Children":[{"Type":"NodeText","Data":"Docker 可以"},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"strong","TextMarkTextContent":"对进程进行封装隔离，属于操作系统层面的虚拟化技术。"},{"Type":"NodeText","Data":" 由于隔离的进程独立于宿主和其它的隔离的进程，因此也称其为容器。"}]}]}]},{"ID":"20240201213450-wf7dwe9","Type":"NodeParagraph","Properties":{"id":"20240201213450-wf7dwe9","updated":"20240201213450"},"Children":[{"Type":"NodeText","Data":"官网地址："},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"a","TextMarkAHref":"https://www.docker.com/","TextMarkTextContent":"https://www.docker.com/"},{"Type":"NodeText","Data":" 。"}]},{"ID":"20240201213451-q7lvw8c","Type":"NodeParagraph","Properties":{"id":"20240201213451-q7lvw8c","updated":"20240201213451"},"Children":[{"Type":"NodeImage","Properties":{"id":""},"Children":[{"Type":"NodeBang","Data":"!","Properties":{"id":""}},{"Type":"NodeOpenBracket","Data":"[","Properties":{"id":""}},{"Type":"NodeLinkText","Data":"认识容器","Properties":{"id":""}},{"Type":"NodeCloseBracket","Data":"]","Properties":{"id":""}},{"Type":"NodeOpenParen","Data":"(","Properties":{"id":""}},{"Type":"NodeLinkDest","Data":"https://oss.javaguide.cn/github/javaguide/tools/docker/container.png","Properties":{"id":""}},{"Type":"NodeCloseParen","Data":")","Properties":{"id":""}}]}]},{"ID":"20240201213452-a8jee70","Type":"NodeHeading","HeadingLevel":3,"Properties":{"id":"20240201213452-a8jee70","updated":"20240201213452"},"Children":[{"Type":"NodeHeadingC8hMarker","Data":"### ","Properties":{"id":""}},{"Type":"NodeText","Data":"为什么要用 Docker?"}]},{"ID":"20240201213453-23hd7p4","Type":"NodeParagraph","Properties":{"id":"20240201213453-23hd7p4","updated":"20240201213453"},"Children":[{"Type":"NodeText","Data":"Docker 可以让开发者打包他们的应用以及依赖包到一个轻量级、可移植的容器中，然后发布到任何流行的 Linux 机器上，也可以实现虚拟化。"}]},{"ID":"20240201213454-8rlc8j0","Type":"NodeParagraph","Properties":{"id":"20240201213454-8rlc8j0","updated":"20240201213454"},"Children":[{"Type":"NodeText","Data":"容器是完全使用沙箱机制，相互之间不会有任何接口（类似 iPhone 的 app），更重要的是容器性能开销极低。"}]},{"ID":"20240201213455-ni0wxrr","Type":"NodeParagraph","Properties":{"id":"20240201213455-ni0wxrr","updated":"20240201213455"},"Children":[{"Type":"NodeText","Data":"传统的开发流程中，我们的项目通常需要使用 MySQL、Redis、FastDFS 等等环境，这些环境都是需要我们手动去进行下载并配置的，安装配置流程极其复杂，而且不同系统下的操作也不一样。"}]},{"ID":"20240201213456-l9dtuyu","Type":"NodeParagraph","Properties":{"id":"20240201213456-l9dtuyu","updated":"20240201213456"},"Children":[{"Type":"NodeText","Data":"Docker 的出现完美地解决了这一问题，我们可以在容器中安装 MySQL、Redis 等软件环境，使得应用和环境架构分开，它的优势在于："}]},{"ID":"20240201213457-oo47xtp","Type":"NodeList","ListData":{"Typ":1,"Tight":true,"Start":1,"Delimiter":46,"Padding":3,"Marker":"MQ==","Num":1},"Properties":{"id":"20240201213457-oo47xtp","updated":"20240201213457"},"Children":[{"ID":"20240201213458-rgbhzsb","Type":"NodeListItem","Data":"1","ListData":{"Typ":1,"Tight":true,"Start":1,"Delimiter":46,"Padding":3,"Marker":"MQ==","Num":1},"Properties":{"id":"20240201213458-rgbhzsb","updated":"20240201213458"},"Children":[{"ID":"20240201213459-ynm6x13","Type":"NodeParagraph","Properties":{"id":"20240201213459-ynm6x13","updated":"20240201213459"},"Children":[{"Type":"NodeText","Data":"一致的运行环境，能够更轻松地迁移"}]}]},{"ID":"20240201213460-80zzrec","Type":"NodeListItem","Data":"2","ListData":{"Typ":1,"Tight":true,"Start":2,"Delimiter":46,"Padding":3,"Marker":"Mg==","Num":2},"Properties":{"id":"20240201213460-80zzrec","updated":"20240201213460"},"Children":[{"ID":"20240201213461-pb7pzi4","Type":"NodeParagraph","Properties":{"id":"20240201213461-pb7pzi4","updated":"20240201213461"},"Children":[{"Type":"NodeText","Data":"对进程进行封装隔离，容器与容器之间互不影响，更高效地利用系统资源"}]}]},{"ID":"20240201213462-pp5hho4","Type":"NodeListItem","Data":"3","ListData":{"Typ":1,"Tight":true,"Start":3,"Delimiter":46,"Padding":3,"Marker":"Mw==","Num":3},"Properties":{"id":"20240201213462-pp5hho4","updated":"20240201213462"},"Children":[{"ID":"20240201213463-1x2mr9u","Type":"NodeParagraph","Properties":{"id":"20240201213463-1x2mr9u","updated":"20240201213463"},"Children":[{"Type":"NodeText","Data":"可以通过镜像复制多个一致的容器"}]}]}]},{"ID":"20240201213464-w1y7gcz","Type":"NodeParagraph","Properties":{"id":"20240201213464-w1y7gcz","updated":"20240201213464"},"Children":[{"Type":"NodeText","Data":"另外，"},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"a","TextMarkAHref":"https://yeasy.gitbook.io/docker_practice/introduction/why","TextMarkTextContent":"《Docker 从入门到实践》"},{"Type":"NodeText","Data":" 这本开源书籍中也已经给出了使用 Docker 的原因。"}]},{"ID":"20240201213465-508ymtm","Type":"NodeParagraph","Properties":{"id":"20240201213465-508ymtm","updated":"20240201213465"},"Children":[{"Type":"NodeImage","Properties":{"id":""},"Children":[{"Type":"NodeBang","Data":"!","Properties":{"id":""}},{"Type":"NodeOpenBracket","Data":"[","Properties":{"id":""}},{"Type":"NodeCloseBracket","Data":"]","Properties":{"id":""}},{"Type":"NodeOpenParen","Data":"(","Properties":{"id":""}},{"Type":"NodeLinkDest","Data":"https://oss.javaguide.cn/github/javaguide/tools/docker/20210412220015698.png","Properties":{"id":""}},{"Type":"NodeCloseParen","Data":")","Properties":{"id":""}}]}]},{"ID":"20240201213466-0t3bpcc","Type":"NodeHeading","HeadingLevel":2,"Properties":{"id":"20240201213466-0t3bpcc","updated":"20240201213466"},"Children":[{"Type":"NodeHeadingC8hMarker","Data":"## ","Properties":{"id":""}},{"Type":"NodeText","Data":"Docker 的安装"}]},{"ID":"20240201213467-anequru","Type":"NodeHeading","HeadingLevel":3,"Properties":{"id":"20240201213467-anequru","updated":"20240201213467"},"Children":[{"Type":"NodeHeadingC8hMarker","Data":"### ","Properties":{"id":""}},{"Type":"NodeText","Data":"Windows"}]},{"ID":"20240201213468-7wnpwm9","Type":"NodeParagraph","Properties":{"id":"20240201213468-7wnpwm9","updated":"20240201213468"},"Children":[{"Type":"NodeText","Data":"接下来对 Docker 进行安装，以 Windows 系统为例，访问 Docker 的官网："}]},{"ID":"20240201213469-m6bc1se","Type":"NodeParagraph","Properties":{"id":"20240201213469-m6bc1se","updated":"20240201213469"},"Children":[{"Type":"NodeImage","Properties":{"id":""},"Children":[{"Type":"NodeBang","Data":"!","Properties":{"id":""}},{"Type":"NodeOpenBracket","Data":"[","Properties":{"id":""}},{"Type":"NodeLinkText","Data":"安装 Docker","Properties":{"id":""}},{"Type":"NodeCloseBracket","Data":"]","Properties":{"id":""}},{"Type":"NodeOpenParen","Data":"(","Properties":{"id":""}},{"Type":"NodeLinkDest","Data":"https://oss.javaguide.cn/github/javaguide/tools/docker/docker-install-windows.png","Properties":{"id":""}},{"Type":"NodeCloseParen","Data":")","Properties":{"id":""}}]}]},{"ID":"20240201213470-y2gh3ac","Type":"NodeParagraph","Properties":{"id":"20240201213470-y2gh3ac","updated":"20240201213470"},"Children":[{"Type":"NodeText","Data":"然后点击"},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"Get Started"},{"Type":"NodeText","Data":"："}]},{"ID":"20240201213471-ejzuaeo","Type":"NodeParagraph","Properties":{"id":"20240201213471-ejzuaeo","updated":"20240201213471"},"Children":[{"Type":"NodeImage","Properties":{"id":""},"Children":[{"Type":"NodeBang","Data":"!","Properties":{"id":""}},{"Type":"NodeOpenBracket","Data":"[","Properties":{"id":""}},{"Type":"NodeLinkText","Data":"安装 Docker","Properties":{"id":""}},{"Type":"NodeCloseBracket","Data":"]","Properties":{"id":""}},{"Type":"NodeOpenParen","Data":"(","Properties":{"id":""}},{"Type":"NodeLinkDest","Data":"https://oss.javaguide.cn/github/javaguide/tools/docker/docker-install-windows-download.png","Properties":{"id":""}},{"Type":"NodeCloseParen","Data":")","Properties":{"id":""}}]}]},{"ID":"20240201213472-zpnrr31","Type":"NodeParagraph","Properties":{"id":"20240201213472-zpnrr31","updated":"20240201213472"},"Children":[{"Type":"NodeText","Data":"在此处点击"},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"Download for Windows"},{"Type":"NodeText","Data":"即可进行下载。"}]},{"ID":"20240201213473-je1b6ww","Type":"NodeParagraph","Properties":{"id":"20240201213473-je1b6ww","updated":"20240201213473"},"Children":[{"Type":"NodeText","Data":"如果你的电脑是"},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"Windows 10 64位专业版"},{"Type":"NodeText","Data":"的操作系统，则在安装 Docker 之前需要开启一下"},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"Hyper-V"},{"Type":"NodeText","Data":"，开启方式如下。打开控制面板，选择程序："}]},{"ID":"20240201213474-kfthwjk","Type":"NodeParagraph","Properties":{"id":"20240201213474-kfthwjk","updated":"20240201213474"},"Children":[{"Type":"NodeImage","Properties":{"id":""},"Children":[{"Type":"NodeBang","Data":"!","Properties":{"id":""}},{"Type":"NodeOpenBracket","Data":"[","Properties":{"id":""}},{"Type":"NodeLinkText","Data":"开启 Hyper-V","Properties":{"id":""}},{"Type":"NodeCloseBracket","Data":"]","Properties":{"id":""}},{"Type":"NodeOpenParen","Data":"(","Properties":{"id":""}},{"Type":"NodeLinkDest","Data":"https://oss.javaguide.cn/github/javaguide/tools/docker/docker-windows-hyperv.png","Properties":{"id":""}},{"Type":"NodeCloseParen","Data":")","Properties":{"id":""}}]}]},{"ID":"20240201213475-ufg3hhw","Type":"NodeParagraph","Properties":{"id":"20240201213475-ufg3hhw","updated":"20240201213475"},"Children":[{"Type":"NodeText","Data":"点击"},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"启用或关闭Windows功能"},{"Type":"NodeText","Data":"："}]},{"ID":"20240201213476-gw79st1","Type":"NodeParagraph","Properties":{"id":"20240201213476-gw79st1","updated":"20240201213476"},"Children":[{"Type":"NodeImage","Properties":{"id":""},"Children":[{"Type":"NodeBang","Data":"!","Properties":{"id":""}},{"Type":"NodeOpenBracket","Data":"[","Properties":{"id":""}},{"Type":"NodeLinkText","Data":"开启 Hyper-V","Properties":{"id":""}},{"Type":"NodeCloseBracket","Data":"]","Properties":{"id":""}},{"Type":"NodeOpenParen","Data":"(","Properties":{"id":""}},{"Type":"NodeLinkDest","Data":"https://oss.javaguide.cn/github/javaguide/tools/docker/docker-windows-hyperv-enable.png","Properties":{"id":""}},{"Type":"NodeCloseParen","Data":")","Properties":{"id":""}}]}]},{"ID":"20240201213477-b4taknn","Type":"NodeParagraph","Properties":{"id":"20240201213477-b4taknn","updated":"20240201213477"},"Children":[{"Type":"NodeText","Data":"勾选上"},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"Hyper-V"},{"Type":"NodeText","Data":"，点击确定即可："}]},{"ID":"20240201213478-j40tv11","Type":"NodeParagraph","Properties":{"id":"20240201213478-j40tv11","updated":"20240201213478"},"Children":[{"Type":"NodeImage","Properties":{"id":""},"Children":[{"Type":"NodeBang","Data":"!","Properties":{"id":""}},{"Type":"NodeOpenBracket","Data":"[","Properties":{"id":""}},{"Type":"NodeLinkText","Data":"开启 Hyper-V","Properties":{"id":""}},{"Type":"NodeCloseBracket","Data":"]","Properties":{"id":""}},{"Type":"NodeOpenParen","Data":"(","Properties":{"id":""}},{"Type":"NodeLinkDest","Data":"https://oss.javaguide.cn/github/javaguide/tools/docker/docker-windows-hyperv-check.png","Properties":{"id":""}},{"Type":"NodeCloseParen","Data":")","Properties":{"id":""}}]}]},{"ID":"20240201213479-buypdbv","Type":"NodeParagraph","Properties":{"id":"20240201213479-buypdbv","updated":"20240201213479"},"Children":[{"Type":"NodeText","Data":"完成更改后需要重启一下计算机。"}]},{"ID":"20240201213480-vwtdkm2","Type":"NodeParagraph","Properties":{"id":"20240201213480-vwtdkm2","updated":"20240201213480"},"Children":[{"Type":"NodeText","Data":"开启了"},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"Hyper-V"},{"Type":"NodeText","Data":"后，我们就可以对 Docker 进行安装了，打开安装程序后，等待片刻点击"},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"Ok"},{"Type":"NodeText","Data":"即可："}]},{"ID":"20240201213481-nct3r85","Type":"NodeParagraph","Properties":{"id":"20240201213481-nct3r85","updated":"20240201213481"},"Children":[{"Type":"NodeImage","Properties":{"id":""},"Children":[{"Type":"NodeBang","Data":"!","Properties":{"id":""}},{"Type":"NodeOpenBracket","Data":"[","Properties":{"id":""}},{"Type":"NodeLinkText","Data":"安装 Docker","Properties":{"id":""}},{"Type":"NodeCloseBracket","Data":"]","Properties":{"id":""}},{"Type":"NodeOpenParen","Data":"(","Properties":{"id":""}},{"Type":"NodeLinkDest","Data":"https://oss.javaguide.cn/github/javaguide/tools/docker/docker-windows-hyperv-install.png","Properties":{"id":""}},{"Type":"NodeCloseParen","Data":")","Properties":{"id":""}}]}]},{"ID":"20240201213482-oiqu9xs","Type":"NodeParagraph","Properties":{"id":"20240201213482-oiqu9xs","updated":"20240201213482"},"Children":[{"Type":"NodeText","Data":"安装完成后，我们仍然需要重启计算机，重启后，若提示如下内容："}]},{"ID":"20240201213483-6vxlmaq","Type":"NodeParagraph","Properties":{"id":"20240201213483-6vxlmaq","updated":"20240201213483"},"Children":[{"Type":"NodeImage","Properties":{"id":""},"Children":[{"Type":"NodeBang","Data":"!","Properties":{"id":""}},{"Type":"NodeOpenBracket","Data":"[","Properties":{"id":""}},{"Type":"NodeLinkText","Data":"安装 Docker","Properties":{"id":""}},{"Type":"NodeCloseBracket","Data":"]","Properties":{"id":""}},{"Type":"NodeOpenParen","Data":"(","Properties":{"id":""}},{"Type":"NodeLinkDest","Data":"https://oss.javaguide.cn/github/javaguide/tools/docker/docker-windows-hyperv-wsl2.png","Properties":{"id":""}},{"Type":"NodeCloseParen","Data":")","Properties":{"id":""}}]}]},{"ID":"20240201213484-ele28n7","Type":"NodeParagraph","Properties":{"id":"20240201213484-ele28n7","updated":"20240201213484"},"Children":[{"Type":"NodeText","Data":"它的意思是询问我们是否使用 WSL2，这是基于 Windows 的一个 Linux 子系统，这里我们取消即可，它就会使用我们之前勾选的"},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"Hyper-V"},{"Type":"NodeText","Data":"虚拟机。"}]},{"ID":"20240201213485-1yxx585","Type":"NodeParagraph","Properties":{"id":"20240201213485-1yxx585","updated":"20240201213485"},"Children":[{"Type":"NodeText","Data":"因为是图形界面的操作，这里就不介绍 Docker Desktop 的具体用法了。"}]},{"ID":"20240201213486-mbc47lg","Type":"NodeHeading","HeadingLevel":3,"Properties":{"id":"20240201213486-mbc47lg","updated":"20240201213486"},"Children":[{"Type":"NodeHeadingC8hMarker","Data":"### ","Properties":{"id":""}},{"Type":"NodeText","Data":"Mac"}]},{"ID":"20240201213487-39dauy5","Type":"NodeParagraph","Properties":{"id":"20240201213487-39dauy5","updated":"20240201213487"},"Children":[{"Type":"NodeText","Data":"直接使用 Homebrew 安装即可"}]},{"ID":"20240201213488-ryx0hao","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"CodeBlockFenceChar":96,"CodeBlockFenceLen":3,"CodeBlockOpenFence":"YGBg","CodeBlockInfo":"c2hlbGw=","CodeBlockCloseFence":"YGBg","Properties":{"id":"20240201213488-ryx0hao","updated":"20240201213488"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"c2hlbGw=","Properties":{"id":""}},{"Type":"NodeCodeBlockCode","Data":"brew install --cask docker\n","Properties":{"id":""}},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}}]},{"ID":"20240201213489-1ejqm1k","Type":"NodeHeading","HeadingLevel":3,"Properties":{"id":"20240201213489-1ejqm1k","updated":"20240201213489"},"Children":[{"Type":"NodeHeadingC8hMarker","Data":"### ","Properties":{"id":""}},{"Type":"NodeText","Data":"Linux"}]},{"ID":"20240201213490-3h6z0cm","Type":"NodeParagraph","Properties":{"id":"20240201213490-3h6z0cm","updated":"20240201213490"},"Children":[{"Type":"NodeText","Data":"下面来看看 Linux 中如何安装 Docker，这里以 CentOS7 为例。"}]},{"ID":"20240201213491-k81jna0","Type":"NodeParagraph","Properties":{"id":"20240201213491-k81jna0","updated":"20240201213491"},"Children":[{"Type":"NodeText","Data":"在测试或开发环境中，Docker 官方为了简化安装流程，提供了一套便捷的安装脚本，执行这个脚本后就会自动地将一切准备工作做好，并且把 Docker 的稳定版本安装在系统中。"}]},{"ID":"20240201213492-9skng5a","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"CodeBlockFenceChar":96,"CodeBlockFenceLen":3,"CodeBlockOpenFence":"YGBg","CodeBlockInfo":"c2hlbGw=","CodeBlockCloseFence":"YGBg","Properties":{"id":"20240201213492-9skng5a","updated":"20240201213492"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"c2hlbGw=","Properties":{"id":""}},{"Type":"NodeCodeBlockCode","Data":"curl -fsSL get.docker.com -o get-docker.sh\n","Properties":{"id":""}},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}}]},{"ID":"20240201213493-f8tbsix","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"CodeBlockFenceChar":96,"CodeBlockFenceLen":3,"CodeBlockOpenFence":"YGBg","CodeBlockInfo":"c2hlbGw=","CodeBlockCloseFence":"YGBg","Properties":{"id":"20240201213493-f8tbsix","updated":"20240201213493"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"c2hlbGw=","Properties":{"id":""}},{"Type":"NodeCodeBlockCode","Data":"sh get-docker.sh --mirror Aliyun\n","Properties":{"id":""}},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}}]},{"ID":"20240201213494-39srrx0","Type":"NodeParagraph","Properties":{"id":"20240201213494-39srrx0","updated":"20240201213494"},"Children":[{"Type":"NodeText","Data":"安装完成后直接启动服务："}]},{"ID":"20240201213495-bb7fsk8","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"CodeBlockFenceChar":96,"CodeBlockFenceLen":3,"CodeBlockOpenFence":"YGBg","CodeBlockInfo":"c2hlbGw=","CodeBlockCloseFence":"YGBg","Properties":{"id":"20240201213495-bb7fsk8","updated":"20240201213495"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"c2hlbGw=","Properties":{"id":""}},{"Type":"NodeCodeBlockCode","Data":"systemctl start docker\n","Properties":{"id":""}},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}}]},{"ID":"20240201213496-ga6fxog","Type":"NodeParagraph","Properties":{"id":"20240201213496-ga6fxog","updated":"20240201213496"},"Children":[{"Type":"NodeText","Data":"推荐设置开机自启，执行指令："}]},{"ID":"20240201213497-tu135o3","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"CodeBlockFenceChar":96,"CodeBlockFenceLen":3,"CodeBlockOpenFence":"YGBg","CodeBlockInfo":"c2hlbGw=","CodeBlockCloseFence":"YGBg","Properties":{"id":"20240201213497-tu135o3","updated":"20240201213497"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"c2hlbGw=","Properties":{"id":""}},{"Type":"NodeCodeBlockCode","Data":"systemctl enable docker\n","Properties":{"id":""}},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}}]},{"ID":"20240201213498-okax5ct","Type":"NodeHeading","HeadingLevel":2,"Properties":{"id":"20240201213498-okax5ct","updated":"20240201213498"},"Children":[{"Type":"NodeHeadingC8hMarker","Data":"## ","Properties":{"id":""}},{"Type":"NodeText","Data":"Docker 中的几个概念"}]},{"ID":"20240201213499-wnn0fud","Type":"NodeParagraph","Properties":{"id":"20240201213499-wnn0fud","updated":"20240201213499"},"Children":[{"Type":"NodeText","Data":"在正式学习 Docker 之前，我们需要了解 Docker 中的几个核心概念："}]},{"ID":"20240201213500-5mdti3j","Type":"NodeHeading","HeadingLevel":3,"Properties":{"id":"20240201213500-5mdti3j","updated":"20240201213500"},"Children":[{"Type":"NodeHeadingC8hMarker","Data":"### ","Properties":{"id":""}},{"Type":"NodeText","Data":"镜像"}]},{"ID":"20240201213501-y7kqbfk","Type":"NodeParagraph","Properties":{"id":"20240201213501-y7kqbfk","updated":"20240201213501"},"Children":[{"Type":"NodeText","Data":"镜像就是一个只读的模板，镜像可以用来创建 Docker 容器，一个镜像可以创建多个容器"}]},{"ID":"20240201213502-rp6w8b5","Type":"NodeHeading","HeadingLevel":3,"Properties":{"id":"20240201213502-rp6w8b5","updated":"20240201213502"},"Children":[{"Type":"NodeHeadingC8hMarker","Data":"### ","Properties":{"id":""}},{"Type":"NodeText","Data":"容器"}]},{"ID":"20240201213503-izl8p0y","Type":"NodeParagraph","Properties":{"id":"20240201213503-izl8p0y","updated":"20240201213503"},"Children":[{"Type":"NodeText","Data":"容器是用镜像创建的运行实例，Docker 利用容器独立运行一个或一组应用。它可以被启动、开始、停止、删除，每个容器都是相互隔离的、保证安全的平台。 可以把容器看作是一个简易的 Linux 环境和运行在其中的应用程序。容器的定义和镜像几乎一模一样，也是一堆层的统一视角，唯一区别在于容器的最上面那一层是可读可写的"}]},{"ID":"20240201213504-ke0ayy5","Type":"NodeHeading","HeadingLevel":3,"Properties":{"id":"20240201213504-ke0ayy5","updated":"20240201213504"},"Children":[{"Type":"NodeHeadingC8hMarker","Data":"### ","Properties":{"id":""}},{"Type":"NodeText","Data":"仓库"}]},{"ID":"20240201213505-br9kwi8","Type":"NodeParagraph","Properties":{"id":"20240201213505-br9kwi8","updated":"20240201213505"},"Children":[{"Type":"NodeText","Data":"仓库是集中存放镜像文件的场所。仓库和仓库注册服务器是有区别的，仓库注册服务器上往往存放着多个仓库，每个仓库中又包含了多个镜像，每个镜像有不同的标签。 仓库分为公开仓库和私有仓库两种形式，最大的公开仓库是 DockerHub，存放了数量庞大的镜像供用户下载，国内的公开仓库有阿里云、网易云等"}]},{"ID":"20240201213506-iox95kb","Type":"NodeHeading","HeadingLevel":3,"Properties":{"id":"20240201213506-iox95kb","updated":"20240201213506"},"Children":[{"Type":"NodeHeadingC8hMarker","Data":"### ","Properties":{"id":""}},{"Type":"NodeText","Data":"总结"}]},{"ID":"20240201213507-n746wrk","Type":"NodeParagraph","Properties":{"id":"20240201213507-n746wrk","updated":"20240201213507"},"Children":[{"Type":"NodeText","Data":"通俗点说，一个镜像就代表一个软件；而基于某个镜像运行就是生成一个程序实例，这个程序实例就是容器；而仓库是用来存储 Docker 中所有镜像的。"}]},{"ID":"20240201213508-os5lz54","Type":"NodeParagraph","Properties":{"id":"20240201213508-os5lz54","updated":"20240201213508"},"Children":[{"Type":"NodeText","Data":"其中仓库又分为远程仓库和本地仓库，和 Maven 类似，倘若每次都从远程下载依赖，则会大大降低效率，为此，Maven 的策略是第一次访问依赖时，将其下载到本地仓库，第二次、第三次使用时直接用本地仓库的依赖即可，Docker 的远程仓库和本地仓库的作用也是类似的。"}]},{"ID":"20240201213509-sznsmv2","Type":"NodeHeading","HeadingLevel":2,"Properties":{"id":"20240201213509-sznsmv2","updated":"20240201213509"},"Children":[{"Type":"NodeHeadingC8hMarker","Data":"## ","Properties":{"id":""}},{"Type":"NodeText","Data":"Docker 初体验"}]},{"ID":"20240201213510-7ijsckx","Type":"NodeParagraph","Properties":{"id":"20240201213510-7ijsckx","updated":"20240201213510"},"Children":[{"Type":"NodeText","Data":"下面我们来对 Docker 进行一个初步的使用，这里以下载一个 MySQL 的镜像为例"},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"(在CentOS7下进行)"},{"Type":"NodeText","Data":"。"}]},{"ID":"20240201213511-ondmevi","Type":"NodeParagraph","Properties":{"id":"20240201213511-ondmevi","updated":"20240201213511"},"Children":[{"Type":"NodeText","Data":"和 GitHub 一样，Docker 也提供了一个 DockerHub 用于查询各种镜像的地址和安装教程，为此，我们先访问 DockerHub："},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"a","TextMarkAHref":"https://hub.docker.com/","TextMarkTextContent":"https://hub.docker.com/"}]},{"ID":"20240201213512-0k9t7gr","Type":"NodeParagraph","Properties":{"id":"20240201213512-0k9t7gr","updated":"20240201213512"},"Children":[{"Type":"NodeImage","Properties":{"id":""},"Children":[{"Type":"NodeBang","Data":"!","Properties":{"id":""}},{"Type":"NodeOpenBracket","Data":"[","Properties":{"id":""}},{"Type":"NodeLinkText","Data":"DockerHub","Properties":{"id":""}},{"Type":"NodeCloseBracket","Data":"]","Properties":{"id":""}},{"Type":"NodeOpenParen","Data":"(","Properties":{"id":""}},{"Type":"NodeLinkDest","Data":"https://oss.javaguide.cn/github/javaguide/tools/docker/dockerhub-com.png","Properties":{"id":""}},{"Type":"NodeCloseParen","Data":")","Properties":{"id":""}}]}]},{"ID":"20240201213513-l1zmqvc","Type":"NodeParagraph","Properties":{"id":"20240201213513-l1zmqvc","updated":"20240201213513"},"Children":[{"Type":"NodeText","Data":"在左上角的搜索框中输入"},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"MySQL"},{"Type":"NodeText","Data":"并回车："}]},{"ID":"20240201213514-qenrvqq","Type":"NodeParagraph","Properties":{"id":"20240201213514-qenrvqq","updated":"20240201213514"},"Children":[{"Type":"NodeImage","Properties":{"id":""},"Children":[{"Type":"NodeBang","Data":"!","Properties":{"id":""}},{"Type":"NodeOpenBracket","Data":"[","Properties":{"id":""}},{"Type":"NodeLinkText","Data":"DockerHub 搜索 MySQL","Properties":{"id":""}},{"Type":"NodeCloseBracket","Data":"]","Properties":{"id":""}},{"Type":"NodeOpenParen","Data":"(","Properties":{"id":""}},{"Type":"NodeLinkDest","Data":"https://oss.javaguide.cn/github/javaguide/tools/docker/dockerhub-mysql.png","Properties":{"id":""}},{"Type":"NodeCloseParen","Data":")","Properties":{"id":""}}]}]},{"ID":"20240201213515-7f6veob","Type":"NodeParagraph","Properties":{"id":"20240201213515-7f6veob","updated":"20240201213515"},"Children":[{"Type":"NodeText","Data":"可以看到相关 MySQL 的镜像非常多，若右上角有"},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"OFFICIAL IMAGE"},{"Type":"NodeText","Data":"标识，则说明是官方镜像，所以我们点击第一个 MySQL 镜像："}]},{"ID":"20240201213516-47g1oeg","Type":"NodeParagraph","Properties":{"id":"20240201213516-47g1oeg","updated":"20240201213516"},"Children":[{"Type":"NodeImage","Properties":{"id":""},"Children":[{"Type":"NodeBang","Data":"!","Properties":{"id":""}},{"Type":"NodeOpenBracket","Data":"[","Properties":{"id":""}},{"Type":"NodeLinkText","Data":"MySQL 官方镜像","Properties":{"id":""}},{"Type":"NodeCloseBracket","Data":"]","Properties":{"id":""}},{"Type":"NodeOpenParen","Data":"(","Properties":{"id":""}},{"Type":"NodeLinkDest","Data":"https://oss.javaguide.cn/github/javaguide/tools/docker/dockerhub-mysql-official-image.png","Properties":{"id":""}},{"Type":"NodeCloseParen","Data":")","Properties":{"id":""}}]}]},{"ID":"20240201213517-8top7rd","Type":"NodeParagraph","Properties":{"id":"20240201213517-8top7rd","updated":"20240201213517"},"Children":[{"Type":"NodeText","Data":"右边提供了下载 MySQL 镜像的指令为"},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"docker pull MySQL"},{"Type":"NodeText","Data":"，但该指令始终会下载 MySQL 镜像的最新版本。"}]},{"ID":"20240201213518-3qdt9m2","Type":"NodeParagraph","Properties":{"id":"20240201213518-3qdt9m2","updated":"20240201213518"},"Children":[{"Type":"NodeText","Data":"若是想下载指定版本的镜像，则点击下面的"},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"View Available Tags"},{"Type":"NodeText","Data":"："}]},{"ID":"20240201213519-nc5ibxm","Type":"NodeParagraph","Properties":{"id":"20240201213519-nc5ibxm","updated":"20240201213519"},"Children":[{"Type":"NodeImage","Properties":{"id":""},"Children":[{"Type":"NodeBang","Data":"!","Properties":{"id":""}},{"Type":"NodeOpenBracket","Data":"[","Properties":{"id":""}},{"Type":"NodeLinkText","Data":"查看其他版本的 MySQL","Properties":{"id":""}},{"Type":"NodeCloseBracket","Data":"]","Properties":{"id":""}},{"Type":"NodeOpenParen","Data":"(","Properties":{"id":""}},{"Type":"NodeLinkDest","Data":"https://oss.javaguide.cn/github/javaguide/tools/docker/dockerhub-mysql-view-available-tags.png","Properties":{"id":""}},{"Type":"NodeCloseParen","Data":")","Properties":{"id":""}}]}]},{"ID":"20240201213520-916ujpd","Type":"NodeParagraph","Properties":{"id":"20240201213520-916ujpd","updated":"20240201213520"},"Children":[{"Type":"NodeText","Data":"这里就可以看到各种版本的镜像，右边有下载的指令，所以若是想下载 5.7.32 版本的 MySQL 镜像，则执行："}]},{"ID":"20240201213521-t6qvrxy","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"CodeBlockFenceChar":96,"CodeBlockFenceLen":3,"CodeBlockOpenFence":"YGBg","CodeBlockInfo":"c2hlbGw=","CodeBlockCloseFence":"YGBg","Properties":{"id":"20240201213521-t6qvrxy","updated":"20240201213521"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"c2hlbGw=","Properties":{"id":""}},{"Type":"NodeCodeBlockCode","Data":"docker pull MySQL:5.7.32\n","Properties":{"id":""}},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}}]},{"ID":"20240201213522-y7npdc1","Type":"NodeParagraph","Properties":{"id":"20240201213522-y7npdc1","updated":"20240201213522"},"Children":[{"Type":"NodeText","Data":"然而下载镜像的过程是非常慢的，所以我们需要配置一下镜像源加速下载，访问"},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"阿里云"},{"Type":"NodeText","Data":"官网，点击控制台："}]},{"ID":"20240201213523-en326vr","Type":"NodeParagraph","Properties":{"id":"20240201213523-en326vr","updated":"20240201213523"},"Children":[{"Type":"NodeImage","Properties":{"id":""},"Children":[{"Type":"NodeBang","Data":"!","Properties":{"id":""}},{"Type":"NodeOpenBracket","Data":"[","Properties":{"id":""}},{"Type":"NodeLinkText","Data":"阿里云镜像加速","Properties":{"id":""}},{"Type":"NodeCloseBracket","Data":"]","Properties":{"id":""}},{"Type":"NodeOpenParen","Data":"(","Properties":{"id":""}},{"Type":"NodeLinkDest","Data":"https://oss.javaguide.cn/github/javaguide/tools/docker/docker-aliyun-mirror-admin.png","Properties":{"id":""}},{"Type":"NodeCloseParen","Data":")","Properties":{"id":""}}]}]},{"ID":"20240201213524-ph31cyf","Type":"NodeParagraph","Properties":{"id":"20240201213524-ph31cyf","updated":"20240201213524"},"Children":[{"Type":"NodeText","Data":"然后点击左上角的菜单，在弹窗的窗口中，将鼠标悬停在产品与服务上，并在右侧搜索容器镜像服务，最后点击容器镜像服务："}]},{"ID":"20240201213525-06xqwhy","Type":"NodeParagraph","Properties":{"id":"20240201213525-06xqwhy","updated":"20240201213525"},"Children":[{"Type":"NodeImage","Properties":{"id":""},"Children":[{"Type":"NodeBang","Data":"!","Properties":{"id":""}},{"Type":"NodeOpenBracket","Data":"[","Properties":{"id":""}},{"Type":"NodeLinkText","Data":"阿里云镜像加速","Properties":{"id":""}},{"Type":"NodeCloseBracket","Data":"]","Properties":{"id":""}},{"Type":"NodeOpenParen","Data":"(","Properties":{"id":""}},{"Type":"NodeLinkDest","Data":"https://oss.javaguide.cn/github/javaguide/tools/docker/docker-aliyun-mirror-admin-accelerator.png","Properties":{"id":""}},{"Type":"NodeCloseParen","Data":")","Properties":{"id":""}}]}]},{"ID":"20240201213526-1s2t6ql","Type":"NodeParagraph","Properties":{"id":"20240201213526-1s2t6ql","updated":"20240201213526"},"Children":[{"Type":"NodeText","Data":"点击左侧的镜像加速器，并依次执行右侧的配置指令即可。"}]},{"ID":"20240201213527-j716gzw","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"CodeBlockFenceChar":96,"CodeBlockFenceLen":3,"CodeBlockOpenFence":"YGBg","CodeBlockInfo":"c2hlbGw=","CodeBlockCloseFence":"YGBg","Properties":{"id":"20240201213527-j716gzw","updated":"20240201213527"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"c2hlbGw=","Properties":{"id":""}},{"Type":"NodeCodeBlockCode","Data":"sudo mkdir -p /etc/docker\nsudo tee /etc/docker/daemon.json \u003c\u003c-'EOF'\n{\n  \"registry-mirrors\": [\"https://679xpnpz.mirror.aliyuncs.com\"]\n}\nEOF\nsudo systemctl daemon-reload\nsudo systemctl restart docker\n","Properties":{"id":""}},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}}]},{"ID":"20240201213528-b932eu1","Type":"NodeHeading","HeadingLevel":2,"Properties":{"id":"20240201213528-b932eu1","updated":"20240201213528"},"Children":[{"Type":"NodeHeadingC8hMarker","Data":"## ","Properties":{"id":""}},{"Type":"NodeText","Data":"Docker 镜像指令"}]},{"ID":"20240201213529-v5u6o5p","Type":"NodeParagraph","Properties":{"id":"20240201213529-v5u6o5p","updated":"20240201213529"},"Children":[{"Type":"NodeText","Data":"Docker 需要频繁地操作相关的镜像，所以我们先来了解一下 Docker 中的镜像指令。"}]},{"ID":"20240201213530-wucuhj9","Type":"NodeParagraph","Properties":{"id":"20240201213530-wucuhj9","updated":"20240201213530"},"Children":[{"Type":"NodeText","Data":"若想查看 Docker 中当前拥有哪些镜像，则可以使用 "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"docker images"},{"Type":"NodeText","Data":" 命令。"}]},{"ID":"20240201213531-o4ub94r","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"CodeBlockFenceChar":96,"CodeBlockFenceLen":3,"CodeBlockOpenFence":"YGBg","CodeBlockInfo":"c2hlbGw=","CodeBlockCloseFence":"YGBg","Properties":{"id":"20240201213531-o4ub94r","updated":"20240201213531"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"c2hlbGw=","Properties":{"id":""}},{"Type":"NodeCodeBlockCode","Data":"[root@izrcf5u3j3q8xaz ~]# docker images\nREPOSITORY    TAG       IMAGE ID       CREATED         SIZE\nMySQL         5.7.32    f07dfa83b528   11 days ago     448MB\ntomcat        latest    feba8d001e3f   2 weeks ago     649MB\nnginx         latest    ae2feff98a0c   2 weeks ago     133MB\nhello-world   latest    bf756fb1ae65   12 months ago   13.3kB\n","Properties":{"id":""}},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}}]},{"ID":"20240201213532-lopb4jo","Type":"NodeParagraph","Properties":{"id":"20240201213532-lopb4jo","updated":"20240201213532"},"Children":[{"Type":"NodeText","Data":"其中"},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"REPOSITORY"},{"Type":"NodeText","Data":"为镜像名，"},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"TAG"},{"Type":"NodeText","Data":"为版本标志，"},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"IMAGE ID"},{"Type":"NodeText","Data":"为镜像 id(唯一的)，"},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"CREATED"},{"Type":"NodeText","Data":"为创建时间，注意这个时间并不是我们将镜像下载到 Docker 中的时间，而是镜像创建者创建的时间，"},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"SIZE"},{"Type":"NodeText","Data":"为镜像大小。"}]},{"ID":"20240201213533-3dig13u","Type":"NodeParagraph","Properties":{"id":"20240201213533-3dig13u","updated":"20240201213533"},"Children":[{"Type":"NodeText","Data":"该指令能够查询指定镜像名："}]},{"ID":"20240201213534-mys8itu","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"CodeBlockFenceChar":96,"CodeBlockFenceLen":3,"CodeBlockOpenFence":"YGBg","CodeBlockInfo":"c2hlbGw=","CodeBlockCloseFence":"YGBg","Properties":{"id":"20240201213534-mys8itu","updated":"20240201213534"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"c2hlbGw=","Properties":{"id":""}},{"Type":"NodeCodeBlockCode","Data":"docker image MySQL\n","Properties":{"id":""}},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}}]},{"ID":"20240201213535-ue2od0i","Type":"NodeParagraph","Properties":{"id":"20240201213535-ue2od0i","updated":"20240201213535"},"Children":[{"Type":"NodeText","Data":"若如此做，则会查询出 Docker 中的所有 MySQL 镜像："}]},{"ID":"20240201213536-gx6wtro","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"CodeBlockFenceChar":96,"CodeBlockFenceLen":3,"CodeBlockOpenFence":"YGBg","CodeBlockInfo":"c2hlbGw=","CodeBlockCloseFence":"YGBg","Properties":{"id":"20240201213536-gx6wtro","updated":"20240201213536"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"c2hlbGw=","Properties":{"id":""}},{"Type":"NodeCodeBlockCode","Data":"[root@izrcf5u3j3q8xaz ~]# docker images MySQL\nREPOSITORY   TAG       IMAGE ID       CREATED         SIZE\nMySQL        5.6       0ebb5600241d   11 days ago     302MB\nMySQL        5.7.32    f07dfa83b528   11 days ago     448MB\nMySQL        5.5       d404d78aa797   20 months ago   205MB\n","Properties":{"id":""}},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}}]},{"ID":"20240201213537-lnw2496","Type":"NodeParagraph","Properties":{"id":"20240201213537-lnw2496","updated":"20240201213537"},"Children":[{"Type":"NodeText","Data":"该指令还能够携带"},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"-q"},{"Type":"NodeText","Data":"参数："},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"docker images -q"},{"Type":"NodeText","Data":" ， "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"-q"},{"Type":"NodeText","Data":"表示仅显示镜像的 id："}]},{"ID":"20240201213538-oppfhvr","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"CodeBlockFenceChar":96,"CodeBlockFenceLen":3,"CodeBlockOpenFence":"YGBg","CodeBlockInfo":"c2hlbGw=","CodeBlockCloseFence":"YGBg","Properties":{"id":"20240201213538-oppfhvr","updated":"20240201213538"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"c2hlbGw=","Properties":{"id":""}},{"Type":"NodeCodeBlockCode","Data":"[root@izrcf5u3j3q8xaz ~]# docker images -q\n0ebb5600241d\nf07dfa83b528\nfeba8d001e3f\nd404d78aa797\n","Properties":{"id":""}},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}}]},{"ID":"20240201213539-eqy6ocd","Type":"NodeParagraph","Properties":{"id":"20240201213539-eqy6ocd","updated":"20240201213539"},"Children":[{"Type":"NodeText","Data":"若是要下载镜像，则使用："}]},{"ID":"20240201213540-lbx66ti","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"CodeBlockFenceChar":96,"CodeBlockFenceLen":3,"CodeBlockOpenFence":"YGBg","CodeBlockInfo":"c2hlbGw=","CodeBlockCloseFence":"YGBg","Properties":{"id":"20240201213540-lbx66ti","updated":"20240201213540"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"c2hlbGw=","Properties":{"id":""}},{"Type":"NodeCodeBlockCode","Data":"docker pull MySQL:5.7\n","Properties":{"id":""}},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}}]},{"ID":"20240201213541-j745e4d","Type":"NodeParagraph","Properties":{"id":"20240201213541-j745e4d","updated":"20240201213541"},"Children":[{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"docker pull"},{"Type":"NodeText","Data":"是固定的，后面写上需要下载的镜像名及版本标志；若是不写版本标志，而是直接执行"},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"docker pull MySQL"},{"Type":"NodeText","Data":"，则会下载镜像的最新版本。"}]},{"ID":"20240201213542-plpp7ry","Type":"NodeParagraph","Properties":{"id":"20240201213542-plpp7ry","updated":"20240201213542"},"Children":[{"Type":"NodeText","Data":"一般在下载镜像前我们需要搜索一下镜像有哪些版本才能对指定版本进行下载，使用指令："}]},{"ID":"20240201213543-oe1zjcz","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"CodeBlockFenceChar":96,"CodeBlockFenceLen":3,"CodeBlockOpenFence":"YGBg","CodeBlockInfo":"c2hlbGw=","CodeBlockCloseFence":"YGBg","Properties":{"id":"20240201213543-oe1zjcz","updated":"20240201213543"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"c2hlbGw=","Properties":{"id":""}},{"Type":"NodeCodeBlockCode","Data":"docker search MySQL\n","Properties":{"id":""}},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}}]},{"ID":"20240201213544-6ox3bgv","Type":"NodeParagraph","Properties":{"id":"20240201213544-6ox3bgv","updated":"20240201213544"},"Children":[{"Type":"NodeImage","Properties":{"id":""},"Children":[{"Type":"NodeBang","Data":"!","Properties":{"id":""}},{"Type":"NodeOpenBracket","Data":"[","Properties":{"id":""}},{"Type":"NodeCloseBracket","Data":"]","Properties":{"id":""}},{"Type":"NodeOpenParen","Data":"(","Properties":{"id":""}},{"Type":"NodeLinkDest","Data":"https://oss.javaguide.cn/github/javaguide/tools/docker/docker-search-mysql-terminal.png","Properties":{"id":""}},{"Type":"NodeCloseParen","Data":")","Properties":{"id":""}}]}]},{"ID":"20240201213545-0wm76oo","Type":"NodeParagraph","Properties":{"id":"20240201213545-0wm76oo","updated":"20240201213545"},"Children":[{"Type":"NodeText","Data":"不过该指令只能查看 MySQL 相关的镜像信息，而不能知道有哪些版本，若想知道版本，则只能这样查询："}]},{"ID":"20240201213546-0krd55q","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"CodeBlockFenceChar":96,"CodeBlockFenceLen":3,"CodeBlockOpenFence":"YGBg","CodeBlockInfo":"c2hlbGw=","CodeBlockCloseFence":"YGBg","Properties":{"id":"20240201213546-0krd55q","updated":"20240201213546"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"c2hlbGw=","Properties":{"id":""}},{"Type":"NodeCodeBlockCode","Data":"docker search MySQL:5.5\n","Properties":{"id":""}},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}}]},{"ID":"20240201213547-ti2p21m","Type":"NodeParagraph","Properties":{"id":"20240201213547-ti2p21m","updated":"20240201213547"},"Children":[{"Type":"NodeText","Data":"若是查询的版本不存在，则结果为空："}]},{"ID":"20240201213548-6vs1way","Type":"NodeParagraph","Properties":{"id":"20240201213548-6vs1way","updated":"20240201213548"},"Children":[{"Type":"NodeImage","Properties":{"id":""},"Children":[{"Type":"NodeBang","Data":"!","Properties":{"id":""}},{"Type":"NodeOpenBracket","Data":"[","Properties":{"id":""}},{"Type":"NodeCloseBracket","Data":"]","Properties":{"id":""}},{"Type":"NodeOpenParen","Data":"(","Properties":{"id":""}},{"Type":"NodeLinkDest","Data":"https://oss.javaguide.cn/github/javaguide/tools/docker/docker-search-mysql-404-terminal.png","Properties":{"id":""}},{"Type":"NodeCloseParen","Data":")","Properties":{"id":""}}]}]},{"ID":"20240201213549-i5666sk","Type":"NodeParagraph","Properties":{"id":"20240201213549-i5666sk","updated":"20240201213549"},"Children":[{"Type":"NodeText","Data":"删除镜像使用指令："}]},{"ID":"20240201213550-gfamfx9","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"CodeBlockFenceChar":96,"CodeBlockFenceLen":3,"CodeBlockOpenFence":"YGBg","CodeBlockInfo":"c2hlbGw=","CodeBlockCloseFence":"YGBg","Properties":{"id":"20240201213550-gfamfx9","updated":"20240201213550"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"c2hlbGw=","Properties":{"id":""}},{"Type":"NodeCodeBlockCode","Data":"docker image rm MySQL:5.5\n","Properties":{"id":""}},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}}]},{"ID":"20240201213551-pxfvxbh","Type":"NodeParagraph","Properties":{"id":"20240201213551-pxfvxbh","updated":"20240201213551"},"Children":[{"Type":"NodeText","Data":"若是不指定版本，则默认删除的也是最新版本。"}]},{"ID":"20240201213552-kpclilw","Type":"NodeParagraph","Properties":{"id":"20240201213552-kpclilw","updated":"20240201213552"},"Children":[{"Type":"NodeText","Data":"还可以通过指定镜像 id 进行删除："}]},{"ID":"20240201213553-zf29yr3","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"CodeBlockFenceChar":96,"CodeBlockFenceLen":3,"CodeBlockOpenFence":"YGBg","CodeBlockInfo":"c2hlbGw=","CodeBlockCloseFence":"YGBg","Properties":{"id":"20240201213553-zf29yr3","updated":"20240201213553"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"c2hlbGw=","Properties":{"id":""}},{"Type":"NodeCodeBlockCode","Data":"docker image rm bf756fb1ae65\n","Properties":{"id":""}},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}}]},{"ID":"20240201213554-rbrte1y","Type":"NodeParagraph","Properties":{"id":"20240201213554-rbrte1y","updated":"20240201213554"},"Children":[{"Type":"NodeText","Data":"然而此时报错了："}]},{"ID":"20240201213555-hniuo7d","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"CodeBlockFenceChar":96,"CodeBlockFenceLen":3,"CodeBlockOpenFence":"YGBg","CodeBlockInfo":"c2hlbGw=","CodeBlockCloseFence":"YGBg","Properties":{"id":"20240201213555-hniuo7d","updated":"20240201213555"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"c2hlbGw=","Properties":{"id":""}},{"Type":"NodeCodeBlockCode","Data":"[root@izrcf5u3j3q8xaz ~]# docker image rm bf756fb1ae65\nError response from daemon: conflict: unable to delete bf756fb1ae65 (must be forced) - image is being used by stopped container d5b6c177c151\n","Properties":{"id":""}},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}}]},{"ID":"20240201213556-pbw7bw6","Type":"NodeParagraph","Properties":{"id":"20240201213556-pbw7bw6","updated":"20240201213556"},"Children":[{"Type":"NodeText","Data":"这是因为要删除的"},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"hello-world"},{"Type":"NodeText","Data":"镜像正在运行中，所以无法删除镜像，此时需要强制执行删除："}]},{"ID":"20240201213557-9d69c7s","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"CodeBlockFenceChar":96,"CodeBlockFenceLen":3,"CodeBlockOpenFence":"YGBg","CodeBlockInfo":"c2hlbGw=","CodeBlockCloseFence":"YGBg","Properties":{"id":"20240201213557-9d69c7s","updated":"20240201213557"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"c2hlbGw=","Properties":{"id":""}},{"Type":"NodeCodeBlockCode","Data":"docker image rm -f bf756fb1ae65\n","Properties":{"id":""}},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}}]},{"ID":"20240201213558-tcm3q3i","Type":"NodeParagraph","Properties":{"id":"20240201213558-tcm3q3i","updated":"20240201213558"},"Children":[{"Type":"NodeText","Data":"该指令会将镜像和通过该镜像执行的容器全部删除，谨慎使用。"}]},{"ID":"20240201213559-nyonbeh","Type":"NodeParagraph","Properties":{"id":"20240201213559-nyonbeh","updated":"20240201213559"},"Children":[{"Type":"NodeText","Data":"Docker 还提供了删除镜像的简化版本："},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"docker rmi 镜像名:版本标志"},{"Type":"NodeText","Data":" 。"}]},{"ID":"20240201213560-0nmyd7k","Type":"NodeParagraph","Properties":{"id":"20240201213560-0nmyd7k","updated":"20240201213560"},"Children":[{"Type":"NodeText","Data":"此时我们即可借助"},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"rmi"},{"Type":"NodeText","Data":"和"},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"-q"},{"Type":"NodeText","Data":"进行一些联合操作，比如现在想删除所有的 MySQL 镜像，那么你需要查询出 MySQL 镜像的 id，并根据这些 id 一个一个地执行"},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"docker rmi"},{"Type":"NodeText","Data":"进行删除，但是现在，我们可以这样："}]},{"ID":"20240201213561-hupe3c7","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"CodeBlockFenceChar":96,"CodeBlockFenceLen":3,"CodeBlockOpenFence":"YGBg","CodeBlockInfo":"c2hlbGw=","CodeBlockCloseFence":"YGBg","Properties":{"id":"20240201213561-hupe3c7","updated":"20240201213561"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"c2hlbGw=","Properties":{"id":""}},{"Type":"NodeCodeBlockCode","Data":"docker rmi -f $(docker images MySQL -q)\n","Properties":{"id":""}},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}}]},{"ID":"20240201213562-lxrqt1t","Type":"NodeParagraph","Properties":{"id":"20240201213562-lxrqt1t","updated":"20240201213562"},"Children":[{"Type":"NodeText","Data":"首先通过"},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"docker images MySQL -q"},{"Type":"NodeText","Data":"查询出 MySQL 的所有镜像 id，"},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"-q"},{"Type":"NodeText","Data":"表示仅查询 id，并将这些 id 作为参数传递给"},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"docker rmi -f"},{"Type":"NodeText","Data":"指令，这样所有的 MySQL 镜像就都被删除了。"}]},{"ID":"20240201213563-3hm1kz9","Type":"NodeHeading","HeadingLevel":2,"Properties":{"id":"20240201213563-3hm1kz9","updated":"20240201213563"},"Children":[{"Type":"NodeHeadingC8hMarker","Data":"## ","Properties":{"id":""}},{"Type":"NodeText","Data":"Docker 容器指令"}]},{"ID":"20240201213564-0n8jqrt","Type":"NodeParagraph","Properties":{"id":"20240201213564-0n8jqrt","updated":"20240201213564"},"Children":[{"Type":"NodeText","Data":"掌握了镜像的相关指令之后，我们需要了解一下容器的指令，容器是基于镜像的。"}]},{"ID":"20240201213565-7r31e85","Type":"NodeParagraph","Properties":{"id":"20240201213565-7r31e85","updated":"20240201213565"},"Children":[{"Type":"NodeText","Data":"若需要通过镜像运行一个容器，则使用："}]},{"ID":"20240201213566-7ml7ili","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"CodeBlockFenceChar":96,"CodeBlockFenceLen":3,"CodeBlockOpenFence":"YGBg","CodeBlockInfo":"c2hlbGw=","CodeBlockCloseFence":"YGBg","Properties":{"id":"20240201213566-7ml7ili","updated":"20240201213566"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"c2hlbGw=","Properties":{"id":""}},{"Type":"NodeCodeBlockCode","Data":"docker run tomcat:8.0-jre8\n","Properties":{"id":""}},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}}]},{"ID":"20240201213567-utdfno4","Type":"NodeParagraph","Properties":{"id":"20240201213567-utdfno4","updated":"20240201213567"},"Children":[{"Type":"NodeText","Data":"当然了，运行的前提是你拥有这个镜像，所以先下载镜像："}]},{"ID":"20240201213568-veskz0x","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"CodeBlockFenceChar":96,"CodeBlockFenceLen":3,"CodeBlockOpenFence":"YGBg","CodeBlockInfo":"c2hlbGw=","CodeBlockCloseFence":"YGBg","Properties":{"id":"20240201213568-veskz0x","updated":"20240201213568"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"c2hlbGw=","Properties":{"id":""}},{"Type":"NodeCodeBlockCode","Data":"docker pull tomcat:8.0-jre8\n","Properties":{"id":""}},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}}]},{"ID":"20240201213569-subi0gb","Type":"NodeParagraph","Properties":{"id":"20240201213569-subi0gb","updated":"20240201213569"},"Children":[{"Type":"NodeText","Data":"下载完成后就可以运行了，运行后查看一下当前运行的容器："},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"docker ps"},{"Type":"NodeText","Data":" 。"}]},{"ID":"20240201213570-bwmr59i","Type":"NodeParagraph","Properties":{"id":"20240201213570-bwmr59i","updated":"20240201213570"},"Children":[{"Type":"NodeImage","Properties":{"id":""},"Children":[{"Type":"NodeBang","Data":"!","Properties":{"id":""}},{"Type":"NodeOpenBracket","Data":"[","Properties":{"id":""}},{"Type":"NodeCloseBracket","Data":"]","Properties":{"id":""}},{"Type":"NodeOpenParen","Data":"(","Properties":{"id":""}},{"Type":"NodeLinkDest","Data":"https://oss.javaguide.cn/github/javaguide/tools/docker/docker-ps-terminal.png","Properties":{"id":""}},{"Type":"NodeCloseParen","Data":")","Properties":{"id":""}}]}]},{"ID":"20240201213571-pho52rc","Type":"NodeParagraph","Properties":{"id":"20240201213571-pho52rc","updated":"20240201213571"},"Children":[{"Type":"NodeText","Data":"其中"},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"CONTAINER_ID"},{"Type":"NodeText","Data":"为容器的 id，"},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"IMAGE"},{"Type":"NodeText","Data":"为镜像名，"},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"COMMAND"},{"Type":"NodeText","Data":"为容器内执行的命令，"},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"CREATED"},{"Type":"NodeText","Data":"为容器的创建时间，"},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"STATUS"},{"Type":"NodeText","Data":"为容器的状态，"},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"PORTS"},{"Type":"NodeText","Data":"为容器内服务监听的端口，"},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"NAMES"},{"Type":"NodeText","Data":"为容器的名称。"}]},{"ID":"20240201213572-7heuxvc","Type":"NodeParagraph","Properties":{"id":"20240201213572-7heuxvc","updated":"20240201213572"},"Children":[{"Type":"NodeText","Data":"通过该方式运行的 tomcat 是不能直接被外部访问的，因为容器具有隔离性，若是想直接通过 8080 端口访问容器内部的 tomcat，则需要对宿主机端口与容器内的端口进行映射："}]},{"ID":"20240201213573-p9qjpn9","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"CodeBlockFenceChar":96,"CodeBlockFenceLen":3,"CodeBlockOpenFence":"YGBg","CodeBlockInfo":"c2hlbGw=","CodeBlockCloseFence":"YGBg","Properties":{"id":"20240201213573-p9qjpn9","updated":"20240201213573"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"c2hlbGw=","Properties":{"id":""}},{"Type":"NodeCodeBlockCode","Data":"docker run -p 8080:8080 tomcat:8.0-jre8\n","Properties":{"id":""}},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}}]},{"ID":"20240201213574-df2coym","Type":"NodeParagraph","Properties":{"id":"20240201213574-df2coym","updated":"20240201213574"},"Children":[{"Type":"NodeText","Data":"解释一下这两个端口的作用("},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"8080:8080"},{"Type":"NodeText","Data":")，第一个 8080 为宿主机端口，第二个 8080 为容器内的端口，外部访问 8080 端口就会通过映射访问容器内的 8080 端口。"}]},{"ID":"20240201213575-k4ewnj9","Type":"NodeParagraph","Properties":{"id":"20240201213575-k4ewnj9","updated":"20240201213575"},"Children":[{"Type":"NodeText","Data":"此时外部就可以访问 Tomcat 了："}]},{"ID":"20240201213576-vjptvid","Type":"NodeParagraph","Properties":{"id":"20240201213576-vjptvid","updated":"20240201213576"},"Children":[{"Type":"NodeImage","Properties":{"id":""},"Children":[{"Type":"NodeBang","Data":"!","Properties":{"id":""}},{"Type":"NodeOpenBracket","Data":"[","Properties":{"id":""}},{"Type":"NodeCloseBracket","Data":"]","Properties":{"id":""}},{"Type":"NodeOpenParen","Data":"(","Properties":{"id":""}},{"Type":"NodeLinkDest","Data":"https://oss.javaguide.cn/github/javaguide/tools/docker/docker-run-tomact-8080.png","Properties":{"id":""}},{"Type":"NodeCloseParen","Data":")","Properties":{"id":""}}]}]},{"ID":"20240201213577-lewxa5q","Type":"NodeParagraph","Properties":{"id":"20240201213577-lewxa5q","updated":"20240201213577"},"Children":[{"Type":"NodeText","Data":"若是这样进行映射："}]},{"ID":"20240201213578-lfcnfbb","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"CodeBlockFenceChar":96,"CodeBlockFenceLen":3,"CodeBlockOpenFence":"YGBg","CodeBlockInfo":"c2hlbGw=","CodeBlockCloseFence":"YGBg","Properties":{"id":"20240201213578-lfcnfbb","updated":"20240201213578"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"c2hlbGw=","Properties":{"id":""}},{"Type":"NodeCodeBlockCode","Data":"docker run -p 8088:8080 tomcat:8.0-jre8\n","Properties":{"id":""}},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}}]},{"ID":"20240201213579-v44hnzx","Type":"NodeParagraph","Properties":{"id":"20240201213579-v44hnzx","updated":"20240201213579"},"Children":[{"Type":"NodeText","Data":"则外部需访问 8088 端口才能访问 tomcat，需要注意的是，每次运行的容器都是相互独立的，所以同时运行多个 tomcat 容器并不会产生端口的冲突。"}]},{"ID":"20240201213580-293e2yt","Type":"NodeParagraph","Properties":{"id":"20240201213580-293e2yt","updated":"20240201213580"},"Children":[{"Type":"NodeText","Data":"容器还能够以后台的方式运行，这样就不会占用终端："}]},{"ID":"20240201213581-8i6tx9z","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"CodeBlockFenceChar":96,"CodeBlockFenceLen":3,"CodeBlockOpenFence":"YGBg","CodeBlockInfo":"c2hlbGw=","CodeBlockCloseFence":"YGBg","Properties":{"id":"20240201213581-8i6tx9z","updated":"20240201213581"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"c2hlbGw=","Properties":{"id":""}},{"Type":"NodeCodeBlockCode","Data":"docker run -d -p 8080:8080 tomcat:8.0-jre8\n","Properties":{"id":""}},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}}]},{"ID":"20240201213582-2k0pxzz","Type":"NodeParagraph","Properties":{"id":"20240201213582-2k0pxzz","updated":"20240201213582"},"Children":[{"Type":"NodeText","Data":"启动容器时默认会给容器一个名称，但这个名称其实是可以设置的，使用指令："}]},{"ID":"20240201213583-2akxxzf","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"CodeBlockFenceChar":96,"CodeBlockFenceLen":3,"CodeBlockOpenFence":"YGBg","CodeBlockInfo":"c2hlbGw=","CodeBlockCloseFence":"YGBg","Properties":{"id":"20240201213583-2akxxzf","updated":"20240201213583"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"c2hlbGw=","Properties":{"id":""}},{"Type":"NodeCodeBlockCode","Data":"docker run -d -p 8080:8080 --name tomcat01 tomcat:8.0-jre8\n","Properties":{"id":""}},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}}]},{"ID":"20240201213584-r5xmg3e","Type":"NodeParagraph","Properties":{"id":"20240201213584-r5xmg3e","updated":"20240201213584"},"Children":[{"Type":"NodeText","Data":"此时的容器名称即为 tomcat01，容器名称必须是唯一的。"}]},{"ID":"20240201213585-0nnw584","Type":"NodeParagraph","Properties":{"id":"20240201213585-0nnw584","updated":"20240201213585"},"Children":[{"Type":"NodeText","Data":"再来引申一下"},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"docker ps"},{"Type":"NodeText","Data":"中的几个指令参数，比如"},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"-a"},{"Type":"NodeText","Data":"："}]},{"ID":"20240201213586-nooqlwz","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"CodeBlockFenceChar":96,"CodeBlockFenceLen":3,"CodeBlockOpenFence":"YGBg","CodeBlockInfo":"c2hlbGw=","CodeBlockCloseFence":"YGBg","Properties":{"id":"20240201213586-nooqlwz","updated":"20240201213586"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"c2hlbGw=","Properties":{"id":""}},{"Type":"NodeCodeBlockCode","Data":"docker ps -a\n","Properties":{"id":""}},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}}]},{"ID":"20240201213587-qu1b6fv","Type":"NodeParagraph","Properties":{"id":"20240201213587-qu1b6fv","updated":"20240201213587"},"Children":[{"Type":"NodeText","Data":"该参数会将运行和非运行的容器全部列举出来。"}]},{"ID":"20240201213588-t18cxaz","Type":"NodeParagraph","Properties":{"id":"20240201213588-t18cxaz","updated":"20240201213588"},"Children":[{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"-q"},{"Type":"NodeText","Data":"参数将只查询正在运行的容器 id："},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"docker ps -q"},{"Type":"NodeText","Data":" 。"}]},{"ID":"20240201213589-d1p3a6z","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"CodeBlockFenceChar":96,"CodeBlockFenceLen":3,"CodeBlockOpenFence":"YGBg","CodeBlockInfo":"c2hlbGw=","CodeBlockCloseFence":"YGBg","Properties":{"id":"20240201213589-d1p3a6z","updated":"20240201213589"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"c2hlbGw=","Properties":{"id":""}},{"Type":"NodeCodeBlockCode","Data":"[root@izrcf5u3j3q8xaz ~]# docker ps -q\nf3aac8ee94a3\n074bf575249b\n1d557472a708\n4421848ba294\n","Properties":{"id":""}},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}}]},{"ID":"20240201213590-0wv12m1","Type":"NodeParagraph","Properties":{"id":"20240201213590-0wv12m1","updated":"20240201213590"},"Children":[{"Type":"NodeText","Data":"若是组合使用，则查询运行和非运行的所有容器 id："},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"docker ps -qa"},{"Type":"NodeText","Data":" 。"}]},{"ID":"20240201213591-r6hqene","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"CodeBlockFenceChar":96,"CodeBlockFenceLen":3,"CodeBlockOpenFence":"YGBg","CodeBlockInfo":"c2hlbGw=","CodeBlockCloseFence":"YGBg","Properties":{"id":"20240201213591-r6hqene","updated":"20240201213591"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"c2hlbGw=","Properties":{"id":""}},{"Type":"NodeCodeBlockCode","Data":"[root@izrcf5u3j3q8xaz ~]# docker ps -aq\nf3aac8ee94a3\n7f7b0e80c841\n074bf575249b\na1e830bddc4c\n1d557472a708\n4421848ba294\nb0440c0a219a\nc2f5d78c5d1a\n5831d1bab2a6\nd5b6c177c151\n","Properties":{"id":""}},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}}]},{"ID":"20240201213592-z5pyxgy","Type":"NodeParagraph","Properties":{"id":"20240201213592-z5pyxgy","updated":"20240201213592"},"Children":[{"Type":"NodeText","Data":"接下来是容器的停止、重启指令，因为非常简单，就不过多介绍了。"}]},{"ID":"20240201213593-ea23gfb","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"CodeBlockFenceChar":96,"CodeBlockFenceLen":3,"CodeBlockOpenFence":"YGBg","CodeBlockInfo":"c2hlbGw=","CodeBlockCloseFence":"YGBg","Properties":{"id":"20240201213593-ea23gfb","updated":"20240201213593"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"c2hlbGw=","Properties":{"id":""}},{"Type":"NodeCodeBlockCode","Data":"docker start c2f5d78c5d1a\n","Properties":{"id":""}},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}}]},{"ID":"20240201213594-bzlrzlb","Type":"NodeParagraph","Properties":{"id":"20240201213594-bzlrzlb","updated":"20240201213594"},"Children":[{"Type":"NodeText","Data":"通过该指令能够将已经停止运行的容器运行起来，可以通过容器的 id 启动，也可以通过容器的名称启动。"}]},{"ID":"20240201213595-1nljmec","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"CodeBlockFenceChar":96,"CodeBlockFenceLen":3,"CodeBlockOpenFence":"YGBg","CodeBlockInfo":"c2hlbGw=","CodeBlockCloseFence":"YGBg","Properties":{"id":"20240201213595-1nljmec","updated":"20240201213595"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"c2hlbGw=","Properties":{"id":""}},{"Type":"NodeCodeBlockCode","Data":"docker restart c2f5d78c5d1a\n","Properties":{"id":""}},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}}]},{"ID":"20240201213596-2wyvkkg","Type":"NodeParagraph","Properties":{"id":"20240201213596-2wyvkkg","updated":"20240201213596"},"Children":[{"Type":"NodeText","Data":"该指令能够重启指定的容器。"}]},{"ID":"20240201213597-3v4dtic","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"CodeBlockFenceChar":96,"CodeBlockFenceLen":3,"CodeBlockOpenFence":"YGBg","CodeBlockInfo":"c2hlbGw=","CodeBlockCloseFence":"YGBg","Properties":{"id":"20240201213597-3v4dtic","updated":"20240201213597"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"c2hlbGw=","Properties":{"id":""}},{"Type":"NodeCodeBlockCode","Data":"docker stop c2f5d78c5d1a\n","Properties":{"id":""}},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}}]},{"ID":"20240201213598-6r9pj47","Type":"NodeParagraph","Properties":{"id":"20240201213598-6r9pj47","updated":"20240201213598"},"Children":[{"Type":"NodeText","Data":"该指令能够停止指定的容器。"}]},{"ID":"20240201213599-f705vzc","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"CodeBlockFenceChar":96,"CodeBlockFenceLen":3,"CodeBlockOpenFence":"YGBg","CodeBlockInfo":"c2hlbGw=","CodeBlockCloseFence":"YGBg","Properties":{"id":"20240201213599-f705vzc","updated":"20240201213599"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"c2hlbGw=","Properties":{"id":""}},{"Type":"NodeCodeBlockCode","Data":"docker kill c2f5d78c5d1a\n","Properties":{"id":""}},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}}]},{"ID":"20240201213600-n7mz6tr","Type":"NodeParagraph","Properties":{"id":"20240201213600-n7mz6tr","updated":"20240201213600"},"Children":[{"Type":"NodeText","Data":"该指令能够直接杀死指定的容器。"}]},{"ID":"20240201213601-euc7pey","Type":"NodeParagraph","Properties":{"id":"20240201213601-euc7pey","updated":"20240201213601"},"Children":[{"Type":"NodeText","Data":"以上指令都能够通过容器的 id 和容器名称两种方式配合使用。"}]},{"ID":"20240201213602-03qflt7","Type":"NodeThematicBreak","Properties":{"id":"20240201213602-03qflt7","updated":"20240201213602"}},{"ID":"20240201213603-7enox5s","Type":"NodeParagraph","Properties":{"id":"20240201213603-7enox5s","updated":"20240201213603"},"Children":[{"Type":"NodeText","Data":"当容器被停止之后，容器虽然不再运行了，但仍然是存在的，若是想删除它，则使用指令："}]},{"ID":"20240201213604-m60zi11","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"CodeBlockFenceChar":96,"CodeBlockFenceLen":3,"CodeBlockOpenFence":"YGBg","CodeBlockInfo":"c2hlbGw=","CodeBlockCloseFence":"YGBg","Properties":{"id":"20240201213604-m60zi11","updated":"20240201213604"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"c2hlbGw=","Properties":{"id":""}},{"Type":"NodeCodeBlockCode","Data":"docker rm d5b6c177c151\n","Properties":{"id":""}},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}}]},{"ID":"20240201213605-amkzbf1","Type":"NodeParagraph","Properties":{"id":"20240201213605-amkzbf1","updated":"20240201213605"},"Children":[{"Type":"NodeText","Data":"需要注意的是容器的 id 无需全部写出来，只需唯一标识即可。"}]},{"ID":"20240201213606-61vi0nb","Type":"NodeParagraph","Properties":{"id":"20240201213606-61vi0nb","updated":"20240201213606"},"Children":[{"Type":"NodeText","Data":"若是想删除正在运行的容器，则需要添加"},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"-f"},{"Type":"NodeText","Data":"参数强制删除："}]},{"ID":"20240201213607-rz1z3z9","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"CodeBlockFenceChar":96,"CodeBlockFenceLen":3,"CodeBlockOpenFence":"YGBg","CodeBlockInfo":"c2hlbGw=","CodeBlockCloseFence":"YGBg","Properties":{"id":"20240201213607-rz1z3z9","updated":"20240201213607"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"c2hlbGw=","Properties":{"id":""}},{"Type":"NodeCodeBlockCode","Data":"docker rm -f d5b6c177c151\n","Properties":{"id":""}},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}}]},{"ID":"20240201213608-9wtl4kp","Type":"NodeParagraph","Properties":{"id":"20240201213608-9wtl4kp","updated":"20240201213608"},"Children":[{"Type":"NodeText","Data":"若是想删除所有容器，则可以使用组合指令："}]},{"ID":"20240201213609-5b5uwdc","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"CodeBlockFenceChar":96,"CodeBlockFenceLen":3,"CodeBlockOpenFence":"YGBg","CodeBlockInfo":"c2hlbGw=","CodeBlockCloseFence":"YGBg","Properties":{"id":"20240201213609-5b5uwdc","updated":"20240201213609"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"c2hlbGw=","Properties":{"id":""}},{"Type":"NodeCodeBlockCode","Data":"docker rm -f $(docker ps -qa)\n","Properties":{"id":""}},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}}]},{"ID":"20240201213610-zplqz6k","Type":"NodeParagraph","Properties":{"id":"20240201213610-zplqz6k","updated":"20240201213610"},"Children":[{"Type":"NodeText","Data":"先通过"},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"docker ps -qa"},{"Type":"NodeText","Data":"查询出所有容器的 id，然后通过"},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"docker rm -f"},{"Type":"NodeText","Data":"进行删除。"}]},{"ID":"20240201213611-1owi2m9","Type":"NodeThematicBreak","Properties":{"id":"20240201213611-1owi2m9","updated":"20240201213611"}},{"ID":"20240201213612-dpsrdur","Type":"NodeParagraph","Properties":{"id":"20240201213612-dpsrdur","updated":"20240201213612"},"Children":[{"Type":"NodeText","Data":"当容器以后台的方式运行时，我们无法知晓容器的运行状态，若此时需要查看容器的运行日志，则使用指令："}]},{"ID":"20240201213613-6fz907j","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"CodeBlockFenceChar":96,"CodeBlockFenceLen":3,"CodeBlockOpenFence":"YGBg","CodeBlockInfo":"c2hlbGw=","CodeBlockCloseFence":"YGBg","Properties":{"id":"20240201213613-6fz907j","updated":"20240201213613"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"c2hlbGw=","Properties":{"id":""}},{"Type":"NodeCodeBlockCode","Data":"docker logs 289cc00dc5ed\n","Properties":{"id":""}},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}}]},{"ID":"20240201213614-c00mako","Type":"NodeParagraph","Properties":{"id":"20240201213614-c00mako","updated":"20240201213614"},"Children":[{"Type":"NodeText","Data":"这样的方式显示的日志并不是实时的，若是想实时显示，需要使用"},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"-f"},{"Type":"NodeText","Data":"参数："}]},{"ID":"20240201213615-ocutm4p","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"CodeBlockFenceChar":96,"CodeBlockFenceLen":3,"CodeBlockOpenFence":"YGBg","CodeBlockInfo":"c2hlbGw=","CodeBlockCloseFence":"YGBg","Properties":{"id":"20240201213615-ocutm4p","updated":"20240201213615"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"c2hlbGw=","Properties":{"id":""}},{"Type":"NodeCodeBlockCode","Data":"docker logs -f 289cc00dc5ed\n","Properties":{"id":""}},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}}]},{"ID":"20240201213616-lbqt58q","Type":"NodeParagraph","Properties":{"id":"20240201213616-lbqt58q","updated":"20240201213616"},"Children":[{"Type":"NodeText","Data":"通过"},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"-t"},{"Type":"NodeText","Data":"参数还能够显示日志的时间戳，通常与"},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"-f"},{"Type":"NodeText","Data":"参数联合使用："}]},{"ID":"20240201213617-4gkwfqm","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"CodeBlockFenceChar":96,"CodeBlockFenceLen":3,"CodeBlockOpenFence":"YGBg","CodeBlockInfo":"c2hlbGw=","CodeBlockCloseFence":"YGBg","Properties":{"id":"20240201213617-4gkwfqm","updated":"20240201213617"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"c2hlbGw=","Properties":{"id":""}},{"Type":"NodeCodeBlockCode","Data":"docker logs -ft 289cc00dc5ed\n","Properties":{"id":""}},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}}]},{"ID":"20240201213618-v5kc4bc","Type":"NodeThematicBreak","Properties":{"id":"20240201213618-v5kc4bc","updated":"20240201213618"}},{"ID":"20240201213619-iby4g7c","Type":"NodeParagraph","Properties":{"id":"20240201213619-iby4g7c","updated":"20240201213619"},"Children":[{"Type":"NodeText","Data":"查看容器内运行了哪些进程，可以使用指令："}]},{"ID":"20240201213620-xox3ym4","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"CodeBlockFenceChar":96,"CodeBlockFenceLen":3,"CodeBlockOpenFence":"YGBg","CodeBlockInfo":"c2hlbGw=","CodeBlockCloseFence":"YGBg","Properties":{"id":"20240201213620-xox3ym4","updated":"20240201213620"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"c2hlbGw=","Properties":{"id":""}},{"Type":"NodeCodeBlockCode","Data":"docker top 289cc00dc5ed\n","Properties":{"id":""}},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}}]},{"ID":"20240201213621-li88hzk","Type":"NodeParagraph","Properties":{"id":"20240201213621-li88hzk","updated":"20240201213621"},"Children":[{"Type":"NodeText","Data":"若是想与容器进行交互，则使用指令："}]},{"ID":"20240201213622-bo3olmi","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"CodeBlockFenceChar":96,"CodeBlockFenceLen":3,"CodeBlockOpenFence":"YGBg","CodeBlockInfo":"c2hlbGw=","CodeBlockCloseFence":"YGBg","Properties":{"id":"20240201213622-bo3olmi","updated":"20240201213622"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"c2hlbGw=","Properties":{"id":""}},{"Type":"NodeCodeBlockCode","Data":"docker exec -it 289cc00dc5ed bash\n","Properties":{"id":""}},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}}]},{"ID":"20240201213623-4rh4aes","Type":"NodeParagraph","Properties":{"id":"20240201213623-4rh4aes","updated":"20240201213623"},"Children":[{"Type":"NodeText","Data":"此时终端将会进入容器内部，执行的指令都将在容器中生效，在容器内只能执行一些比较简单的指令，如：ls、cd 等，若是想退出容器终端，重新回到 CentOS 中，则执行"},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"exit"},{"Type":"NodeText","Data":"即可。"}]},{"ID":"20240201213624-3gxv2nj","Type":"NodeParagraph","Properties":{"id":"20240201213624-3gxv2nj","updated":"20240201213624"},"Children":[{"Type":"NodeText","Data":"现在我们已经能够进入容器终端执行相关操作了，那么该如何向 tomcat 容器中部署一个项目呢？"}]},{"ID":"20240201213625-2acb3hw","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"CodeBlockFenceChar":96,"CodeBlockFenceLen":3,"CodeBlockOpenFence":"YGBg","CodeBlockInfo":"c2hlbGw=","CodeBlockCloseFence":"YGBg","Properties":{"id":"20240201213625-2acb3hw","updated":"20240201213625"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"c2hlbGw=","Properties":{"id":""}},{"Type":"NodeCodeBlockCode","Data":"docker cp ./test.html 289cc00dc5ed:/usr/local/tomcat/webapps\n","Properties":{"id":""}},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}}]},{"ID":"20240201213626-ergupqc","Type":"NodeParagraph","Properties":{"id":"20240201213626-ergupqc","updated":"20240201213626"},"Children":[{"Type":"NodeText","Data":"通过"},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"docker cp"},{"Type":"NodeText","Data":"指令能够将文件从 CentOS 复制到容器中，"},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"./test.html"},{"Type":"NodeText","Data":"为 CentOS 中的资源路径，"},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"289cc00dc5ed"},{"Type":"NodeText","Data":"为容器 id，"},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"/usr/local/tomcat/webapps"},{"Type":"NodeText","Data":"为容器的资源路径，此时"},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"test.html"},{"Type":"NodeText","Data":"文件将会被复制到该路径下。"}]},{"ID":"20240201213627-hy5w6jx","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"CodeBlockFenceChar":96,"CodeBlockFenceLen":3,"CodeBlockOpenFence":"YGBg","CodeBlockInfo":"c2hlbGw=","CodeBlockCloseFence":"YGBg","Properties":{"id":"20240201213627-hy5w6jx","updated":"20240201213627"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"c2hlbGw=","Properties":{"id":""}},{"Type":"NodeCodeBlockCode","Data":"[root@izrcf5u3j3q8xaz ~]# docker exec -it 289cc00dc5ed bash\nroot@289cc00dc5ed:/usr/local/tomcat# cd webapps\nroot@289cc00dc5ed:/usr/local/tomcat/webapps# ls\ntest.html\nroot@289cc00dc5ed:/usr/local/tomcat/webapps#\n","Properties":{"id":""}},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}}]},{"ID":"20240201213628-ndueema","Type":"NodeParagraph","Properties":{"id":"20240201213628-ndueema","updated":"20240201213628"},"Children":[{"Type":"NodeText","Data":"若是想将容器内的文件复制到 CentOS 中，则反过来写即可："}]},{"ID":"20240201213629-vc8j6hm","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"CodeBlockFenceChar":96,"CodeBlockFenceLen":3,"CodeBlockOpenFence":"YGBg","CodeBlockInfo":"c2hlbGw=","CodeBlockCloseFence":"YGBg","Properties":{"id":"20240201213629-vc8j6hm","updated":"20240201213629"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"c2hlbGw=","Properties":{"id":""}},{"Type":"NodeCodeBlockCode","Data":"docker cp 289cc00dc5ed:/usr/local/tomcat/webapps/test.html ./\n","Properties":{"id":""}},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}}]},{"ID":"20240201213630-ibqsj08","Type":"NodeParagraph","Properties":{"id":"20240201213630-ibqsj08","updated":"20240201213630"},"Children":[{"Type":"NodeText","Data":"所以现在若是想要部署项目，则先将项目上传到 CentOS，然后将项目从 CentOS 复制到容器内，此时启动容器即可。"}]},{"ID":"20240201213631-2z64y6k","Type":"NodeThematicBreak","Properties":{"id":"20240201213631-2z64y6k","updated":"20240201213631"}},{"ID":"20240201213632-68zyvl1","Type":"NodeParagraph","Properties":{"id":"20240201213632-68zyvl1","updated":"20240201213632"},"Children":[{"Type":"NodeText","Data":"虽然使用 Docker 启动软件环境非常简单，但同时也面临着一个问题，我们无法知晓容器内部具体的细节，比如监听的端口、绑定的 ip 地址等等，好在这些 Docker 都帮我们想到了，只需使用指令："}]},{"ID":"20240201213633-93hnw5z","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"CodeBlockFenceChar":96,"CodeBlockFenceLen":3,"CodeBlockOpenFence":"YGBg","CodeBlockInfo":"c2hlbGw=","CodeBlockCloseFence":"YGBg","Properties":{"id":"20240201213633-93hnw5z","updated":"20240201213633"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"c2hlbGw=","Properties":{"id":""}},{"Type":"NodeCodeBlockCode","Data":"docker inspect 923c969b0d91\n","Properties":{"id":""}},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}}]},{"ID":"20240201213634-ajtqfbd","Type":"NodeParagraph","Properties":{"id":"20240201213634-ajtqfbd","updated":"20240201213634"},"Children":[{"Type":"NodeImage","Properties":{"id":""},"Children":[{"Type":"NodeBang","Data":"!","Properties":{"id":""}},{"Type":"NodeOpenBracket","Data":"[","Properties":{"id":""}},{"Type":"NodeCloseBracket","Data":"]","Properties":{"id":""}},{"Type":"NodeOpenParen","Data":"(","Properties":{"id":""}},{"Type":"NodeLinkDest","Data":"https://oss.javaguide.cn/github/javaguide/tools/docker/docker-inspect-terminal.png","Properties":{"id":""}},{"Type":"NodeCloseParen","Data":")","Properties":{"id":""}}]}]},{"ID":"20240201213635-l3lbptb","Type":"NodeHeading","HeadingLevel":2,"Properties":{"id":"20240201213635-l3lbptb","updated":"20240201213635"},"Children":[{"Type":"NodeHeadingC8hMarker","Data":"## ","Properties":{"id":""}},{"Type":"NodeText","Data":"Docker 数据卷"}]},{"ID":"20240201213636-gs0c35i","Type":"NodeParagraph","Properties":{"id":"20240201213636-gs0c35i","updated":"20240201213636"},"Children":[{"Type":"NodeText","Data":"学习了容器的相关指令之后，我们来了解一下 Docker 中的数据卷，它能够实现宿主机与容器之间的文件共享，它的好处在于我们对宿主机的文件进行修改将直接影响容器，而无需再将宿主机的文件再复制到容器中。"}]},{"ID":"20240201213637-njutjjv","Type":"NodeParagraph","Properties":{"id":"20240201213637-njutjjv","updated":"20240201213637"},"Children":[{"Type":"NodeText","Data":"现在若是想将宿主机中"},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"/opt/apps"},{"Type":"NodeText","Data":"目录与容器中"},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"webapps"},{"Type":"NodeText","Data":"目录做一个数据卷，则应该这样编写指令："}]},{"ID":"20240201213638-ls4nia7","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"CodeBlockFenceChar":96,"CodeBlockFenceLen":3,"CodeBlockOpenFence":"YGBg","CodeBlockInfo":"c2hlbGw=","CodeBlockCloseFence":"YGBg","Properties":{"id":"20240201213638-ls4nia7","updated":"20240201213638"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"c2hlbGw=","Properties":{"id":""}},{"Type":"NodeCodeBlockCode","Data":"docker run -d -p 8080:8080 --name tomcat01 -v /opt/apps:/usr/local/tomcat/webapps tomcat:8.0-jre8\n","Properties":{"id":""}},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}}]},{"ID":"20240201213639-6yvb8zc","Type":"NodeParagraph","Properties":{"id":"20240201213639-6yvb8zc","updated":"20240201213639"},"Children":[{"Type":"NodeText","Data":"然而此时访问 tomcat 会发现无法访问："}]},{"ID":"20240201213640-7th4jw0","Type":"NodeParagraph","Properties":{"id":"20240201213640-7th4jw0","updated":"20240201213640"},"Children":[{"Type":"NodeImage","Properties":{"id":""},"Children":[{"Type":"NodeBang","Data":"!","Properties":{"id":""}},{"Type":"NodeOpenBracket","Data":"[","Properties":{"id":""}},{"Type":"NodeCloseBracket","Data":"]","Properties":{"id":""}},{"Type":"NodeOpenParen","Data":"(","Properties":{"id":""}},{"Type":"NodeLinkDest","Data":"https://oss.javaguide.cn/github/javaguide/tools/docker/docker-data-volume-webapp-8080.png","Properties":{"id":""}},{"Type":"NodeCloseParen","Data":")","Properties":{"id":""}}]}]},{"ID":"20240201213641-y2vmp01","Type":"NodeParagraph","Properties":{"id":"20240201213641-y2vmp01","updated":"20240201213641"},"Children":[{"Type":"NodeText","Data":"这就说明我们的数据卷设置成功了，Docker 会将容器内的"},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"webapps"},{"Type":"NodeText","Data":"目录与"},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"/opt/apps"},{"Type":"NodeText","Data":"目录进行同步，而此时"},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"/opt/apps"},{"Type":"NodeText","Data":"目录是空的，导致"},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"webapps"},{"Type":"NodeText","Data":"目录也会变成空目录，所以就访问不到了。"}]},{"ID":"20240201213642-vehlglu","Type":"NodeParagraph","Properties":{"id":"20240201213642-vehlglu","updated":"20240201213642"},"Children":[{"Type":"NodeText","Data":"此时我们只需向"},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"/opt/apps"},{"Type":"NodeText","Data":"目录下添加文件，就会使得"},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"webapps"},{"Type":"NodeText","Data":"目录也会拥有相同的文件，达到文件共享，测试一下："}]},{"ID":"20240201213643-8kiluh5","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"CodeBlockFenceChar":96,"CodeBlockFenceLen":3,"CodeBlockOpenFence":"YGBg","CodeBlockInfo":"c2hlbGw=","CodeBlockCloseFence":"YGBg","Properties":{"id":"20240201213643-8kiluh5","updated":"20240201213643"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"c2hlbGw=","Properties":{"id":""}},{"Type":"NodeCodeBlockCode","Data":"[root@centos-7 opt]# cd apps/\n[root@centos-7 apps]# vim test.html\n[root@centos-7 apps]# ls\ntest.html\n[root@centos-7 apps]# cat test.html\n\u003ch1\u003eThis is a test html!\u003c/h1\u003e\n","Properties":{"id":""}},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}}]},{"ID":"20240201213644-6m2c9z4","Type":"NodeParagraph","Properties":{"id":"20240201213644-6m2c9z4","updated":"20240201213644"},"Children":[{"Type":"NodeText","Data":"在"},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"/opt/apps"},{"Type":"NodeText","Data":"目录下创建了一个 "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"test.html"},{"Type":"NodeText","Data":" 文件，那么容器内的"},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"webapps"},{"Type":"NodeText","Data":"目录是否会有该文件呢？进入容器的终端："}]},{"ID":"20240201213645-yurcohf","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"CodeBlockFenceChar":96,"CodeBlockFenceLen":3,"CodeBlockOpenFence":"YGBg","CodeBlockInfo":"c2hlbGw=","CodeBlockCloseFence":"YGBg","Properties":{"id":"20240201213645-yurcohf","updated":"20240201213645"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"c2hlbGw=","Properties":{"id":""}},{"Type":"NodeCodeBlockCode","Data":"[root@centos-7 apps]# docker exec -it tomcat01 bash\nroot@115155c08687:/usr/local/tomcat# cd webapps/\nroot@115155c08687:/usr/local/tomcat/webapps# ls\ntest.html\n","Properties":{"id":""}},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}}]},{"ID":"20240201213646-lt3kqqn","Type":"NodeParagraph","Properties":{"id":"20240201213646-lt3kqqn","updated":"20240201213646"},"Children":[{"Type":"NodeText","Data":"容器内确实已经有了该文件，那接下来我们编写一个简单的 Web 应用："}]},{"ID":"20240201213647-1lczv89","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"CodeBlockFenceChar":96,"CodeBlockFenceLen":3,"CodeBlockOpenFence":"YGBg","CodeBlockInfo":"amF2YQ==","CodeBlockCloseFence":"YGBg","Properties":{"id":"20240201213647-1lczv89","updated":"20240201213647"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"amF2YQ==","Properties":{"id":""}},{"Type":"NodeCodeBlockCode","Data":"public class HelloServlet extends HttpServlet {\n\n    @Override\n    protected void doGet(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException {\n        resp.getWriter().println(\"Hello World!\");\n    }\n\n    @Override\n    protected void doPost(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException {\n        doGet(req,resp);\n    }\n}\n","Properties":{"id":""}},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}}]},{"ID":"20240201213648-kfzxa4z","Type":"NodeParagraph","Properties":{"id":"20240201213648-kfzxa4z","updated":"20240201213648"},"Children":[{"Type":"NodeText","Data":"这是一个非常简单的 Servlet，我们将其打包上传到"},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"/opt/apps"},{"Type":"NodeText","Data":"中，那么容器内肯定就会同步到该文件，此时进行访问："}]},{"ID":"20240201213649-w6kyig8","Type":"NodeParagraph","Properties":{"id":"20240201213649-w6kyig8","updated":"20240201213649"},"Children":[{"Type":"NodeImage","Properties":{"id":""},"Children":[{"Type":"NodeBang","Data":"!","Properties":{"id":""}},{"Type":"NodeOpenBracket","Data":"[","Properties":{"id":""}},{"Type":"NodeCloseBracket","Data":"]","Properties":{"id":""}},{"Type":"NodeOpenParen","Data":"(","Properties":{"id":""}},{"Type":"NodeLinkDest","Data":"https://oss.javaguide.cn/github/javaguide/tools/docker/docker-data-volume-webapp-8080-hello-world.png","Properties":{"id":""}},{"Type":"NodeCloseParen","Data":")","Properties":{"id":""}}]}]},{"ID":"20240201213650-dfmoism","Type":"NodeParagraph","Properties":{"id":"20240201213650-dfmoism","updated":"20240201213650"},"Children":[{"Type":"NodeText","Data":"这种方式设置的数据卷称为自定义数据卷，因为数据卷的目录是由我们自己设置的，Docker 还为我们提供了另外一种设置数据卷的方式："}]},{"ID":"20240201213651-ryppc89","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"CodeBlockFenceChar":96,"CodeBlockFenceLen":3,"CodeBlockOpenFence":"YGBg","CodeBlockInfo":"c2hlbGw=","CodeBlockCloseFence":"YGBg","Properties":{"id":"20240201213651-ryppc89","updated":"20240201213651"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"c2hlbGw=","Properties":{"id":""}},{"Type":"NodeCodeBlockCode","Data":"docker run -d -p 8080:8080 --name tomcat01 -v aa:/usr/local/tomcat/webapps tomcat:8.0-jre8\n","Properties":{"id":""}},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}}]},{"ID":"20240201213652-fn38blc","Type":"NodeParagraph","Properties":{"id":"20240201213652-fn38blc","updated":"20240201213652"},"Children":[{"Type":"NodeText","Data":"此时的"},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"aa"},{"Type":"NodeText","Data":"并不是数据卷的目录，而是数据卷的别名，Docker 会为我们自动创建一个名为"},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"aa"},{"Type":"NodeText","Data":"的数据卷，并且会将容器内"},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"webapps"},{"Type":"NodeText","Data":"目录下的所有内容复制到数据卷中，该数据卷的位置在"},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"/var/lib/docker/volumes"},{"Type":"NodeText","Data":"目录下："}]},{"ID":"20240201213653-3e9dj57","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"CodeBlockFenceChar":96,"CodeBlockFenceLen":3,"CodeBlockOpenFence":"YGBg","CodeBlockInfo":"c2hlbGw=","CodeBlockCloseFence":"YGBg","Properties":{"id":"20240201213653-3e9dj57","updated":"20240201213653"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"c2hlbGw=","Properties":{"id":""}},{"Type":"NodeCodeBlockCode","Data":"[root@centos-7 volumes]# pwd\n/var/lib/docker/volumes\n[root@centos-7 volumes]# cd aa/\n[root@centos-7 aa]# ls\n_data\n[root@centos-7 aa]# cd _data/\n[root@centos-7 _data]# ls\ndocs  examples  host-manager  manager  ROOT\n","Properties":{"id":""}},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}}]},{"ID":"20240201213654-8x77gpu","Type":"NodeParagraph","Properties":{"id":"20240201213654-8x77gpu","updated":"20240201213654"},"Children":[{"Type":"NodeText","Data":"此时我们只需修改该目录的内容就能能够影响到容器。"}]},{"ID":"20240201213655-3lgztrr","Type":"NodeThematicBreak","Properties":{"id":"20240201213655-3lgztrr","updated":"20240201213655"}},{"ID":"20240201213656-55qiw78","Type":"NodeParagraph","Properties":{"id":"20240201213656-55qiw78","updated":"20240201213656"},"Children":[{"Type":"NodeText","Data":"最后再介绍几个容器和镜像相关的指令："}]},{"ID":"20240201213657-8nfrs6j","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"CodeBlockFenceChar":96,"CodeBlockFenceLen":3,"CodeBlockOpenFence":"YGBg","CodeBlockInfo":"c2hlbGw=","CodeBlockCloseFence":"YGBg","Properties":{"id":"20240201213657-8nfrs6j","updated":"20240201213657"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"c2hlbGw=","Properties":{"id":""}},{"Type":"NodeCodeBlockCode","Data":"docker commit -m \"描述信息\" -a \"镜像作者\" tomcat01 my_tomcat:1.0\n","Properties":{"id":""}},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}}]},{"ID":"20240201213658-cmq1j5k","Type":"NodeParagraph","Properties":{"id":"20240201213658-cmq1j5k","updated":"20240201213658"},"Children":[{"Type":"NodeText","Data":"该指令能够将容器打包成一个镜像，此时查询镜像："}]},{"ID":"20240201213659-h90o0h3","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"CodeBlockFenceChar":96,"CodeBlockFenceLen":3,"CodeBlockOpenFence":"YGBg","CodeBlockInfo":"c2hlbGw=","CodeBlockCloseFence":"YGBg","Properties":{"id":"20240201213659-h90o0h3","updated":"20240201213659"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"c2hlbGw=","Properties":{"id":""}},{"Type":"NodeCodeBlockCode","Data":"[root@centos-7 _data]# docker images\nREPOSITORY          TAG                 IMAGE ID            CREATED             SIZE\nmy_tomcat           1.0                 79ab047fade5        2 seconds ago       463MB\ntomcat              8                   a041be4a5ba5        2 weeks ago         533MB\nMySQL               latest              db2b37ec6181        2 months ago        545MB\n","Properties":{"id":""}},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}}]},{"ID":"20240201213660-18n1h35","Type":"NodeParagraph","Properties":{"id":"20240201213660-18n1h35","updated":"20240201213660"},"Children":[{"Type":"NodeText","Data":"若是想将镜像备份出来，则可以使用指令："}]},{"ID":"20240201213661-37idywc","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"CodeBlockFenceChar":96,"CodeBlockFenceLen":3,"CodeBlockOpenFence":"YGBg","CodeBlockInfo":"c2hlbGw=","CodeBlockCloseFence":"YGBg","Properties":{"id":"20240201213661-37idywc","updated":"20240201213661"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"c2hlbGw=","Properties":{"id":""}},{"Type":"NodeCodeBlockCode","Data":"docker save my_tomcat:1.0 -o my-tomcat-1.0.tar\n","Properties":{"id":""}},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}}]},{"ID":"20240201213662-otvtp0i","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"CodeBlockFenceChar":96,"CodeBlockFenceLen":3,"CodeBlockOpenFence":"YGBg","CodeBlockInfo":"c2hlbGw=","CodeBlockCloseFence":"YGBg","Properties":{"id":"20240201213662-otvtp0i","updated":"20240201213662"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"c2hlbGw=","Properties":{"id":""}},{"Type":"NodeCodeBlockCode","Data":"[root@centos-7 ~]# docker save my_tomcat:1.0 -o my-tomcat-1.0.tar\n[root@centos-7 ~]# ls\nanaconda-ks.cfg  initial-setup-ks.cfg  公共  视频  文档  音乐\nget-docker.sh    my-tomcat-1.0.tar     模板  图片  下载  桌面\n","Properties":{"id":""}},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}}]},{"ID":"20240201213663-ifi4lfn","Type":"NodeParagraph","Properties":{"id":"20240201213663-ifi4lfn","updated":"20240201213663"},"Children":[{"Type":"NodeText","Data":"若是拥有"},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":".tar"},{"Type":"NodeText","Data":"格式的镜像，该如何将其加载到 Docker 中呢？执行指令："}]},{"ID":"20240201213664-pysm09i","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"CodeBlockFenceChar":96,"CodeBlockFenceLen":3,"CodeBlockOpenFence":"YGBg","CodeBlockInfo":"c2hlbGw=","CodeBlockCloseFence":"YGBg","Properties":{"id":"20240201213664-pysm09i","updated":"20240201213664"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"c2hlbGw=","Properties":{"id":""}},{"Type":"NodeCodeBlockCode","Data":"docker load -i my-tomcat-1.0.tar\n","Properties":{"id":""}},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}}]},{"ID":"20240201213665-h41wrs7","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"CodeBlockFenceChar":96,"CodeBlockFenceLen":3,"CodeBlockOpenFence":"YGBg","CodeBlockInfo":"c2hlbGw=","CodeBlockCloseFence":"YGBg","Properties":{"id":"20240201213665-h41wrs7","updated":"20240201213665"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"c2hlbGw=","Properties":{"id":""}},{"Type":"NodeCodeBlockCode","Data":"root@centos-7 ~]# docker load -i my-tomcat-1.0.tar\nb28ef0b6fef8: Loading layer [==================================================\u003e]  105.5MB/105.5MB\n0b703c74a09c: Loading layer [==================================================\u003e]  23.99MB/23.99MB\n......\nLoaded image: my_tomcat:1.0\n[root@centos-7 ~]# docker images\nREPOSITORY          TAG                 IMAGE ID            CREATED             SIZE\nmy_tomcat           1.0                 79ab047fade5        7 minutes ago       463MB\n","Properties":{"id":""}},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}}]},{"ID":"20240201213666-smy2tsc","Type":"NodeHTMLBlock","Data":"\u003cdiv\u003e\n\u003c!-- @include: @article-footer.snippet.md --\u003e\n\u003c/div\u003e","HtmlBlockType":2,"Properties":{"id":"20240201213666-smy2tsc","updated":"20240201213666"}}]}
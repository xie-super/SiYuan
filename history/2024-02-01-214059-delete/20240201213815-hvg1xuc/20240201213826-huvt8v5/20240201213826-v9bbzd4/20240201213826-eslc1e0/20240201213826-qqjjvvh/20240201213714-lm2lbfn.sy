{"ID":"20240201213714-lm2lbfn","Spec":"1","Type":"NodeDocument","Properties":{"id":"20240201213714-lm2lbfn","title":"http1.0-vs-http1.1","updated":"20240201213714"},"Children":[{"ID":"20240201213715-fmtpuxy","Type":"NodeThematicBreak","Properties":{"id":"20240201213715-fmtpuxy","updated":"20240201213715"}},{"ID":"20240201213716-w7end9r","Type":"NodeParagraph","Properties":{"id":"20240201213716-w7end9r","updated":"20240201213716"},"Children":[{"Type":"NodeText","Data":"title: HTTP 1.0 vs HTTP 1.1（应用层）"},{"Type":"NodeSoftBreak","Data":"\n","Properties":{"id":""}},{"Type":"NodeText","Data":"category: 计算机基础"},{"Type":"NodeSoftBreak","Data":"\n","Properties":{"id":""}},{"Type":"NodeText","Data":"tag:"}]},{"ID":"20240201213717-9ian1ba","Type":"NodeList","ListData":{"Tight":true,"BulletChar":45,"Padding":2,"MarkerOffset":2,"Marker":"LQ==","Num":-1},"Properties":{"id":"20240201213717-9ian1ba","updated":"20240201213717"},"Children":[{"ID":"20240201213718-xmms39v","Type":"NodeListItem","Data":"-","ListData":{"Tight":true,"BulletChar":45,"Padding":2,"MarkerOffset":2,"Marker":"LQ==","Num":-1},"Properties":{"id":"20240201213718-xmms39v","updated":"20240201213718"},"Children":[{"ID":"20240201213719-2gn0qdd","Type":"NodeParagraph","Properties":{"id":"20240201213719-2gn0qdd","updated":"20240201213719"},"Children":[{"Type":"NodeText","Data":"计算机网络"}]}]}]},{"ID":"20240201213720-5g3vajd","Type":"NodeThematicBreak","Properties":{"id":"20240201213720-5g3vajd","updated":"20240201213720"}},{"ID":"20240201213721-5vu2sqc","Type":"NodeParagraph","Properties":{"id":"20240201213721-5vu2sqc","updated":"20240201213721"},"Children":[{"Type":"NodeText","Data":"这篇文章会从下面几个维度来对比 HTTP 1.0 和 HTTP 1.1："}]},{"ID":"20240201213722-vlb0fst","Type":"NodeList","ListData":{"Tight":true,"BulletChar":45,"Padding":2,"Marker":"LQ==","Num":-1},"Properties":{"id":"20240201213722-vlb0fst","updated":"20240201213722"},"Children":[{"ID":"20240201213723-fzxzqin","Type":"NodeListItem","Data":"-","ListData":{"Tight":true,"BulletChar":45,"Padding":2,"Marker":"LQ==","Num":-1},"Properties":{"id":"20240201213723-fzxzqin","updated":"20240201213723"},"Children":[{"ID":"20240201213724-efr6qjx","Type":"NodeParagraph","Properties":{"id":"20240201213724-efr6qjx","updated":"20240201213724"},"Children":[{"Type":"NodeText","Data":"响应状态码"}]}]},{"ID":"20240201213725-gvmxfos","Type":"NodeListItem","Data":"-","ListData":{"Tight":true,"BulletChar":45,"Padding":2,"Marker":"LQ==","Num":-1},"Properties":{"id":"20240201213725-gvmxfos","updated":"20240201213725"},"Children":[{"ID":"20240201213726-w5gku6l","Type":"NodeParagraph","Properties":{"id":"20240201213726-w5gku6l","updated":"20240201213726"},"Children":[{"Type":"NodeText","Data":"缓存处理"}]}]},{"ID":"20240201213727-m7wr3bw","Type":"NodeListItem","Data":"-","ListData":{"Tight":true,"BulletChar":45,"Padding":2,"Marker":"LQ==","Num":-1},"Properties":{"id":"20240201213727-m7wr3bw","updated":"20240201213727"},"Children":[{"ID":"20240201213728-gf19amn","Type":"NodeParagraph","Properties":{"id":"20240201213728-gf19amn","updated":"20240201213728"},"Children":[{"Type":"NodeText","Data":"连接方式"}]}]},{"ID":"20240201213729-tmrmuu8","Type":"NodeListItem","Data":"-","ListData":{"Tight":true,"BulletChar":45,"Padding":2,"Marker":"LQ==","Num":-1},"Properties":{"id":"20240201213729-tmrmuu8","updated":"20240201213729"},"Children":[{"ID":"20240201213730-3rv7gcx","Type":"NodeParagraph","Properties":{"id":"20240201213730-3rv7gcx","updated":"20240201213730"},"Children":[{"Type":"NodeText","Data":"Host 头处理"}]}]},{"ID":"20240201213731-a3iyqtl","Type":"NodeListItem","Data":"-","ListData":{"Tight":true,"BulletChar":45,"Padding":2,"Marker":"LQ==","Num":-1},"Properties":{"id":"20240201213731-a3iyqtl","updated":"20240201213731"},"Children":[{"ID":"20240201213732-k4qrtso","Type":"NodeParagraph","Properties":{"id":"20240201213732-k4qrtso","updated":"20240201213732"},"Children":[{"Type":"NodeText","Data":"带宽优化"}]}]}]},{"ID":"20240201213733-5ihn60l","Type":"NodeHeading","HeadingLevel":2,"Properties":{"id":"20240201213733-5ihn60l","updated":"20240201213733"},"Children":[{"Type":"NodeHeadingC8hMarker","Data":"## ","Properties":{"id":""}},{"Type":"NodeText","Data":"响应状态码"}]},{"ID":"20240201213734-3ed08ve","Type":"NodeParagraph","Properties":{"id":"20240201213734-3ed08ve","updated":"20240201213734"},"Children":[{"Type":"NodeText","Data":"HTTP/1.0 仅定义了 16 种状态码。HTTP/1.1 中新加入了大量的状态码，光是错误响应状态码就新增了 24 种。比如说，"},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"100 (Continue)"},{"Type":"NodeText","Data":"——在请求大资源前的预热请求，"},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"206 (Partial Content)"},{"Type":"NodeText","Data":"——范围请求的标识码，"},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"409 (Conflict)"},{"Type":"NodeText","Data":"——请求与当前资源的规定冲突，"},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"410 (Gone)"},{"Type":"NodeText","Data":"——资源已被永久转移，而且没有任何已知的转发地址。"}]},{"ID":"20240201213735-qy4f5l7","Type":"NodeHeading","HeadingLevel":2,"Properties":{"id":"20240201213735-qy4f5l7","updated":"20240201213735"},"Children":[{"Type":"NodeHeadingC8hMarker","Data":"## ","Properties":{"id":""}},{"Type":"NodeText","Data":"缓存处理"}]},{"ID":"20240201213736-c2lnveo","Type":"NodeParagraph","Properties":{"id":"20240201213736-c2lnveo","updated":"20240201213736"},"Children":[{"Type":"NodeText","Data":"缓存技术通过避免用户与源服务器的频繁交互，节约了大量的网络带宽，降低了用户接收信息的延迟。"}]},{"ID":"20240201213737-7b2onrs","Type":"NodeHeading","HeadingLevel":3,"Properties":{"id":"20240201213737-7b2onrs","updated":"20240201213737"},"Children":[{"Type":"NodeHeadingC8hMarker","Data":"### ","Properties":{"id":""}},{"Type":"NodeText","Data":"HTTP/1.0"}]},{"ID":"20240201213738-kf54vnb","Type":"NodeParagraph","Properties":{"id":"20240201213738-kf54vnb","updated":"20240201213738"},"Children":[{"Type":"NodeText","Data":"HTTP/1.0 提供的缓存机制非常简单。服务器端使用"},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"Expires"},{"Type":"NodeText","Data":"标签来标志（时间）一个响应体，在"},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"Expires"},{"Type":"NodeText","Data":"标志时间内的请求，都会获得该响应体缓存。服务器端在初次返回给客户端的响应体中，有一个"},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"Last-Modified"},{"Type":"NodeText","Data":"标签，该标签标记了被请求资源在服务器端的最后一次修改。在请求头中，使用"},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"If-Modified-Since"},{"Type":"NodeText","Data":"标签，该标签标志一个时间，意为客户端向服务器进行问询：“该时间之后，我要请求的资源是否有被修改过？”通常情况下，请求头中的"},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"If-Modified-Since"},{"Type":"NodeText","Data":"的值即为上一次获得该资源时，响应体中的"},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"Last-Modified"},{"Type":"NodeText","Data":"的值。"}]},{"ID":"20240201213739-scy829f","Type":"NodeParagraph","Properties":{"id":"20240201213739-scy829f","updated":"20240201213739"},"Children":[{"Type":"NodeText","Data":"如果服务器接收到了请求头，并判断"},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"If-Modified-Since"},{"Type":"NodeText","Data":"时间后，资源确实没有修改过，则返回给客户端一个"},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"304 not modified"},{"Type":"NodeText","Data":"响应头，表示”缓冲可用，你从浏览器里拿吧！”。"}]},{"ID":"20240201213740-5n7rgxb","Type":"NodeParagraph","Properties":{"id":"20240201213740-5n7rgxb","updated":"20240201213740"},"Children":[{"Type":"NodeText","Data":"如果服务器判断"},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"If-Modified-Since"},{"Type":"NodeText","Data":"时间后，资源被修改过，则返回给客户端一个"},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"200 OK"},{"Type":"NodeText","Data":"的响应体，并附带全新的资源内容，表示”你要的我已经改过的，给你一份新的”。"}]},{"ID":"20240201213741-ufceitk","Type":"NodeParagraph","Properties":{"id":"20240201213741-ufceitk","updated":"20240201213741"},"Children":[{"Type":"NodeImage","Properties":{"id":""},"Children":[{"Type":"NodeBang","Data":"!","Properties":{"id":""}},{"Type":"NodeOpenBracket","Data":"[","Properties":{"id":""}},{"Type":"NodeLinkText","Data":"HTTP1.0cache1","Properties":{"id":""}},{"Type":"NodeCloseBracket","Data":"]","Properties":{"id":""}},{"Type":"NodeOpenParen","Data":"(","Properties":{"id":""}},{"Type":"NodeLinkDest","Data":"assets/HTTP1.0cache1-20240201213826-t0whn1w.png","Properties":{"id":""}},{"Type":"NodeCloseParen","Data":")","Properties":{"id":""}}]}]},{"ID":"20240201213742-e68hsge","Type":"NodeParagraph","Properties":{"id":"20240201213742-e68hsge","updated":"20240201213742"},"Children":[{"Type":"NodeImage","Properties":{"id":""},"Children":[{"Type":"NodeBang","Data":"!","Properties":{"id":""}},{"Type":"NodeOpenBracket","Data":"[","Properties":{"id":""}},{"Type":"NodeLinkText","Data":"HTTP1.0cache2","Properties":{"id":""}},{"Type":"NodeCloseBracket","Data":"]","Properties":{"id":""}},{"Type":"NodeOpenParen","Data":"(","Properties":{"id":""}},{"Type":"NodeLinkDest","Data":"assets/HTTP1.0cache2-20240201213826-6pjrubh.png","Properties":{"id":""}},{"Type":"NodeCloseParen","Data":")","Properties":{"id":""}}]}]},{"ID":"20240201213743-iq58ivw","Type":"NodeHeading","HeadingLevel":3,"Properties":{"id":"20240201213743-iq58ivw","updated":"20240201213743"},"Children":[{"Type":"NodeHeadingC8hMarker","Data":"### ","Properties":{"id":""}},{"Type":"NodeText","Data":"HTTP/1.1"}]},{"ID":"20240201213744-xvovqcg","Type":"NodeParagraph","Properties":{"id":"20240201213744-xvovqcg","updated":"20240201213744"},"Children":[{"Type":"NodeText","Data":"HTTP/1.1 的缓存机制在 HTTP/1.0 的基础上，大大增加了灵活性和扩展性。基本工作原理和 HTTP/1.0 保持不变，而是增加了更多细致的特性。其中，请求头中最常见的特性就是"},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"Cache-Control"},{"Type":"NodeText","Data":"，详见 MDN Web 文档 "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"a","TextMarkAHref":"https://developer.mozilla.org/zh-CN/docs/Web/HTTP/Headers/Cache-Control","TextMarkTextContent":"Cache-Control"},{"Type":"NodeText","Data":"."}]},{"ID":"20240201213745-2f2e9q4","Type":"NodeHeading","HeadingLevel":2,"Properties":{"id":"20240201213745-2f2e9q4","updated":"20240201213745"},"Children":[{"Type":"NodeHeadingC8hMarker","Data":"## ","Properties":{"id":""}},{"Type":"NodeText","Data":"连接方式"}]},{"ID":"20240201213746-oll8e4r","Type":"NodeParagraph","Properties":{"id":"20240201213746-oll8e4r","updated":"20240201213746"},"Children":[{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"strong","TextMarkTextContent":"HTTP/1.0 默认使用短连接"},{"Type":"NodeText","Data":" ，也就是说，客户端和服务器每进行一次 HTTP 操作，就建立一次连接，任务结束就中断连接。当客户端浏览器访问的某个 HTML 或其他类型的 Web 页中包含有其他的 Web 资源（如 JavaScript 文件、图像文件、CSS 文件等），每遇到这样一个 Web 资源，浏览器就会重新建立一个 TCP 连接，这样就会导致有大量的“握手报文”和“挥手报文”占用了带宽。"}]},{"ID":"20240201213747-5ls6uxu","Type":"NodeParagraph","Properties":{"id":"20240201213747-5ls6uxu","updated":"20240201213747"},"Children":[{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"strong","TextMarkTextContent":"为了解决 HTTP/1.0 存在的资源浪费的问题， HTTP/1.1 优化为默认长连接模式 。"},{"Type":"NodeText","Data":" 采用长连接模式的请求报文会通知服务端：“我向你请求连接，并且连接成功建立后，请不要关闭”。因此，该 TCP 连接将持续打开，为后续的客户端-服务端的数据交互服务。也就是说在使用长连接的情况下，当一个网页打开完成后，客户端和服务器之间用于传输 HTTP 数据的 TCP 连接不会关闭，客户端再次访问这个服务器时，会继续使用这一条已经建立的连接。"}]},{"ID":"20240201213748-7fkjqld","Type":"NodeParagraph","Properties":{"id":"20240201213748-7fkjqld","updated":"20240201213748"},"Children":[{"Type":"NodeText","Data":"如果 TCP 连接一直保持的话也是对资源的浪费，因此，一些服务器软件（如 Apache）还会支持超时时间的时间。在超时时间之内没有新的请求达到，TCP 连接才会被关闭。"}]},{"ID":"20240201213749-qvlasjw","Type":"NodeParagraph","Properties":{"id":"20240201213749-qvlasjw","updated":"20240201213749"},"Children":[{"Type":"NodeText","Data":"有必要说明的是，HTTP/1.0 仍提供了长连接选项，即在请求头中加入"},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"Connection: Keep-alive"},{"Type":"NodeText","Data":"。同样的，在 HTTP/1.1 中，如果不希望使用长连接选项，也可以在请求头中加入"},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"Connection: close"},{"Type":"NodeText","Data":"，这样会通知服务器端：“我不需要长连接，连接成功后即可关闭”。"}]},{"ID":"20240201213750-9bvbkhz","Type":"NodeParagraph","Properties":{"id":"20240201213750-9bvbkhz","updated":"20240201213750"},"Children":[{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"strong","TextMarkTextContent":"HTTP 协议的长连接和短连接，实质上是 TCP 协议的长连接和短连接。"}]},{"ID":"20240201213751-l9eqa02","Type":"NodeParagraph","Properties":{"id":"20240201213751-l9eqa02","updated":"20240201213751"},"Children":[{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"strong","TextMarkTextContent":"实现长连接需要客户端和服务端都支持长连接。"}]},{"ID":"20240201213752-tcs7bm6","Type":"NodeHeading","HeadingLevel":2,"Properties":{"id":"20240201213752-tcs7bm6","updated":"20240201213752"},"Children":[{"Type":"NodeHeadingC8hMarker","Data":"## ","Properties":{"id":""}},{"Type":"NodeText","Data":"Host 头处理"}]},{"ID":"20240201213753-mpfo3pz","Type":"NodeParagraph","Properties":{"id":"20240201213753-mpfo3pz","updated":"20240201213753"},"Children":[{"Type":"NodeText","Data":"域名系统（DNS）允许多个主机名绑定到同一个 IP 地址上，但是 HTTP/1.0 并没有考虑这个问题，假设我们有一个资源 URL 是"},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"a","TextMarkAHref":"http://example1.org/home.html%EF%BC%8CHTTP/1.0","TextMarkTextContent":"http://example1.org/home.html，HTTP/1.0"},{"Type":"NodeText","Data":" 的请求报文中，将会请求的是"},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"GET /home.html HTTP/1.0"},{"Type":"NodeText","Data":".也就是不会加入主机名。这样的报文送到服务器端，服务器是理解不了客户端想请求的真正网址。"}]},{"ID":"20240201213754-il0tgz9","Type":"NodeParagraph","Properties":{"id":"20240201213754-il0tgz9","updated":"20240201213754"},"Children":[{"Type":"NodeText","Data":"因此，HTTP/1.1 在请求头中加入了"},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"Host"},{"Type":"NodeText","Data":"字段。加入"},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"Host"},{"Type":"NodeText","Data":"字段的报文头部将会是:"}]},{"ID":"20240201213755-pzi4im0","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"CodeBlockFenceChar":96,"CodeBlockFenceLen":3,"CodeBlockOpenFence":"YGBg","CodeBlockInfo":"cGxhaW4=","CodeBlockCloseFence":"YGBg","Properties":{"id":"20240201213755-pzi4im0","updated":"20240201213755"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"cGxhaW4=","Properties":{"id":""}},{"Type":"NodeCodeBlockCode","Data":"GET /home.html HTTP/1.1\nHost: example1.org\n","Properties":{"id":""}},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}}]},{"ID":"20240201213756-9hh5b0i","Type":"NodeParagraph","Properties":{"id":"20240201213756-9hh5b0i","updated":"20240201213756"},"Children":[{"Type":"NodeText","Data":"这样，服务器端就可以确定客户端想要请求的真正的网址了。"}]},{"ID":"20240201213757-9q90oxh","Type":"NodeHeading","HeadingLevel":2,"Properties":{"id":"20240201213757-9q90oxh","updated":"20240201213757"},"Children":[{"Type":"NodeHeadingC8hMarker","Data":"## ","Properties":{"id":""}},{"Type":"NodeText","Data":"带宽优化"}]},{"ID":"20240201213758-eqe2ggf","Type":"NodeHeading","HeadingLevel":3,"Properties":{"id":"20240201213758-eqe2ggf","updated":"20240201213758"},"Children":[{"Type":"NodeHeadingC8hMarker","Data":"### ","Properties":{"id":""}},{"Type":"NodeText","Data":"范围请求"}]},{"ID":"20240201213759-bb9rz6x","Type":"NodeParagraph","Properties":{"id":"20240201213759-bb9rz6x","updated":"20240201213759"},"Children":[{"Type":"NodeText","Data":"HTTP/1.1 引入了范围请求（range request）机制，以避免带宽的浪费。当客户端想请求一个文件的一部分，或者需要继续下载一个已经下载了部分但被终止的文件，HTTP/1.1 可以在请求中加入"},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"Range"},{"Type":"NodeText","Data":"头部，以请求（并只能请求字节型数据）数据的一部分。服务器端可以忽略"},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"Range"},{"Type":"NodeText","Data":"头部，也可以返回若干"},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"Range"},{"Type":"NodeText","Data":"响应。"}]},{"ID":"20240201213760-8g1zb5g","Type":"NodeParagraph","Properties":{"id":"20240201213760-8g1zb5g","updated":"20240201213760"},"Children":[{"Type":"NodeText","Data":"如果一个响应包含部分数据的话，那么将带有"},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"206 (Partial Content)"},{"Type":"NodeText","Data":"状态码。该状态码的意义在于避免了 HTTP/1.0 代理缓存错误地把该响应认为是一个完整的数据响应，从而把他当作为一个请求的响应缓存。"}]},{"ID":"20240201213761-py936nx","Type":"NodeParagraph","Properties":{"id":"20240201213761-py936nx","updated":"20240201213761"},"Children":[{"Type":"NodeText","Data":"在范围响应中，"},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"Content-Range"},{"Type":"NodeText","Data":"头部标志指示出了该数据块的偏移量和数据块的长度。"}]},{"ID":"20240201213762-vkfi6ri","Type":"NodeHeading","HeadingLevel":3,"Properties":{"id":"20240201213762-vkfi6ri","updated":"20240201213762"},"Children":[{"Type":"NodeHeadingC8hMarker","Data":"### ","Properties":{"id":""}},{"Type":"NodeText","Data":"状态码 100"}]},{"ID":"20240201213763-p6floi0","Type":"NodeParagraph","Properties":{"id":"20240201213763-p6floi0","updated":"20240201213763"},"Children":[{"Type":"NodeText","Data":"HTTP/1.1 中新加入了状态码"},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"100"},{"Type":"NodeText","Data":"。该状态码的使用场景为，存在某些较大的文件请求，服务器可能不愿意响应这种请求，此时状态码"},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"100"},{"Type":"NodeText","Data":"可以作为指示请求是否会被正常响应，过程如下图："}]},{"ID":"20240201213764-yggam9z","Type":"NodeParagraph","Properties":{"id":"20240201213764-yggam9z","updated":"20240201213764"},"Children":[{"Type":"NodeImage","Properties":{"id":""},"Children":[{"Type":"NodeBang","Data":"!","Properties":{"id":""}},{"Type":"NodeOpenBracket","Data":"[","Properties":{"id":""}},{"Type":"NodeLinkText","Data":"HTTP1.1continue1","Properties":{"id":""}},{"Type":"NodeCloseBracket","Data":"]","Properties":{"id":""}},{"Type":"NodeOpenParen","Data":"(","Properties":{"id":""}},{"Type":"NodeLinkDest","Data":"assets/HTTP1.1continue1-20240201213826-1zs5a2t.png","Properties":{"id":""}},{"Type":"NodeCloseParen","Data":")","Properties":{"id":""}}]}]},{"ID":"20240201213765-rxoioe2","Type":"NodeParagraph","Properties":{"id":"20240201213765-rxoioe2","updated":"20240201213765"},"Children":[{"Type":"NodeImage","Properties":{"id":""},"Children":[{"Type":"NodeBang","Data":"!","Properties":{"id":""}},{"Type":"NodeOpenBracket","Data":"[","Properties":{"id":""}},{"Type":"NodeLinkText","Data":"HTTP1.1continue2","Properties":{"id":""}},{"Type":"NodeCloseBracket","Data":"]","Properties":{"id":""}},{"Type":"NodeOpenParen","Data":"(","Properties":{"id":""}},{"Type":"NodeLinkDest","Data":"assets/HTTP1.1continue2-20240201213826-0np2fhh.png","Properties":{"id":""}},{"Type":"NodeCloseParen","Data":")","Properties":{"id":""}}]}]},{"ID":"20240201213766-co87gqk","Type":"NodeParagraph","Properties":{"id":"20240201213766-co87gqk","updated":"20240201213766"},"Children":[{"Type":"NodeText","Data":"然而在 HTTP/1.0 中，并没有"},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"100 (Continue)"},{"Type":"NodeText","Data":"状态码，要想触发这一机制，可以发送一个"},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"Expect"},{"Type":"NodeText","Data":"头部，其中包含一个"},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"100-continue"},{"Type":"NodeText","Data":"的值。"}]},{"ID":"20240201213767-l0m1zkp","Type":"NodeHeading","HeadingLevel":3,"Properties":{"id":"20240201213767-l0m1zkp","updated":"20240201213767"},"Children":[{"Type":"NodeHeadingC8hMarker","Data":"### ","Properties":{"id":""}},{"Type":"NodeText","Data":"压缩"}]},{"ID":"20240201213768-wimup2v","Type":"NodeParagraph","Properties":{"id":"20240201213768-wimup2v","updated":"20240201213768"},"Children":[{"Type":"NodeText","Data":"许多格式的数据在传输时都会做预压缩处理。数据的压缩可以大幅优化带宽的利用。然而，HTTP/1.0 对数据压缩的选项提供的不多，不支持压缩细节的选择，也无法区分端到端（end-to-end）压缩或者是逐跳（hop-by-hop）压缩。"}]},{"ID":"20240201213769-2r4e0g8","Type":"NodeParagraph","Properties":{"id":"20240201213769-2r4e0g8","updated":"20240201213769"},"Children":[{"Type":"NodeText","Data":"HTTP/1.1 则对内容编码（content-codings）和传输编码（transfer-codings）做了区分。内容编码总是端到端的，传输编码总是逐跳的。"}]},{"ID":"20240201213770-0ql1ap0","Type":"NodeParagraph","Properties":{"id":"20240201213770-0ql1ap0","updated":"20240201213770"},"Children":[{"Type":"NodeText","Data":"HTTP/1.0 包含了"},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"Content-Encoding"},{"Type":"NodeText","Data":"头部，对消息进行端到端编码。HTTP/1.1 加入了"},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"Transfer-Encoding"},{"Type":"NodeText","Data":"头部，可以对消息进行逐跳传输编码。HTTP/1.1 还加入了"},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"Accept-Encoding"},{"Type":"NodeText","Data":"头部，是客户端用来指示他能处理什么样的内容编码。"}]},{"ID":"20240201213771-qrzoeg5","Type":"NodeHeading","HeadingLevel":2,"Properties":{"id":"20240201213771-qrzoeg5","updated":"20240201213771"},"Children":[{"Type":"NodeHeadingC8hMarker","Data":"## ","Properties":{"id":""}},{"Type":"NodeText","Data":"总结"}]},{"ID":"20240201213772-b02k9im","Type":"NodeList","ListData":{"Typ":1,"Tight":true,"Start":1,"Delimiter":46,"Padding":3,"Marker":"MQ==","Num":1},"Properties":{"id":"20240201213772-b02k9im","updated":"20240201213772"},"Children":[{"ID":"20240201213773-2yqg4cv","Type":"NodeListItem","Data":"1","ListData":{"Typ":1,"Tight":true,"Start":1,"Delimiter":46,"Padding":3,"Marker":"MQ==","Num":1},"Properties":{"id":"20240201213773-2yqg4cv","updated":"20240201213773"},"Children":[{"ID":"20240201213774-eca5pco","Type":"NodeParagraph","Properties":{"id":"20240201213774-eca5pco","updated":"20240201213774"},"Children":[{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"strong","TextMarkTextContent":"连接方式"},{"Type":"NodeText","Data":" : HTTP 1.0 为短连接，HTTP 1.1 支持长连接。"}]}]},{"ID":"20240201213775-uvpi3ua","Type":"NodeListItem","Data":"1","ListData":{"Typ":1,"Tight":true,"Start":1,"Delimiter":46,"Padding":3,"Marker":"MQ==","Num":2},"Properties":{"id":"20240201213775-uvpi3ua","updated":"20240201213775"},"Children":[{"ID":"20240201213776-8igw2pt","Type":"NodeParagraph","Properties":{"id":"20240201213776-8igw2pt","updated":"20240201213776"},"Children":[{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"strong","TextMarkTextContent":"状态响应码"},{"Type":"NodeText","Data":" : HTTP/1.1 中新加入了大量的状态码，光是错误响应状态码就新增了 24 种。比如说，"},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"100 (Continue)"},{"Type":"NodeText","Data":"——在请求大资源前的预热请求，"},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"206 (Partial Content)"},{"Type":"NodeText","Data":"——范围请求的标识码，"},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"409 (Conflict)"},{"Type":"NodeText","Data":"——请求与当前资源的规定冲突，"},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"410 (Gone)"},{"Type":"NodeText","Data":"——资源已被永久转移，而且没有任何已知的转发地址。"}]}]},{"ID":"20240201213777-1fuu6w5","Type":"NodeListItem","Data":"1","ListData":{"Typ":1,"Tight":true,"Start":1,"Delimiter":46,"Padding":3,"Marker":"MQ==","Num":3},"Properties":{"id":"20240201213777-1fuu6w5","updated":"20240201213777"},"Children":[{"ID":"20240201213778-i8hohsk","Type":"NodeParagraph","Properties":{"id":"20240201213778-i8hohsk","updated":"20240201213778"},"Children":[{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"strong","TextMarkTextContent":"缓存处理"},{"Type":"NodeText","Data":" : 在 HTTP1.0 中主要使用 header 里的 If-Modified-Since,Expires 来做为缓存判断的标准，HTTP1.1 则引入了更多的缓存控制策略例如 Entity tag，If-Unmodified-Since, If-Match, If-None-Match 等更多可供选择的缓存头来控制缓存策略。"}]}]},{"ID":"20240201213779-22oi340","Type":"NodeListItem","Data":"1","ListData":{"Typ":1,"Tight":true,"Start":1,"Delimiter":46,"Padding":3,"Marker":"MQ==","Num":4},"Properties":{"id":"20240201213779-22oi340","updated":"20240201213779"},"Children":[{"ID":"20240201213780-cx9y2d6","Type":"NodeParagraph","Properties":{"id":"20240201213780-cx9y2d6","updated":"20240201213780"},"Children":[{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"strong","TextMarkTextContent":"带宽优化及网络连接的使用"},{"Type":"NodeText","Data":" :HTTP1.0 中，存在一些浪费带宽的现象，例如客户端只是需要某个对象的一部分，而服务器却将整个对象送过来了，并且不支持断点续传功能，HTTP1.1 则在请求头引入了 range 头域，它允许只请求资源的某个部分，即返回码是 206（Partial Content），这样就方便了开发者自由的选择以便于充分利用带宽和连接。"}]}]},{"ID":"20240201213781-rhiiji9","Type":"NodeListItem","Data":"1","ListData":{"Typ":1,"Tight":true,"Start":1,"Delimiter":46,"Padding":3,"Marker":"MQ==","Num":5},"Properties":{"id":"20240201213781-rhiiji9","updated":"20240201213781"},"Children":[{"ID":"20240201213782-jq2tkpt","Type":"NodeParagraph","Properties":{"id":"20240201213782-jq2tkpt","updated":"20240201213782"},"Children":[{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"strong","TextMarkTextContent":"Host 头处理"},{"Type":"NodeText","Data":" : HTTP/1.1 在请求头中加入了"},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"Host"},{"Type":"NodeText","Data":"字段。"}]}]}]},{"ID":"20240201213783-u6rwowi","Type":"NodeHeading","HeadingLevel":2,"Properties":{"id":"20240201213783-u6rwowi","updated":"20240201213783"},"Children":[{"Type":"NodeHeadingC8hMarker","Data":"## ","Properties":{"id":""}},{"Type":"NodeText","Data":"参考资料"}]},{"ID":"20240201213784-8yt8djc","Type":"NodeParagraph","Properties":{"id":"20240201213784-8yt8djc","updated":"20240201213784"},"Children":[{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"a","TextMarkAHref":"http://www.ra.ethz.ch/cdstore/www8/data/2136/pdf/pd1.pdf","TextMarkTextContent":"Key differences between HTTP/1.0 and HTTP/1.1"}]},{"ID":"20240201213785-uhra9zq","Type":"NodeHTMLBlock","Data":"\u003cdiv\u003e\n\u003c!-- @include: @article-footer.snippet.md --\u003e\n\u003c/div\u003e","HtmlBlockType":2,"Properties":{"id":"20240201213785-uhra9zq","updated":"20240201213785"}}]}
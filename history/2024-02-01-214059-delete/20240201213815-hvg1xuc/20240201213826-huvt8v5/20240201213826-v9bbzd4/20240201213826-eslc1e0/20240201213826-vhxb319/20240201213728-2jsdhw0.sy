{"ID":"20240201213728-2jsdhw0","Spec":"1","Type":"NodeDocument","Properties":{"id":"20240201213728-2jsdhw0","title":"red-black-tree","updated":"20240201213728"},"Children":[{"ID":"20240201213729-03nnxfj","Type":"NodeThematicBreak","Properties":{"id":"20240201213729-03nnxfj","updated":"20240201213729"}},{"ID":"20240201213730-z1qd0yo","Type":"NodeParagraph","Properties":{"id":"20240201213730-z1qd0yo","updated":"20240201213730"},"Children":[{"Type":"NodeText","Data":"title: 红黑树"},{"Type":"NodeSoftBreak","Data":"\n","Properties":{"id":""}},{"Type":"NodeText","Data":"category: 计算机基础"},{"Type":"NodeSoftBreak","Data":"\n","Properties":{"id":""}},{"Type":"NodeText","Data":"tag:"}]},{"ID":"20240201213731-hxqes4t","Type":"NodeList","ListData":{"Tight":true,"BulletChar":45,"Padding":2,"MarkerOffset":2,"Marker":"LQ==","Num":-1},"Properties":{"id":"20240201213731-hxqes4t","updated":"20240201213731"},"Children":[{"ID":"20240201213732-1n5yczp","Type":"NodeListItem","Data":"-","ListData":{"Tight":true,"BulletChar":45,"Padding":2,"MarkerOffset":2,"Marker":"LQ==","Num":-1},"Properties":{"id":"20240201213732-1n5yczp","updated":"20240201213732"},"Children":[{"ID":"20240201213733-2bzxqgc","Type":"NodeParagraph","Properties":{"id":"20240201213733-2bzxqgc","updated":"20240201213733"},"Children":[{"Type":"NodeText","Data":"数据结构"}]}]}]},{"ID":"20240201213734-fan3mka","Type":"NodeThematicBreak","Properties":{"id":"20240201213734-fan3mka","updated":"20240201213734"}},{"ID":"20240201213735-q49p8gr","Type":"NodeHeading","HeadingLevel":2,"Properties":{"id":"20240201213735-q49p8gr","updated":"20240201213735"},"Children":[{"Type":"NodeHeadingC8hMarker","Data":"## ","Properties":{"id":""}},{"Type":"NodeText","Data":"红黑树介绍"}]},{"ID":"20240201213736-ntyi3eo","Type":"NodeParagraph","Properties":{"id":"20240201213736-ntyi3eo","updated":"20240201213736"},"Children":[{"Type":"NodeText","Data":"红黑树（Red Black Tree）是一种自平衡二叉查找树。它是在 1972 年由 Rudolf Bayer 发明的，当时被称为平衡二叉 B 树（symmetric binary B-trees）。后来，在 1978 年被 Leo J. Guibas 和 Robert Sedgewick 修改为如今的“红黑树”。"}]},{"ID":"20240201213737-lrkf2y8","Type":"NodeParagraph","Properties":{"id":"20240201213737-lrkf2y8","updated":"20240201213737"},"Children":[{"Type":"NodeText","Data":"由于其自平衡的特性，保证了最坏情形下在 O(logn) 时间复杂度内完成查找、增加、删除等操作，性能表现稳定。"}]},{"ID":"20240201213738-oear3le","Type":"NodeParagraph","Properties":{"id":"20240201213738-oear3le","updated":"20240201213738"},"Children":[{"Type":"NodeText","Data":"在 JDK 中，"},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"TreeMap"},{"Type":"NodeText","Data":"、"},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"TreeSet"},{"Type":"NodeText","Data":" 以及 JDK1.8 的 "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"HashMap"},{"Type":"NodeText","Data":" 底层都用到了红黑树。"}]},{"ID":"20240201213739-7u0ezsq","Type":"NodeHeading","HeadingLevel":2,"Properties":{"id":"20240201213739-7u0ezsq","updated":"20240201213739"},"Children":[{"Type":"NodeHeadingC8hMarker","Data":"## ","Properties":{"id":""}},{"Type":"NodeText","Data":"为什么需要红黑树？"}]},{"ID":"20240201213740-pclrvi2","Type":"NodeParagraph","Properties":{"id":"20240201213740-pclrvi2","updated":"20240201213740"},"Children":[{"Type":"NodeText","Data":"红黑树的诞生就是为了解决二叉查找树的缺陷。"}]},{"ID":"20240201213741-x6aikch","Type":"NodeParagraph","Properties":{"id":"20240201213741-x6aikch","updated":"20240201213741"},"Children":[{"Type":"NodeText","Data":"二叉查找树是一种基于比较的数据结构，它的每个节点都有一个键值，而且左子节点的键值小于父节点的键值，右子节点的键值大于父节点的键值。这样的结构可以方便地进行查找、插入和删除操作，因为只需要比较节点的键值就可以确定目标节点的位置。但是，二叉查找树有一个很大的问题，就是它的形状取决于节点插入的顺序。如果节点是按照升序或降序的方式插入的，那么二叉查找树就会退化成一个线性结构，也就是一个链表。这样的情况下，二叉查找树的性能就会大大降低，时间复杂度就会从 O(logn) 变为 O(n)。"}]},{"ID":"20240201213742-cku13mt","Type":"NodeParagraph","Properties":{"id":"20240201213742-cku13mt","updated":"20240201213742"},"Children":[{"Type":"NodeText","Data":"红黑树的诞生就是为了解决二叉查找树的缺陷，因为二叉查找树在某些情况下会退化成一个线性结构。"}]},{"ID":"20240201213743-ch8cdxp","Type":"NodeHeading","HeadingLevel":2,"Properties":{"id":"20240201213743-ch8cdxp","updated":"20240201213743"},"Children":[{"Type":"NodeHeadingC8hMarker","Data":"## ","Properties":{"id":""}},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"strong","TextMarkTextContent":"红黑树特点"}]},{"ID":"20240201213744-nqm6y4n","Type":"NodeList","ListData":{"Typ":1,"Tight":true,"Start":1,"Delimiter":46,"Padding":3,"Marker":"MQ==","Num":1},"Properties":{"id":"20240201213744-nqm6y4n","updated":"20240201213744"},"Children":[{"ID":"20240201213745-cj9kaof","Type":"NodeListItem","Data":"1","ListData":{"Typ":1,"Tight":true,"Start":1,"Delimiter":46,"Padding":3,"Marker":"MQ==","Num":1},"Properties":{"id":"20240201213745-cj9kaof","updated":"20240201213745"},"Children":[{"ID":"20240201213746-4oegl9y","Type":"NodeParagraph","Properties":{"id":"20240201213746-4oegl9y","updated":"20240201213746"},"Children":[{"Type":"NodeText","Data":"每个节点非红即黑。黑色决定平衡，红色不决定平衡。这对应了 2-3 树中一个节点内可以存放 1~2 个节点。"}]}]},{"ID":"20240201213747-sbo9xsw","Type":"NodeListItem","Data":"2","ListData":{"Typ":1,"Tight":true,"Start":2,"Delimiter":46,"Padding":3,"Marker":"Mg==","Num":2},"Properties":{"id":"20240201213747-sbo9xsw","updated":"20240201213747"},"Children":[{"ID":"20240201213748-uct0c94","Type":"NodeParagraph","Properties":{"id":"20240201213748-uct0c94","updated":"20240201213748"},"Children":[{"Type":"NodeText","Data":"根节点总是黑色的。"}]}]},{"ID":"20240201213749-0ai5yci","Type":"NodeListItem","Data":"3","ListData":{"Typ":1,"Tight":true,"Start":3,"Delimiter":46,"Padding":3,"Marker":"Mw==","Num":3},"Properties":{"id":"20240201213749-0ai5yci","updated":"20240201213749"},"Children":[{"ID":"20240201213750-ygpczl7","Type":"NodeParagraph","Properties":{"id":"20240201213750-ygpczl7","updated":"20240201213750"},"Children":[{"Type":"NodeText","Data":"每个叶子节点都是黑色的空节点（NIL 节点）。这里指的是红黑树都会有一个空的叶子节点，是红黑树自己的规则。"}]}]},{"ID":"20240201213751-8vczxw0","Type":"NodeListItem","Data":"4","ListData":{"Typ":1,"Tight":true,"Start":4,"Delimiter":46,"Padding":3,"Marker":"NA==","Num":4},"Properties":{"id":"20240201213751-8vczxw0","updated":"20240201213751"},"Children":[{"ID":"20240201213752-uu9ofq4","Type":"NodeParagraph","Properties":{"id":"20240201213752-uu9ofq4","updated":"20240201213752"},"Children":[{"Type":"NodeText","Data":"如果节点是红色的，则它的子节点必须是黑色的（反之不一定）。通常这条规则也叫不会有连续的红色节点。一个节点最多临时会有 3 个节点，中间是黑色节点，左右是红色节点。"}]}]},{"ID":"20240201213753-674hghk","Type":"NodeListItem","Data":"5","ListData":{"Typ":1,"Tight":true,"Start":5,"Delimiter":46,"Padding":3,"Marker":"NQ==","Num":5},"Properties":{"id":"20240201213753-674hghk","updated":"20240201213753"},"Children":[{"ID":"20240201213754-suz42f6","Type":"NodeParagraph","Properties":{"id":"20240201213754-suz42f6","updated":"20240201213754"},"Children":[{"Type":"NodeText","Data":"从根节点到叶节点或空子节点的每条路径，必须包含相同数目的黑色节点（即相同的黑色高度）。每一层都只是有一个节点贡献了树高决定平衡性，也就是对应红黑树中的黑色节点。"}]}]}]},{"ID":"20240201213755-05qpimw","Type":"NodeParagraph","Properties":{"id":"20240201213755-05qpimw","updated":"20240201213755"},"Children":[{"Type":"NodeText","Data":"正是这些特点才保证了红黑树的平衡，让红黑树的高度不会超过 2log(n+1)。"}]},{"ID":"20240201213756-9xfw4kz","Type":"NodeHeading","HeadingLevel":2,"Properties":{"id":"20240201213756-9xfw4kz","updated":"20240201213756"},"Children":[{"Type":"NodeHeadingC8hMarker","Data":"## ","Properties":{"id":""}},{"Type":"NodeText","Data":"红黑树数据结构"}]},{"ID":"20240201213757-x64kpg7","Type":"NodeParagraph","Properties":{"id":"20240201213757-x64kpg7","updated":"20240201213757"},"Children":[{"Type":"NodeText","Data":"建立在 BST 二叉搜索树的基础上，AVL、2-3 树、红黑树都是自平衡二叉树（统称 B-树）。但相比于 AVL 树，高度平衡所带来的时间复杂度，红黑树对平衡的控制要宽松一些，红黑树只需要保证黑色节点平衡即可。"}]},{"ID":"20240201213758-gzk6udr","Type":"NodeHeading","HeadingLevel":2,"Properties":{"id":"20240201213758-gzk6udr","updated":"20240201213758"},"Children":[{"Type":"NodeHeadingC8hMarker","Data":"## ","Properties":{"id":""}},{"Type":"NodeText","Data":"红黑树结构实现"}]},{"ID":"20240201213759-r0xjrbw","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"CodeBlockFenceChar":96,"CodeBlockFenceLen":3,"CodeBlockOpenFence":"YGBg","CodeBlockInfo":"amF2YQ==","CodeBlockCloseFence":"YGBg","Properties":{"id":"20240201213759-r0xjrbw","updated":"20240201213759"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"amF2YQ==","Properties":{"id":""}},{"Type":"NodeCodeBlockCode","Data":"public class Node {\n\n    public Class\u003c?\u003e clazz;\n    public Integer value;\n    public Node parent;\n    public Node left;\n    public Node right;\n\n    // AVL 树所需属性\n    public int height;\n    // 红黑树所需属性\n    public Color color = Color.RED;\n\n}\n","Properties":{"id":""}},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}}]},{"ID":"20240201213760-qcdeg72","Type":"NodeHeading","HeadingLevel":3,"Properties":{"id":"20240201213760-qcdeg72","updated":"20240201213760"},"Children":[{"Type":"NodeHeadingC8hMarker","Data":"### ","Properties":{"id":""}},{"Type":"NodeText","Data":"1.左倾染色"}]},{"ID":"20240201213761-r4j72u2","Type":"NodeParagraph","Properties":{"id":"20240201213761-r4j72u2","updated":"20240201213761"},"Children":[{"Type":"NodeImage","Properties":{"id":""},"Children":[{"Type":"NodeBang","Data":"!","Properties":{"id":""}},{"Type":"NodeOpenBracket","Data":"[","Properties":{"id":""}},{"Type":"NodeLinkText","Data":"幻灯片1","Properties":{"id":""}},{"Type":"NodeCloseBracket","Data":"]","Properties":{"id":""}},{"Type":"NodeOpenParen","Data":"(","Properties":{"id":""}},{"Type":"NodeLinkDest","Data":"./pictures/红黑树/红黑树1.png","Properties":{"id":""}},{"Type":"NodeCloseParen","Data":")","Properties":{"id":""}}]}]},{"ID":"20240201213762-3kqbnb7","Type":"NodeList","ListData":{"Tight":true,"BulletChar":45,"Padding":2,"Marker":"LQ==","Num":-1},"Properties":{"id":"20240201213762-3kqbnb7","updated":"20240201213762"},"Children":[{"ID":"20240201213763-73u062e","Type":"NodeListItem","Data":"-","ListData":{"Tight":true,"BulletChar":45,"Padding":2,"Marker":"LQ==","Num":-1},"Properties":{"id":"20240201213763-73u062e","updated":"20240201213763"},"Children":[{"ID":"20240201213764-hoqvbqo","Type":"NodeParagraph","Properties":{"id":"20240201213764-hoqvbqo","updated":"20240201213764"},"Children":[{"Type":"NodeText","Data":"染色时根据当前节点的爷爷节点，找到当前节点的叔叔节点。"}]}]},{"ID":"20240201213765-a9pvhly","Type":"NodeListItem","Data":"-","ListData":{"Tight":true,"BulletChar":45,"Padding":2,"Marker":"LQ==","Num":-1},"Properties":{"id":"20240201213765-a9pvhly","updated":"20240201213765"},"Children":[{"ID":"20240201213766-zoipb4k","Type":"NodeParagraph","Properties":{"id":"20240201213766-zoipb4k","updated":"20240201213766"},"Children":[{"Type":"NodeText","Data":"再把父节点染黑、叔叔节点染黑，爷爷节点染红。但爷爷节点染红是临时的，当平衡树高操作后会把根节点染黑。"}]}]}]},{"ID":"20240201213767-qqc42co","Type":"NodeHeading","HeadingLevel":3,"Properties":{"id":"20240201213767-qqc42co","updated":"20240201213767"},"Children":[{"Type":"NodeHeadingC8hMarker","Data":"### ","Properties":{"id":""}},{"Type":"NodeText","Data":"2.右倾染色"}]},{"ID":"20240201213768-wsl5qn0","Type":"NodeParagraph","Properties":{"id":"20240201213768-wsl5qn0","updated":"20240201213768"},"Children":[{"Type":"NodeImage","Properties":{"id":""},"Children":[{"Type":"NodeBang","Data":"!","Properties":{"id":""}},{"Type":"NodeOpenBracket","Data":"[","Properties":{"id":""}},{"Type":"NodeLinkText","Data":"幻灯片2","Properties":{"id":""}},{"Type":"NodeCloseBracket","Data":"]","Properties":{"id":""}},{"Type":"NodeOpenParen","Data":"(","Properties":{"id":""}},{"Type":"NodeLinkDest","Data":"./pictures/红黑树/红黑树2.png","Properties":{"id":""}},{"Type":"NodeCloseParen","Data":")","Properties":{"id":""}}]}]},{"ID":"20240201213769-bokp30x","Type":"NodeHeading","HeadingLevel":3,"Properties":{"id":"20240201213769-bokp30x","updated":"20240201213769"},"Children":[{"Type":"NodeHeadingC8hMarker","Data":"### ","Properties":{"id":""}},{"Type":"NodeText","Data":"3.左旋调衡"}]},{"ID":"20240201213770-cn2x5dr","Type":"NodeHeading","HeadingLevel":4,"Properties":{"id":"20240201213770-cn2x5dr","updated":"20240201213770"},"Children":[{"Type":"NodeHeadingC8hMarker","Data":"#### ","Properties":{"id":""}},{"Type":"NodeText","Data":"3.1 一次左旋"}]},{"ID":"20240201213771-bbbl5ok","Type":"NodeParagraph","Properties":{"id":"20240201213771-bbbl5ok","updated":"20240201213771"},"Children":[{"Type":"NodeImage","Properties":{"id":""},"Children":[{"Type":"NodeBang","Data":"!","Properties":{"id":""}},{"Type":"NodeOpenBracket","Data":"[","Properties":{"id":""}},{"Type":"NodeLinkText","Data":"幻灯片3","Properties":{"id":""}},{"Type":"NodeCloseBracket","Data":"]","Properties":{"id":""}},{"Type":"NodeOpenParen","Data":"(","Properties":{"id":""}},{"Type":"NodeLinkDest","Data":"./pictures/红黑树/红黑树3.png","Properties":{"id":""}},{"Type":"NodeCloseParen","Data":")","Properties":{"id":""}}]}]},{"ID":"20240201213772-rvffebe","Type":"NodeHeading","HeadingLevel":4,"Properties":{"id":"20240201213772-rvffebe","updated":"20240201213772"},"Children":[{"Type":"NodeHeadingC8hMarker","Data":"#### ","Properties":{"id":""}},{"Type":"NodeText","Data":"3.2 右旋+左旋"}]},{"ID":"20240201213773-fulhjpx","Type":"NodeParagraph","Properties":{"id":"20240201213773-fulhjpx","updated":"20240201213773"},"Children":[{"Type":"NodeImage","Properties":{"id":""},"Children":[{"Type":"NodeBang","Data":"!","Properties":{"id":""}},{"Type":"NodeOpenBracket","Data":"[","Properties":{"id":""}},{"Type":"NodeLinkText","Data":"幻灯片4","Properties":{"id":""}},{"Type":"NodeCloseBracket","Data":"]","Properties":{"id":""}},{"Type":"NodeOpenParen","Data":"(","Properties":{"id":""}},{"Type":"NodeLinkDest","Data":"./pictures/红黑树/红黑树4.png","Properties":{"id":""}},{"Type":"NodeCloseParen","Data":")","Properties":{"id":""}}]}]},{"ID":"20240201213774-lo0p3sg","Type":"NodeHeading","HeadingLevel":3,"Properties":{"id":"20240201213774-lo0p3sg","updated":"20240201213774"},"Children":[{"Type":"NodeHeadingC8hMarker","Data":"### ","Properties":{"id":""}},{"Type":"NodeText","Data":"4.右旋调衡"}]},{"ID":"20240201213775-z3tspyv","Type":"NodeHeading","HeadingLevel":4,"Properties":{"id":"20240201213775-z3tspyv","updated":"20240201213775"},"Children":[{"Type":"NodeHeadingC8hMarker","Data":"#### ","Properties":{"id":""}},{"Type":"NodeText","Data":"4.1 一次右旋"}]},{"ID":"20240201213776-abcigo1","Type":"NodeParagraph","Properties":{"id":"20240201213776-abcigo1","updated":"20240201213776"},"Children":[{"Type":"NodeImage","Properties":{"id":""},"Children":[{"Type":"NodeBang","Data":"!","Properties":{"id":""}},{"Type":"NodeOpenBracket","Data":"[","Properties":{"id":""}},{"Type":"NodeLinkText","Data":"幻灯片5","Properties":{"id":""}},{"Type":"NodeCloseBracket","Data":"]","Properties":{"id":""}},{"Type":"NodeOpenParen","Data":"(","Properties":{"id":""}},{"Type":"NodeLinkDest","Data":"./pictures/红黑树/红黑树5.png","Properties":{"id":""}},{"Type":"NodeCloseParen","Data":")","Properties":{"id":""}}]}]},{"ID":"20240201213777-8s0vjji","Type":"NodeHeading","HeadingLevel":4,"Properties":{"id":"20240201213777-8s0vjji","updated":"20240201213777"},"Children":[{"Type":"NodeHeadingC8hMarker","Data":"#### ","Properties":{"id":""}},{"Type":"NodeText","Data":"4.2 左旋+右旋"}]},{"ID":"20240201213778-saovcyy","Type":"NodeParagraph","Properties":{"id":"20240201213778-saovcyy","updated":"20240201213778"},"Children":[{"Type":"NodeImage","Properties":{"id":""},"Children":[{"Type":"NodeBang","Data":"!","Properties":{"id":""}},{"Type":"NodeOpenBracket","Data":"[","Properties":{"id":""}},{"Type":"NodeLinkText","Data":"幻灯片6","Properties":{"id":""}},{"Type":"NodeCloseBracket","Data":"]","Properties":{"id":""}},{"Type":"NodeOpenParen","Data":"(","Properties":{"id":""}},{"Type":"NodeLinkDest","Data":"./pictures/红黑树/红黑树6.png","Properties":{"id":""}},{"Type":"NodeCloseParen","Data":")","Properties":{"id":""}}]}]},{"ID":"20240201213779-5qxa57t","Type":"NodeHeading","HeadingLevel":2,"Properties":{"id":"20240201213779-5qxa57t","updated":"20240201213779"},"Children":[{"Type":"NodeHeadingC8hMarker","Data":"## ","Properties":{"id":""}},{"Type":"NodeText","Data":"文章推荐"}]},{"ID":"20240201213780-di50144","Type":"NodeList","ListData":{"Tight":true,"BulletChar":45,"Padding":2,"Marker":"LQ==","Num":-1},"Properties":{"id":"20240201213780-di50144","updated":"20240201213780"},"Children":[{"ID":"20240201213781-w4ivho9","Type":"NodeListItem","Data":"-","ListData":{"Tight":true,"BulletChar":45,"Padding":2,"Marker":"LQ==","Num":-1},"Properties":{"id":"20240201213781-w4ivho9","updated":"20240201213781"},"Children":[{"ID":"20240201213782-5dnlpl1","Type":"NodeParagraph","Properties":{"id":"20240201213782-5dnlpl1","updated":"20240201213782"},"Children":[{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"a","TextMarkAHref":"https://zhuanlan.zhihu.com/p/24367771","TextMarkTextContent":"《红黑树深入剖析及 Java 实现》 - 美团点评技术团队"}]}]},{"ID":"20240201213783-2546qt9","Type":"NodeListItem","Data":"-","ListData":{"Tight":true,"BulletChar":45,"Padding":2,"Marker":"LQ==","Num":-1},"Properties":{"id":"20240201213783-2546qt9","updated":"20240201213783"},"Children":[{"ID":"20240201213784-qggxdta","Type":"NodeParagraph","Properties":{"id":"20240201213784-qggxdta","updated":"20240201213784"},"Children":[{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"a","TextMarkAHref":"https://juejin.im/post/5a27c6946fb9a04509096248#comment","TextMarkTextContent":"漫画：什么是红黑树？ - 程序员小灰"},{"Type":"NodeText","Data":"（也介绍到了二叉查找树，非常推荐）"}]}]}]},{"ID":"20240201213785-x8dl77a","Type":"NodeHTMLBlock","Data":"\u003cdiv\u003e\n\u003c!-- @include: @article-footer.snippet.md --\u003e\n\u003c/div\u003e","HtmlBlockType":2,"Properties":{"id":"20240201213785-x8dl77a","updated":"20240201213785"}}]}
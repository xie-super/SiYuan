{"ID":"20240201213532-pm8vuoj","Spec":"1","Type":"NodeDocument","Properties":{"id":"20240201213532-pm8vuoj","title":"basis-of-authority-certification","updated":"20240201213532"},"Children":[{"ID":"20240201213533-hywotxz","Type":"NodeThematicBreak","Properties":{"id":"20240201213533-hywotxz","updated":"20240201213533"}},{"ID":"20240201213534-04e70l8","Type":"NodeParagraph","Properties":{"id":"20240201213534-04e70l8","updated":"20240201213534"},"Children":[{"Type":"NodeText","Data":"title: 认证授权基础概念详解"},{"Type":"NodeSoftBreak","Data":"\n","Properties":{"id":""}},{"Type":"NodeText","Data":"category: 系统设计"},{"Type":"NodeSoftBreak","Data":"\n","Properties":{"id":""}},{"Type":"NodeText","Data":"tag:"}]},{"ID":"20240201213535-f95xq4d","Type":"NodeList","ListData":{"Tight":true,"BulletChar":45,"Padding":2,"MarkerOffset":2,"Marker":"LQ==","Num":-1},"Properties":{"id":"20240201213535-f95xq4d","updated":"20240201213535"},"Children":[{"ID":"20240201213536-rzx688o","Type":"NodeListItem","Data":"-","ListData":{"Tight":true,"BulletChar":45,"Padding":2,"MarkerOffset":2,"Marker":"LQ==","Num":-1},"Properties":{"id":"20240201213536-rzx688o","updated":"20240201213536"},"Children":[{"ID":"20240201213537-d83e1mq","Type":"NodeParagraph","Properties":{"id":"20240201213537-d83e1mq","updated":"20240201213537"},"Children":[{"Type":"NodeText","Data":"安全"}]}]}]},{"ID":"20240201213538-bvg1bb5","Type":"NodeThematicBreak","Properties":{"id":"20240201213538-bvg1bb5","updated":"20240201213538"}},{"ID":"20240201213539-4qk1vmv","Type":"NodeHeading","HeadingLevel":2,"Properties":{"id":"20240201213539-4qk1vmv","updated":"20240201213539"},"Children":[{"Type":"NodeHeadingC8hMarker","Data":"## ","Properties":{"id":""}},{"Type":"NodeText","Data":"认证 (Authentication) 和授权 (Authorization)的区别是什么？"}]},{"ID":"20240201213540-e5atlez","Type":"NodeParagraph","Properties":{"id":"20240201213540-e5atlez","updated":"20240201213540"},"Children":[{"Type":"NodeText","Data":"这是一个绝大多数人都会混淆的问题。首先先从读音上来认识这两个名词，很多人都会把它俩的读音搞混，所以我建议你先先去查一查这两个单词到底该怎么读，他们的具体含义是什么。"}]},{"ID":"20240201213541-ng7azjg","Type":"NodeParagraph","Properties":{"id":"20240201213541-ng7azjg","updated":"20240201213541"},"Children":[{"Type":"NodeText","Data":"说简单点就是："}]},{"ID":"20240201213542-5ueoz0g","Type":"NodeList","ListData":{"Tight":true,"BulletChar":45,"Padding":2,"Marker":"LQ==","Num":-1},"Properties":{"id":"20240201213542-5ueoz0g","updated":"20240201213542"},"Children":[{"ID":"20240201213543-udm7z33","Type":"NodeListItem","Data":"-","ListData":{"Tight":true,"BulletChar":45,"Padding":2,"Marker":"LQ==","Num":-1},"Properties":{"id":"20240201213543-udm7z33","updated":"20240201213543"},"Children":[{"ID":"20240201213544-s0x21sp","Type":"NodeParagraph","Properties":{"id":"20240201213544-s0x21sp","updated":"20240201213544"},"Children":[{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"strong","TextMarkTextContent":"认证 (Authentication)："},{"Type":"NodeText","Data":" 你是谁。"}]}]},{"ID":"20240201213545-0o36346","Type":"NodeListItem","Data":"-","ListData":{"Tight":true,"BulletChar":45,"Padding":2,"Marker":"LQ==","Num":-1},"Properties":{"id":"20240201213545-0o36346","updated":"20240201213545"},"Children":[{"ID":"20240201213546-yyg8u9e","Type":"NodeParagraph","Properties":{"id":"20240201213546-yyg8u9e","updated":"20240201213546"},"Children":[{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"strong","TextMarkTextContent":"授权 (Authorization)："},{"Type":"NodeText","Data":" 你有权限干什么。"}]}]}]},{"ID":"20240201213547-t491xvq","Type":"NodeParagraph","Properties":{"id":"20240201213547-t491xvq","updated":"20240201213547"},"Children":[{"Type":"NodeText","Data":"稍微正式点（啰嗦点）的说法就是："}]},{"ID":"20240201213548-h15bdmo","Type":"NodeList","ListData":{"Tight":true,"BulletChar":45,"Padding":2,"Marker":"LQ==","Num":-1},"Properties":{"id":"20240201213548-h15bdmo","updated":"20240201213548"},"Children":[{"ID":"20240201213549-5wv5w6k","Type":"NodeListItem","Data":"-","ListData":{"Tight":true,"BulletChar":45,"Padding":2,"Marker":"LQ==","Num":-1},"Properties":{"id":"20240201213549-5wv5w6k","updated":"20240201213549"},"Children":[{"ID":"20240201213550-els71xr","Type":"NodeParagraph","Properties":{"id":"20240201213550-els71xr","updated":"20240201213550"},"Children":[{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"strong","TextMarkTextContent":"Authentication（认证）"},{"Type":"NodeText","Data":" 是验证您的身份的凭据（例如用户名/用户 ID 和密码），通过这个凭据，系统得以知道你就是你，也就是说系统存在你这个用户。所以，Authentication 被称为身份/用户验证。"}]}]},{"ID":"20240201213551-fbu719z","Type":"NodeListItem","Data":"-","ListData":{"Tight":true,"BulletChar":45,"Padding":2,"Marker":"LQ==","Num":-1},"Properties":{"id":"20240201213551-fbu719z","updated":"20240201213551"},"Children":[{"ID":"20240201213552-lk2mg7z","Type":"NodeParagraph","Properties":{"id":"20240201213552-lk2mg7z","updated":"20240201213552"},"Children":[{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"strong","TextMarkTextContent":"Authorization（授权）"},{"Type":"NodeText","Data":" 发生在 "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"strong","TextMarkTextContent":"Authentication（认证）"},{"Type":"NodeText","Data":" 之后。授权嘛，光看意思大家应该就明白，它主要掌管我们访问系统的权限。比如有些特定资源只能具有特定权限的人才能访问比如 admin，有些对系统资源操作比如删除、添加、更新只能特定人才具有。"}]}]}]},{"ID":"20240201213553-onj5mzq","Type":"NodeParagraph","Properties":{"id":"20240201213553-onj5mzq","updated":"20240201213553"},"Children":[{"Type":"NodeText","Data":"认证："}]},{"ID":"20240201213554-71i74bm","Type":"NodeParagraph","Properties":{"id":"20240201213554-71i74bm","updated":"20240201213554"},"Children":[{"Type":"NodeImage","Properties":{"id":""},"Children":[{"Type":"NodeBang","Data":"!","Properties":{"id":""}},{"Type":"NodeOpenBracket","Data":"[","Properties":{"id":""}},{"Type":"NodeLinkText","Data":"认证登录","Properties":{"id":""}},{"Type":"NodeCloseBracket","Data":"]","Properties":{"id":""}},{"Type":"NodeOpenParen","Data":"(","Properties":{"id":""}},{"Type":"NodeLinkDest","Data":"https://oss.javaguide.cn/github/javaguide/system-design/security/authentication-login.png","Properties":{"id":""}},{"Type":"NodeCloseParen","Data":")","Properties":{"id":""}}]}]},{"ID":"20240201213555-uwkbk4j","Type":"NodeParagraph","Properties":{"id":"20240201213555-uwkbk4j","updated":"20240201213555"},"Children":[{"Type":"NodeText","Data":"授权："}]},{"ID":"20240201213556-hi05foe","Type":"NodeParagraph","Properties":{"id":"20240201213556-hi05foe","updated":"20240201213556"},"Children":[{"Type":"NodeImage","Properties":{"id":""},"Children":[{"Type":"NodeBang","Data":"!","Properties":{"id":""}},{"Type":"NodeOpenBracket","Data":"[","Properties":{"id":""}},{"Type":"NodeLinkText","Data":"没有权限","Properties":{"id":""}},{"Type":"NodeCloseBracket","Data":"]","Properties":{"id":""}},{"Type":"NodeOpenParen","Data":"(","Properties":{"id":""}},{"Type":"NodeLinkDest","Data":"https://oss.javaguide.cn/github/javaguide/system-design/security/20210604161032412.png","Properties":{"id":""}},{"Type":"NodeCloseParen","Data":")","Properties":{"id":""}}]}]},{"ID":"20240201213557-lted9ym","Type":"NodeParagraph","Properties":{"id":"20240201213557-lted9ym","updated":"20240201213557"},"Children":[{"Type":"NodeText","Data":"这两个一般在我们的系统中被结合在一起使用，目的就是为了保护我们系统的安全性。"}]},{"ID":"20240201213558-vz1yw4n","Type":"NodeHeading","HeadingLevel":2,"Properties":{"id":"20240201213558-vz1yw4n","updated":"20240201213558"},"Children":[{"Type":"NodeHeadingC8hMarker","Data":"## ","Properties":{"id":""}},{"Type":"NodeText","Data":"RBAC 模型了解吗？"}]},{"ID":"20240201213559-jg73l7k","Type":"NodeParagraph","Properties":{"id":"20240201213559-jg73l7k","updated":"20240201213559"},"Children":[{"Type":"NodeText","Data":"系统权限控制最常采用的访问控制模型就是 "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"strong","TextMarkTextContent":"RBAC 模型"},{"Type":"NodeText","Data":" 。"}]},{"ID":"20240201213560-rasostv","Type":"NodeParagraph","Properties":{"id":"20240201213560-rasostv","updated":"20240201213560"},"Children":[{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"strong","TextMarkTextContent":"什么是 RBAC 呢？"},{"Type":"NodeText","Data":" RBAC 即基于角色的权限访问控制（Role-Based Access Control）。这是一种通过角色关联权限，角色同时又关联用户的授权的方式。"}]},{"ID":"20240201213561-l0rpsq3","Type":"NodeParagraph","Properties":{"id":"20240201213561-l0rpsq3","updated":"20240201213561"},"Children":[{"Type":"NodeText","Data":"简单地说：一个用户可以拥有若干角色，每一个角色又可以被分配若干权限，这样就构造成“用户-角色-权限” 的授权模型。在这种模型中，用户与角色、角色与权限之间构成了多对多的关系。"}]},{"ID":"20240201213562-8xgaktm","Type":"NodeParagraph","Properties":{"id":"20240201213562-8xgaktm","updated":"20240201213562"},"Children":[{"Type":"NodeImage","Properties":{"id":""},"Children":[{"Type":"NodeBang","Data":"!","Properties":{"id":""}},{"Type":"NodeOpenBracket","Data":"[","Properties":{"id":""}},{"Type":"NodeLinkText","Data":"RBAC 权限模型示意图","Properties":{"id":""}},{"Type":"NodeCloseBracket","Data":"]","Properties":{"id":""}},{"Type":"NodeOpenParen","Data":"(","Properties":{"id":""}},{"Type":"NodeLinkDest","Data":"https://oss.javaguide.cn/github/javaguide/system-design/security/design-of-authority-system/rbac.png","Properties":{"id":""}},{"Type":"NodeCloseParen","Data":")","Properties":{"id":""}}]}]},{"ID":"20240201213563-mkrvya5","Type":"NodeParagraph","Properties":{"id":"20240201213563-mkrvya5","updated":"20240201213563"},"Children":[{"Type":"NodeText","Data":"在 RBAC 权限模型中，权限与角色相关联，用户通过成为包含特定角色的成员而得到这些角色的权限，这就极大地简化了权限的管理。"}]},{"ID":"20240201213564-gf56bxf","Type":"NodeParagraph","Properties":{"id":"20240201213564-gf56bxf","updated":"20240201213564"},"Children":[{"Type":"NodeText","Data":"为了实现 RBAC 权限模型，数据库表的常见设计如下（一共 5 张表，2 张用户建立表之间的联系）："}]},{"ID":"20240201213565-2e0bxqk","Type":"NodeParagraph","Properties":{"id":"20240201213565-2e0bxqk","updated":"20240201213565"},"Children":[{"Type":"NodeImage","Properties":{"id":""},"Children":[{"Type":"NodeBang","Data":"!","Properties":{"id":""}},{"Type":"NodeOpenBracket","Data":"[","Properties":{"id":""}},{"Type":"NodeCloseBracket","Data":"]","Properties":{"id":""}},{"Type":"NodeOpenParen","Data":"(","Properties":{"id":""}},{"Type":"NodeLinkDest","Data":"https://oss.javaguide.cn/2020-11/%E6%95%B0%E6%8D%AE%E5%BA%93%E8%AE%BE%E8%AE%A1-%E6%9D%83%E9%99%90.png","Properties":{"id":""}},{"Type":"NodeCloseParen","Data":")","Properties":{"id":""}}]}]},{"ID":"20240201213566-3g7flw4","Type":"NodeParagraph","Properties":{"id":"20240201213566-3g7flw4","updated":"20240201213566"},"Children":[{"Type":"NodeText","Data":"通过这个权限模型，我们可以创建不同的角色并为不同的角色分配不同的权限范围（菜单）。"}]},{"ID":"20240201213567-i6k7v7c","Type":"NodeParagraph","Properties":{"id":"20240201213567-i6k7v7c","updated":"20240201213567"},"Children":[{"Type":"NodeImage","Properties":{"id":""},"Children":[{"Type":"NodeBang","Data":"!","Properties":{"id":""}},{"Type":"NodeOpenBracket","Data":"[","Properties":{"id":""}},{"Type":"NodeCloseBracket","Data":"]","Properties":{"id":""}},{"Type":"NodeOpenParen","Data":"(","Properties":{"id":""}},{"Type":"NodeLinkDest","Data":"https://oss.javaguide.cn/github/javaguide/books%E6%9D%83%E9%99%90%E7%AE%A1%E7%90%86%E6%A8%A1%E5%9D%97.png","Properties":{"id":""}},{"Type":"NodeCloseParen","Data":")","Properties":{"id":""}}]}]},{"ID":"20240201213568-2sa5f5t","Type":"NodeParagraph","Properties":{"id":"20240201213568-2sa5f5t","updated":"20240201213568"},"Children":[{"Type":"NodeText","Data":"通常来说，如果系统对于权限控制要求比较严格的话，一般都会选择使用 RBAC 模型来做权限控制。"}]},{"ID":"20240201213569-i2ukebd","Type":"NodeHeading","HeadingLevel":2,"Properties":{"id":"20240201213569-i2ukebd","updated":"20240201213569"},"Children":[{"Type":"NodeHeadingC8hMarker","Data":"## ","Properties":{"id":""}},{"Type":"NodeText","Data":"什么是 Cookie ? Cookie 的作用是什么?"}]},{"ID":"20240201213570-z3ltqoi","Type":"NodeParagraph","Properties":{"id":"20240201213570-z3ltqoi","updated":"20240201213570"},"Children":[{"Type":"NodeImage","Properties":{"id":""},"Children":[{"Type":"NodeBang","Data":"!","Properties":{"id":""}},{"Type":"NodeOpenBracket","Data":"[","Properties":{"id":""}},{"Type":"NodeCloseBracket","Data":"]","Properties":{"id":""}},{"Type":"NodeOpenParen","Data":"(","Properties":{"id":""}},{"Type":"NodeLinkDest","Data":"https://oss.javaguide.cn/github/javaguide/system-design/security/cookie-sessionId.png","Properties":{"id":""}},{"Type":"NodeCloseParen","Data":")","Properties":{"id":""}}]}]},{"ID":"20240201213571-ufvl18y","Type":"NodeParagraph","Properties":{"id":"20240201213571-ufvl18y","updated":"20240201213571"},"Children":[{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"Cookie"},{"Type":"NodeText","Data":" 和 "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"Session"},{"Type":"NodeText","Data":" 都是用来跟踪浏览器用户身份的会话方式，但是两者的应用场景不太一样。"}]},{"ID":"20240201213572-hkzrtes","Type":"NodeParagraph","Properties":{"id":"20240201213572-hkzrtes","updated":"20240201213572"},"Children":[{"Type":"NodeText","Data":"维基百科是这样定义 "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"Cookie"},{"Type":"NodeText","Data":" 的："}]},{"ID":"20240201213573-fl6dplq","Type":"NodeBlockquote","Properties":{"id":"20240201213573-fl6dplq","updated":"20240201213573"},"Children":[{"Type":"NodeBlockquoteMarker","Data":"\u003e ","Properties":{"id":""}},{"ID":"20240201213574-b7phfrt","Type":"NodeParagraph","Properties":{"id":"20240201213574-b7phfrt","updated":"20240201213574"},"Children":[{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"Cookies"},{"Type":"NodeText","Data":" 是某些网站为了辨别用户身份而储存在用户本地终端上的数据（通常经过加密）。"}]}]},{"ID":"20240201213575-1lggat1","Type":"NodeParagraph","Properties":{"id":"20240201213575-1lggat1","updated":"20240201213575"},"Children":[{"Type":"NodeText","Data":"简单来说："},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"strong code","TextMarkTextContent":"Cookie"},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"strong","TextMarkTextContent":" 存放在客户端，一般用来保存用户信息"},{"Type":"NodeText","Data":"。"}]},{"ID":"20240201213576-ihdwuje","Type":"NodeParagraph","Properties":{"id":"20240201213576-ihdwuje","updated":"20240201213576"},"Children":[{"Type":"NodeText","Data":"下面是 "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"Cookie"},{"Type":"NodeText","Data":" 的一些应用案例："}]},{"ID":"20240201213577-fyxqp6e","Type":"NodeList","ListData":{"Typ":1,"Tight":true,"Start":1,"Delimiter":46,"Padding":3,"Marker":"MQ==","Num":1},"Properties":{"id":"20240201213577-fyxqp6e","updated":"20240201213577"},"Children":[{"ID":"20240201213578-55rcgtd","Type":"NodeListItem","Data":"1","ListData":{"Typ":1,"Tight":true,"Start":1,"Delimiter":46,"Padding":3,"Marker":"MQ==","Num":1},"Properties":{"id":"20240201213578-55rcgtd","updated":"20240201213578"},"Children":[{"ID":"20240201213579-1snr575","Type":"NodeParagraph","Properties":{"id":"20240201213579-1snr575","updated":"20240201213579"},"Children":[{"Type":"NodeText","Data":"我们在 "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"Cookie"},{"Type":"NodeText","Data":" 中保存已经登录过的用户信息，下次访问网站的时候页面可以自动帮你登录的一些基本信息给填了。除此之外，"},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"Cookie"},{"Type":"NodeText","Data":" 还能保存用户首选项，主题和其他设置信息。"}]}]},{"ID":"20240201213580-6oh62ae","Type":"NodeListItem","Data":"2","ListData":{"Typ":1,"Tight":true,"Start":2,"Delimiter":46,"Padding":3,"Marker":"Mg==","Num":2},"Properties":{"id":"20240201213580-6oh62ae","updated":"20240201213580"},"Children":[{"ID":"20240201213581-hd0ea6l","Type":"NodeParagraph","Properties":{"id":"20240201213581-hd0ea6l","updated":"20240201213581"},"Children":[{"Type":"NodeText","Data":"使用 "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"Cookie"},{"Type":"NodeText","Data":" 保存 "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"SessionId"},{"Type":"NodeText","Data":" 或者 "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"Token"},{"Type":"NodeText","Data":" ，向后端发送请求的时候带上 "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"Cookie"},{"Type":"NodeText","Data":"，这样后端就能取到 "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"Session"},{"Type":"NodeText","Data":" 或者 "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"Token"},{"Type":"NodeText","Data":" 了。这样就能记录用户当前的状态了，因为 HTTP 协议是无状态的。"}]}]},{"ID":"20240201213582-izh04k9","Type":"NodeListItem","Data":"3","ListData":{"Typ":1,"Tight":true,"Start":3,"Delimiter":46,"Padding":3,"Marker":"Mw==","Num":3},"Properties":{"id":"20240201213582-izh04k9","updated":"20240201213582"},"Children":[{"ID":"20240201213583-ovmnl9a","Type":"NodeParagraph","Properties":{"id":"20240201213583-ovmnl9a","updated":"20240201213583"},"Children":[{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"Cookie"},{"Type":"NodeText","Data":" 还可以用来记录和分析用户行为。举个简单的例子你在网上购物的时候，因为 HTTP 协议是没有状态的，如果服务器想要获取你在某个页面的停留状态或者看了哪些商品，一种常用的实现方式就是将这些信息存放在 "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"Cookie"}]}]},{"ID":"20240201213584-d4lx7uf","Type":"NodeListItem","Data":"4","ListData":{"Typ":1,"Tight":true,"Start":4,"Delimiter":46,"Padding":3,"Marker":"NA==","Num":4},"Properties":{"id":"20240201213584-d4lx7uf","updated":"20240201213584"},"Children":[{"ID":"20240201213585-ftmo64p","Type":"NodeParagraph","Properties":{"id":"20240201213585-ftmo64p","updated":"20240201213585"},"Children":[{"Type":"NodeText","Data":"……"}]}]}]},{"ID":"20240201213586-7ieyruj","Type":"NodeHeading","HeadingLevel":2,"Properties":{"id":"20240201213586-7ieyruj","updated":"20240201213586"},"Children":[{"Type":"NodeHeadingC8hMarker","Data":"## ","Properties":{"id":""}},{"Type":"NodeText","Data":"如何在项目中使用 Cookie 呢？"}]},{"ID":"20240201213587-li2yjmj","Type":"NodeParagraph","Properties":{"id":"20240201213587-li2yjmj","updated":"20240201213587"},"Children":[{"Type":"NodeText","Data":"我这里以 Spring Boot 项目为例。"}]},{"ID":"20240201213588-cc99yxj","Type":"NodeParagraph","Properties":{"id":"20240201213588-cc99yxj","updated":"20240201213588"},"Children":[{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"strong","TextMarkTextContent":"1)设置 "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"strong code","TextMarkTextContent":"Cookie"},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"strong","TextMarkTextContent":" 返回给客户端"}]},{"ID":"20240201213589-c7o07xi","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"CodeBlockFenceChar":96,"CodeBlockFenceLen":3,"CodeBlockOpenFence":"YGBg","CodeBlockInfo":"amF2YQ==","CodeBlockCloseFence":"YGBg","Properties":{"id":"20240201213589-c7o07xi","updated":"20240201213589"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"amF2YQ==","Properties":{"id":""}},{"Type":"NodeCodeBlockCode","Data":"@GetMapping(\"/change-username\")\npublic String setCookie(HttpServletResponse response) {\n    // 创建一个 cookie\n    Cookie cookie = new Cookie(\"username\", \"Jovan\");\n    //设置 cookie过期时间\n    cookie.setMaxAge(7 * 24 * 60 * 60); // expires in 7 days\n    //添加到 response 中\n    response.addCookie(cookie);\n\n    return \"Username is changed!\";\n}\n","Properties":{"id":""}},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}}]},{"ID":"20240201213590-t6x6c4u","Type":"NodeParagraph","Properties":{"id":"20240201213590-t6x6c4u","updated":"20240201213590"},"Children":[{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"strong","TextMarkTextContent":"2) 使用 Spring 框架提供的 "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"strong code","TextMarkTextContent":"@CookieValue"},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"strong","TextMarkTextContent":" 注解获取特定的 cookie 的值"}]},{"ID":"20240201213591-u4k9u7u","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"CodeBlockFenceChar":96,"CodeBlockFenceLen":3,"CodeBlockOpenFence":"YGBg","CodeBlockInfo":"amF2YQ==","CodeBlockCloseFence":"YGBg","Properties":{"id":"20240201213591-u4k9u7u","updated":"20240201213591"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"amF2YQ==","Properties":{"id":""}},{"Type":"NodeCodeBlockCode","Data":"@GetMapping(\"/\")\npublic String readCookie(@CookieValue(value = \"username\", defaultValue = \"Atta\") String username) {\n    return \"Hey! My username is \" + username;\n}\n","Properties":{"id":""}},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}}]},{"ID":"20240201213592-t7gpj35","Type":"NodeParagraph","Properties":{"id":"20240201213592-t7gpj35","updated":"20240201213592"},"Children":[{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"strong","TextMarkTextContent":"3) 读取所有的 "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"strong code","TextMarkTextContent":"Cookie"},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"strong","TextMarkTextContent":" 值"}]},{"ID":"20240201213593-8dz7t5f","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"CodeBlockFenceChar":96,"CodeBlockFenceLen":3,"CodeBlockOpenFence":"YGBg","CodeBlockInfo":"amF2YQ==","CodeBlockCloseFence":"YGBg","Properties":{"id":"20240201213593-8dz7t5f","updated":"20240201213593"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"amF2YQ==","Properties":{"id":""}},{"Type":"NodeCodeBlockCode","Data":"@GetMapping(\"/all-cookies\")\npublic String readAllCookies(HttpServletRequest request) {\n\n    Cookie[] cookies = request.getCookies();\n    if (cookies != null) {\n        return Arrays.stream(cookies)\n                .map(c -\u003e c.getName() + \"=\" + c.getValue()).collect(Collectors.joining(\", \"));\n    }\n\n    return \"No cookies\";\n}\n","Properties":{"id":""}},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}}]},{"ID":"20240201213594-eu4z7ec","Type":"NodeParagraph","Properties":{"id":"20240201213594-eu4z7ec","updated":"20240201213594"},"Children":[{"Type":"NodeText","Data":"更多关于如何在 Spring Boot 中使用 "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"Cookie"},{"Type":"NodeText","Data":" 的内容可以查看这篇文章："},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"a","TextMarkAHref":"https://attacomsian.com/blog/cookies-spring-boot","TextMarkTextContent":"How to use cookies in Spring Boot"},{"Type":"NodeText","Data":" 。"}]},{"ID":"20240201213595-1k2bf8o","Type":"NodeHeading","HeadingLevel":2,"Properties":{"id":"20240201213595-1k2bf8o","updated":"20240201213595"},"Children":[{"Type":"NodeHeadingC8hMarker","Data":"## ","Properties":{"id":""}},{"Type":"NodeText","Data":"Cookie 和 Session 有什么区别？"}]},{"ID":"20240201213596-6ugbbyt","Type":"NodeParagraph","Properties":{"id":"20240201213596-6ugbbyt","updated":"20240201213596"},"Children":[{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"strong code","TextMarkTextContent":"Session"},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"strong","TextMarkTextContent":" 的主要作用就是通过服务端记录用户的状态。"},{"Type":"NodeText","Data":" 典型的场景是购物车，当你要添加商品到购物车的时候，系统不知道是哪个用户操作的，因为 HTTP 协议是无状态的。服务端给特定的用户创建特定的 "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"Session"},{"Type":"NodeText","Data":" 之后就可以标识这个用户并且跟踪这个用户了。"}]},{"ID":"20240201213597-u4ssocl","Type":"NodeParagraph","Properties":{"id":"20240201213597-u4ssocl","updated":"20240201213597"},"Children":[{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"Cookie"},{"Type":"NodeText","Data":" 数据保存在客户端(浏览器端)，"},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"Session"},{"Type":"NodeText","Data":" 数据保存在服务器端。相对来说 "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"Session"},{"Type":"NodeText","Data":" 安全性更高。如果使用 "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"Cookie"},{"Type":"NodeText","Data":" 的一些敏感信息不要写入 "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"Cookie"},{"Type":"NodeText","Data":" 中，最好能将 "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"Cookie"},{"Type":"NodeText","Data":" 信息加密然后使用到的时候再去服务器端解密。"}]},{"ID":"20240201213598-yh4b98h","Type":"NodeParagraph","Properties":{"id":"20240201213598-yh4b98h","updated":"20240201213598"},"Children":[{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"strong","TextMarkTextContent":"那么，如何使用 "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"strong code","TextMarkTextContent":"Session"},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"strong","TextMarkTextContent":" 进行身份验证？"}]},{"ID":"20240201213599-w2p9whj","Type":"NodeHeading","HeadingLevel":2,"Properties":{"id":"20240201213599-w2p9whj","updated":"20240201213599"},"Children":[{"Type":"NodeHeadingC8hMarker","Data":"## ","Properties":{"id":""}},{"Type":"NodeText","Data":"如何使用 Session-Cookie 方案进行身份验证？"}]},{"ID":"20240201213600-an1blhu","Type":"NodeParagraph","Properties":{"id":"20240201213600-an1blhu","updated":"20240201213600"},"Children":[{"Type":"NodeText","Data":"很多时候我们都是通过 "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"SessionID"},{"Type":"NodeText","Data":" 来实现特定的用户，"},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"SessionID"},{"Type":"NodeText","Data":" 一般会选择存放在 Redis 中。举个例子："}]},{"ID":"20240201213601-dit2szd","Type":"NodeList","ListData":{"Typ":1,"Tight":true,"Start":1,"Delimiter":46,"Padding":3,"Marker":"MQ==","Num":1},"Properties":{"id":"20240201213601-dit2szd","updated":"20240201213601"},"Children":[{"ID":"20240201213602-2crbgzj","Type":"NodeListItem","Data":"1","ListData":{"Typ":1,"Tight":true,"Start":1,"Delimiter":46,"Padding":3,"Marker":"MQ==","Num":1},"Properties":{"id":"20240201213602-2crbgzj","updated":"20240201213602"},"Children":[{"ID":"20240201213603-im3df8m","Type":"NodeParagraph","Properties":{"id":"20240201213603-im3df8m","updated":"20240201213603"},"Children":[{"Type":"NodeText","Data":"用户成功登陆系统，然后返回给客户端具有 "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"SessionID"},{"Type":"NodeText","Data":" 的 "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"Cookie"},{"Type":"NodeText","Data":" 。"}]}]},{"ID":"20240201213604-3q6nakq","Type":"NodeListItem","Data":"2","ListData":{"Typ":1,"Tight":true,"Start":2,"Delimiter":46,"Padding":3,"Marker":"Mg==","Num":2},"Properties":{"id":"20240201213604-3q6nakq","updated":"20240201213604"},"Children":[{"ID":"20240201213605-1nz4dph","Type":"NodeParagraph","Properties":{"id":"20240201213605-1nz4dph","updated":"20240201213605"},"Children":[{"Type":"NodeText","Data":"当用户向后端发起请求的时候会把 "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"SessionID"},{"Type":"NodeText","Data":" 带上，这样后端就知道你的身份状态了。"}]}]}]},{"ID":"20240201213606-rea460o","Type":"NodeParagraph","Properties":{"id":"20240201213606-rea460o","updated":"20240201213606"},"Children":[{"Type":"NodeText","Data":"关于这种认证方式更详细的过程如下："}]},{"ID":"20240201213607-kghvodw","Type":"NodeParagraph","Properties":{"id":"20240201213607-kghvodw","updated":"20240201213607"},"Children":[{"Type":"NodeImage","Properties":{"id":""},"Children":[{"Type":"NodeBang","Data":"!","Properties":{"id":""}},{"Type":"NodeOpenBracket","Data":"[","Properties":{"id":""}},{"Type":"NodeCloseBracket","Data":"]","Properties":{"id":""}},{"Type":"NodeOpenParen","Data":"(","Properties":{"id":""}},{"Type":"NodeLinkDest","Data":"https://oss.javaguide.cn/github/javaguide/system-design/security/session-cookie-authentication-process.png","Properties":{"id":""}},{"Type":"NodeCloseParen","Data":")","Properties":{"id":""}}]}]},{"ID":"20240201213608-kcyjgiw","Type":"NodeList","ListData":{"Typ":1,"Tight":true,"Start":1,"Delimiter":46,"Padding":3,"Marker":"MQ==","Num":1},"Properties":{"id":"20240201213608-kcyjgiw","updated":"20240201213608"},"Children":[{"ID":"20240201213609-g109svz","Type":"NodeListItem","Data":"1","ListData":{"Typ":1,"Tight":true,"Start":1,"Delimiter":46,"Padding":3,"Marker":"MQ==","Num":1},"Properties":{"id":"20240201213609-g109svz","updated":"20240201213609"},"Children":[{"ID":"20240201213610-yg4wdfn","Type":"NodeParagraph","Properties":{"id":"20240201213610-yg4wdfn","updated":"20240201213610"},"Children":[{"Type":"NodeText","Data":"用户向服务器发送用户名、密码、验证码用于登陆系统。"}]}]},{"ID":"20240201213611-0lw164u","Type":"NodeListItem","Data":"2","ListData":{"Typ":1,"Tight":true,"Start":2,"Delimiter":46,"Padding":3,"Marker":"Mg==","Num":2},"Properties":{"id":"20240201213611-0lw164u","updated":"20240201213611"},"Children":[{"ID":"20240201213612-13d20us","Type":"NodeParagraph","Properties":{"id":"20240201213612-13d20us","updated":"20240201213612"},"Children":[{"Type":"NodeText","Data":"服务器验证通过后，服务器为用户创建一个 "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"Session"},{"Type":"NodeText","Data":"，并将 "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"Session"},{"Type":"NodeText","Data":" 信息存储起来。"}]}]},{"ID":"20240201213613-mfp9xr7","Type":"NodeListItem","Data":"3","ListData":{"Typ":1,"Tight":true,"Start":3,"Delimiter":46,"Padding":3,"Marker":"Mw==","Num":3},"Properties":{"id":"20240201213613-mfp9xr7","updated":"20240201213613"},"Children":[{"ID":"20240201213614-09m0q5e","Type":"NodeParagraph","Properties":{"id":"20240201213614-09m0q5e","updated":"20240201213614"},"Children":[{"Type":"NodeText","Data":"服务器向用户返回一个 "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"SessionID"},{"Type":"NodeText","Data":"，写入用户的 "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"Cookie"},{"Type":"NodeText","Data":"。"}]}]},{"ID":"20240201213615-rsrgchg","Type":"NodeListItem","Data":"4","ListData":{"Typ":1,"Tight":true,"Start":4,"Delimiter":46,"Padding":3,"Marker":"NA==","Num":4},"Properties":{"id":"20240201213615-rsrgchg","updated":"20240201213615"},"Children":[{"ID":"20240201213616-gekl3ag","Type":"NodeParagraph","Properties":{"id":"20240201213616-gekl3ag","updated":"20240201213616"},"Children":[{"Type":"NodeText","Data":"当用户保持登录状态时，"},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"Cookie"},{"Type":"NodeText","Data":" 将与每个后续请求一起被发送出去。"}]}]},{"ID":"20240201213617-bpjiwrg","Type":"NodeListItem","Data":"5","ListData":{"Typ":1,"Tight":true,"Start":5,"Delimiter":46,"Padding":3,"Marker":"NQ==","Num":5},"Properties":{"id":"20240201213617-bpjiwrg","updated":"20240201213617"},"Children":[{"ID":"20240201213618-m7yzn3i","Type":"NodeParagraph","Properties":{"id":"20240201213618-m7yzn3i","updated":"20240201213618"},"Children":[{"Type":"NodeText","Data":"服务器可以将存储在 "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"Cookie"},{"Type":"NodeText","Data":" 上的 "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"SessionID"},{"Type":"NodeText","Data":" 与存储在内存中或者数据库中的 "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"Session"},{"Type":"NodeText","Data":" 信息进行比较，以验证用户的身份，返回给用户客户端响应信息的时候会附带用户当前的状态。"}]}]}]},{"ID":"20240201213619-k9ilcy2","Type":"NodeParagraph","Properties":{"id":"20240201213619-k9ilcy2","updated":"20240201213619"},"Children":[{"Type":"NodeText","Data":"使用 "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"Session"},{"Type":"NodeText","Data":" 的时候需要注意下面几个点："}]},{"ID":"20240201213620-4rz1zcv","Type":"NodeList","ListData":{"Tight":true,"BulletChar":45,"Padding":2,"Marker":"LQ==","Num":-1},"Properties":{"id":"20240201213620-4rz1zcv","updated":"20240201213620"},"Children":[{"ID":"20240201213621-2wobiq9","Type":"NodeListItem","Data":"-","ListData":{"Tight":true,"BulletChar":45,"Padding":2,"Marker":"LQ==","Num":-1},"Properties":{"id":"20240201213621-2wobiq9","updated":"20240201213621"},"Children":[{"ID":"20240201213622-kjjx560","Type":"NodeParagraph","Properties":{"id":"20240201213622-kjjx560","updated":"20240201213622"},"Children":[{"Type":"NodeText","Data":"依赖 "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"Session"},{"Type":"NodeText","Data":" 的关键业务一定要确保客户端开启了 "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"Cookie"},{"Type":"NodeText","Data":"。"}]}]},{"ID":"20240201213623-0h0v2dt","Type":"NodeListItem","Data":"-","ListData":{"Tight":true,"BulletChar":45,"Padding":2,"Marker":"LQ==","Num":-1},"Properties":{"id":"20240201213623-0h0v2dt","updated":"20240201213623"},"Children":[{"ID":"20240201213624-9ye0mlb","Type":"NodeParagraph","Properties":{"id":"20240201213624-9ye0mlb","updated":"20240201213624"},"Children":[{"Type":"NodeText","Data":"注意 "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"Session"},{"Type":"NodeText","Data":" 的过期时间。"}]}]}]},{"ID":"20240201213625-uavg2og","Type":"NodeParagraph","Properties":{"id":"20240201213625-uavg2og","updated":"20240201213625"},"Children":[{"Type":"NodeText","Data":"另外，Spring Session 提供了一种跨多个应用程序或实例管理用户会话信息的机制。如果想详细了解可以查看下面几篇很不错的文章："}]},{"ID":"20240201213626-bq3qlre","Type":"NodeList","ListData":{"Tight":true,"BulletChar":45,"Padding":2,"Marker":"LQ==","Num":-1},"Properties":{"id":"20240201213626-bq3qlre","updated":"20240201213626"},"Children":[{"ID":"20240201213627-tv0e4r6","Type":"NodeListItem","Data":"-","ListData":{"Tight":true,"BulletChar":45,"Padding":2,"Marker":"LQ==","Num":-1},"Properties":{"id":"20240201213627-tv0e4r6","updated":"20240201213627"},"Children":[{"ID":"20240201213628-q7tqu92","Type":"NodeParagraph","Properties":{"id":"20240201213628-q7tqu92","updated":"20240201213628"},"Children":[{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"a","TextMarkAHref":"https://codeboje.de/spring-Session-tutorial/","TextMarkTextContent":"Getting Started with Spring Session"}]}]},{"ID":"20240201213629-e12cypd","Type":"NodeListItem","Data":"-","ListData":{"Tight":true,"BulletChar":45,"Padding":2,"Marker":"LQ==","Num":-1},"Properties":{"id":"20240201213629-e12cypd","updated":"20240201213629"},"Children":[{"ID":"20240201213630-6h92o6k","Type":"NodeParagraph","Properties":{"id":"20240201213630-6h92o6k","updated":"20240201213630"},"Children":[{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"a","TextMarkAHref":"https://www.baeldung.com/spring-Session","TextMarkTextContent":"Guide to Spring Session"}]}]},{"ID":"20240201213631-xf87yak","Type":"NodeListItem","Data":"-","ListData":{"Tight":true,"BulletChar":45,"Padding":2,"Marker":"LQ==","Num":-1},"Properties":{"id":"20240201213631-xf87yak","updated":"20240201213631"},"Children":[{"ID":"20240201213632-hq9269k","Type":"NodeParagraph","Properties":{"id":"20240201213632-hq9269k","updated":"20240201213632"},"Children":[{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"a","TextMarkAHref":"https://medium.com/@gvnix/sticky-Sessions-with-spring-Session-redis-bdc6f7438cc3","TextMarkTextContent":"Sticky Sessions with Spring Session \u0026amp; Redis"}]}]}]},{"ID":"20240201213633-0s4fce6","Type":"NodeHeading","HeadingLevel":2,"Properties":{"id":"20240201213633-0s4fce6","updated":"20240201213633"},"Children":[{"Type":"NodeHeadingC8hMarker","Data":"## ","Properties":{"id":""}},{"Type":"NodeText","Data":"多服务器节点下 Session-Cookie 方案如何做？"}]},{"ID":"20240201213634-gb6wwwf","Type":"NodeParagraph","Properties":{"id":"20240201213634-gb6wwwf","updated":"20240201213634"},"Children":[{"Type":"NodeText","Data":"Session-Cookie 方案在单体环境是一个非常好的身份认证方案。但是，当服务器水平拓展成多节点时，Session-Cookie 方案就要面临挑战了。"}]},{"ID":"20240201213635-2v03ptg","Type":"NodeParagraph","Properties":{"id":"20240201213635-2v03ptg","updated":"20240201213635"},"Children":[{"Type":"NodeText","Data":"举个例子：假如我们部署了两份相同的服务 A，B，用户第一次登陆的时候 ，Nginx 通过负载均衡机制将用户请求转发到 A 服务器，此时用户的 Session 信息保存在 A 服务器。结果，用户第二次访问的时候 Nginx 将请求路由到 B 服务器，由于 B 服务器没有保存 用户的 Session 信息，导致用户需要重新进行登陆。"}]},{"ID":"20240201213636-f0upeww","Type":"NodeParagraph","Properties":{"id":"20240201213636-f0upeww","updated":"20240201213636"},"Children":[{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"strong","TextMarkTextContent":"我们应该如何避免上面这种情况的出现呢？"}]},{"ID":"20240201213637-hvwyqei","Type":"NodeParagraph","Properties":{"id":"20240201213637-hvwyqei","updated":"20240201213637"},"Children":[{"Type":"NodeText","Data":"有几个方案可供大家参考："}]},{"ID":"20240201213638-hzgom9a","Type":"NodeList","ListData":{"Typ":1,"Tight":true,"Start":1,"Delimiter":46,"Padding":3,"Marker":"MQ==","Num":1},"Properties":{"id":"20240201213638-hzgom9a","updated":"20240201213638"},"Children":[{"ID":"20240201213639-iznorv7","Type":"NodeListItem","Data":"1","ListData":{"Typ":1,"Tight":true,"Start":1,"Delimiter":46,"Padding":3,"Marker":"MQ==","Num":1},"Properties":{"id":"20240201213639-iznorv7","updated":"20240201213639"},"Children":[{"ID":"20240201213640-3d68pcl","Type":"NodeParagraph","Properties":{"id":"20240201213640-3d68pcl","updated":"20240201213640"},"Children":[{"Type":"NodeText","Data":"某个用户的所有请求都通过特性的哈希策略分配给同一个服务器处理。这样的话，每个服务器都保存了一部分用户的 Session 信息。服务器宕机，其保存的所有 Session 信息就完全丢失了。"}]}]},{"ID":"20240201213641-rald9z5","Type":"NodeListItem","Data":"2","ListData":{"Typ":1,"Tight":true,"Start":2,"Delimiter":46,"Padding":3,"Marker":"Mg==","Num":2},"Properties":{"id":"20240201213641-rald9z5","updated":"20240201213641"},"Children":[{"ID":"20240201213642-soe74wu","Type":"NodeParagraph","Properties":{"id":"20240201213642-soe74wu","updated":"20240201213642"},"Children":[{"Type":"NodeText","Data":"每一个服务器保存的 Session 信息都是互相同步的，也就是说每一个服务器都保存了全量的 Session 信息。每当一个服务器的 Session 信息发生变化，我们就将其同步到其他服务器。这种方案成本太大，并且，节点越多时，同步成本也越高。"}]}]},{"ID":"20240201213643-amriuca","Type":"NodeListItem","Data":"3","ListData":{"Typ":1,"Tight":true,"Start":3,"Delimiter":46,"Padding":3,"Marker":"Mw==","Num":3},"Properties":{"id":"20240201213643-amriuca","updated":"20240201213643"},"Children":[{"ID":"20240201213644-66ztpr7","Type":"NodeParagraph","Properties":{"id":"20240201213644-66ztpr7","updated":"20240201213644"},"Children":[{"Type":"NodeText","Data":"单独使用一个所有服务器都能访问到的数据节点（比如缓存）来存放 Session 信息。为了保证高可用，数据节点尽量要避免是单点。"}]}]},{"ID":"20240201213645-iiwe09b","Type":"NodeListItem","Data":"4","ListData":{"Typ":1,"Tight":true,"Start":4,"Delimiter":46,"Padding":3,"Marker":"NA==","Num":4},"Properties":{"id":"20240201213645-iiwe09b","updated":"20240201213645"},"Children":[{"ID":"20240201213646-iat8fax","Type":"NodeParagraph","Properties":{"id":"20240201213646-iat8fax","updated":"20240201213646"},"Children":[{"Type":"NodeText","Data":"Spring Session 是一个用于在多个服务器之间管理会话的项目。它可以与多种后端存储（如 Redis、MongoDB 等）集成，从而实现分布式会话管理。通过 Spring Session，可以将会话数据存储在共享的外部存储中，以实现跨服务器的会话同步和共享。"}]}]}]},{"ID":"20240201213647-i7h2hu2","Type":"NodeHeading","HeadingLevel":2,"Properties":{"id":"20240201213647-i7h2hu2","updated":"20240201213647"},"Children":[{"Type":"NodeHeadingC8hMarker","Data":"## ","Properties":{"id":""}},{"Type":"NodeText","Data":"如果没有 Cookie 的话 Session 还能用吗？"}]},{"ID":"20240201213648-xwy6lam","Type":"NodeParagraph","Properties":{"id":"20240201213648-xwy6lam","updated":"20240201213648"},"Children":[{"Type":"NodeText","Data":"这是一道经典的面试题！"}]},{"ID":"20240201213649-lguw67x","Type":"NodeParagraph","Properties":{"id":"20240201213649-lguw67x","updated":"20240201213649"},"Children":[{"Type":"NodeText","Data":"一般是通过 "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"Cookie"},{"Type":"NodeText","Data":" 来保存 "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"SessionID"},{"Type":"NodeText","Data":" ，假如你使用了 "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"Cookie"},{"Type":"NodeText","Data":" 保存 "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"SessionID"},{"Type":"NodeText","Data":" 的方案的话， 如果客户端禁用了 "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"Cookie"},{"Type":"NodeText","Data":"，那么 "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"Session"},{"Type":"NodeText","Data":" 就无法正常工作。"}]},{"ID":"20240201213650-x61hha0","Type":"NodeParagraph","Properties":{"id":"20240201213650-x61hha0","updated":"20240201213650"},"Children":[{"Type":"NodeText","Data":"但是，并不是没有 "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"Cookie"},{"Type":"NodeText","Data":" 之后就不能用 "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"Session"},{"Type":"NodeText","Data":" 了，比如你可以将 "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"SessionID"},{"Type":"NodeText","Data":" 放在请求的 "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"url"},{"Type":"NodeText","Data":" 里面"},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"https://javaguide.cn/?Session_id=xxx"},{"Type":"NodeText","Data":" 。这种方案的话可行，但是安全性和用户体验感降低。当然，为了安全你也可以对 "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"SessionID"},{"Type":"NodeText","Data":" 进行一次加密之后再传入后端。"}]},{"ID":"20240201213651-w0e553w","Type":"NodeHeading","HeadingLevel":2,"Properties":{"id":"20240201213651-w0e553w","updated":"20240201213651"},"Children":[{"Type":"NodeHeadingC8hMarker","Data":"## ","Properties":{"id":""}},{"Type":"NodeText","Data":"为什么 Cookie 无法防止 CSRF 攻击，而 Token 可以？"}]},{"ID":"20240201213652-chc6n0d","Type":"NodeParagraph","Properties":{"id":"20240201213652-chc6n0d","updated":"20240201213652"},"Children":[{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"strong","TextMarkTextContent":"CSRF(Cross Site Request Forgery)"},{"Type":"NodeText","Data":" 一般被翻译为 "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"strong","TextMarkTextContent":"跨站请求伪造"},{"Type":"NodeText","Data":" 。那么什么是 "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"strong","TextMarkTextContent":"跨站请求伪造"},{"Type":"NodeText","Data":" 呢？说简单用你的身份去发送一些对你不友好的请求。举个简单的例子："}]},{"ID":"20240201213653-euym1dq","Type":"NodeParagraph","Properties":{"id":"20240201213653-euym1dq","updated":"20240201213653"},"Children":[{"Type":"NodeText","Data":"小壮登录了某网上银行，他来到了网上银行的帖子区，看到一个帖子下面有一个链接写着“科学理财，年盈利率过万”，小壮好奇的点开了这个链接，结果发现自己的账户少了 10000 元。这是这么回事呢？原来黑客在链接中藏了一个请求，这个请求直接利用小壮的身份给银行发送了一个转账请求,也就是通过你的 Cookie 向银行发出请求。"}]},{"ID":"20240201213654-1pcdvaf","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"CodeBlockFenceChar":96,"CodeBlockFenceLen":3,"CodeBlockOpenFence":"YGBg","CodeBlockInfo":"aHRtbA==","CodeBlockCloseFence":"YGBg","Properties":{"id":"20240201213654-1pcdvaf","updated":"20240201213654"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"aHRtbA==","Properties":{"id":""}},{"Type":"NodeCodeBlockCode","Data":"\u003ca src=http://www.mybank.com/Transfer?bankId=11\u0026money=10000\u003e科学理财，年盈利率过万\u003c/\u003e\n","Properties":{"id":""}},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}}]},{"ID":"20240201213655-gqphmyp","Type":"NodeParagraph","Properties":{"id":"20240201213655-gqphmyp","updated":"20240201213655"},"Children":[{"Type":"NodeText","Data":"上面也提到过，进行 "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"Session"},{"Type":"NodeText","Data":" 认证的时候，我们一般使用 "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"Cookie"},{"Type":"NodeText","Data":" 来存储 "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"SessionId"},{"Type":"NodeText","Data":",当我们登陆后后端生成一个 "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"SessionId"},{"Type":"NodeText","Data":" 放在 Cookie 中返回给客户端，服务端通过 Redis 或者其他存储工具记录保存着这个 "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"SessionId"},{"Type":"NodeText","Data":"，客户端登录以后每次请求都会带上这个 "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"SessionId"},{"Type":"NodeText","Data":"，服务端通过这个 "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"SessionId"},{"Type":"NodeText","Data":" 来标示你这个人。如果别人通过 "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"Cookie"},{"Type":"NodeText","Data":" 拿到了 "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"SessionId"},{"Type":"NodeText","Data":" 后就可以代替你的身份访问系统了。"}]},{"ID":"20240201213656-w04z0xa","Type":"NodeParagraph","Properties":{"id":"20240201213656-w04z0xa","updated":"20240201213656"},"Children":[{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"Session"},{"Type":"NodeText","Data":" 认证中 "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"Cookie"},{"Type":"NodeText","Data":" 中的 "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"SessionId"},{"Type":"NodeText","Data":" 是由浏览器发送到服务端的，借助这个特性，攻击者就可以通过让用户误点攻击链接，达到攻击效果。"}]},{"ID":"20240201213657-xreevo3","Type":"NodeParagraph","Properties":{"id":"20240201213657-xreevo3","updated":"20240201213657"},"Children":[{"Type":"NodeText","Data":"但是，我们使用 "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"Token"},{"Type":"NodeText","Data":" 的话就不会存在这个问题，在我们登录成功获得 "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"Token"},{"Type":"NodeText","Data":" 之后，一般会选择存放在 "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"localStorage"},{"Type":"NodeText","Data":" （浏览器本地存储）中。然后我们在前端通过某些方式会给每个发到后端的请求加上这个 "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"Token"},{"Type":"NodeText","Data":",这样就不会出现 CSRF 漏洞的问题。因为，即使有个你点击了非法链接发送了请求到服务端，这个非法请求是不会携带 "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"Token"},{"Type":"NodeText","Data":" 的，所以这个请求将是非法的。"}]},{"ID":"20240201213658-61azh5t","Type":"NodeParagraph","Properties":{"id":"20240201213658-61azh5t","updated":"20240201213658"},"Children":[{"Type":"NodeImage","Properties":{"id":""},"Children":[{"Type":"NodeBang","Data":"!","Properties":{"id":""}},{"Type":"NodeOpenBracket","Data":"[","Properties":{"id":""}},{"Type":"NodeCloseBracket","Data":"]","Properties":{"id":""}},{"Type":"NodeOpenParen","Data":"(","Properties":{"id":""}},{"Type":"NodeLinkDest","Data":"https://oss.javaguide.cn/github/javaguide/system-design/security/20210615161108272.png","Properties":{"id":""}},{"Type":"NodeCloseParen","Data":")","Properties":{"id":""}}]}]},{"ID":"20240201213659-apjmxi6","Type":"NodeParagraph","Properties":{"id":"20240201213659-apjmxi6","updated":"20240201213659"},"Children":[{"Type":"NodeText","Data":"需要注意的是：不论是 "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"Cookie"},{"Type":"NodeText","Data":" 还是 "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"Token"},{"Type":"NodeText","Data":" 都无法避免 "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"strong","TextMarkTextContent":"跨站脚本攻击（Cross Site Scripting）XSS"},{"Type":"NodeText","Data":" 。"}]},{"ID":"20240201213660-yfjnzrn","Type":"NodeBlockquote","Properties":{"id":"20240201213660-yfjnzrn","updated":"20240201213660"},"Children":[{"Type":"NodeBlockquoteMarker","Data":"\u003e ","Properties":{"id":""}},{"ID":"20240201213661-f6pv4er","Type":"NodeParagraph","Properties":{"id":"20240201213661-f6pv4er","updated":"20240201213661"},"Children":[{"Type":"NodeText","Data":"跨站脚本攻击（Cross Site Scripting）缩写为 CSS 但这会与层叠样式表（Cascading Style Sheets，CSS）的缩写混淆。因此，有人将跨站脚本攻击缩写为 XSS。"}]}]},{"ID":"20240201213662-mn0uulh","Type":"NodeParagraph","Properties":{"id":"20240201213662-mn0uulh","updated":"20240201213662"},"Children":[{"Type":"NodeText","Data":"XSS 中攻击者会用各种方式将恶意代码注入到其他用户的页面中。就可以通过脚本盗用信息比如 "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"Cookie"},{"Type":"NodeText","Data":" 。"}]},{"ID":"20240201213663-c0eq7qf","Type":"NodeParagraph","Properties":{"id":"20240201213663-c0eq7qf","updated":"20240201213663"},"Children":[{"Type":"NodeText","Data":"推荐阅读："},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"a","TextMarkAHref":"https://tech.meituan.com/2018/10/11/fe-security-csrf.html","TextMarkTextContent":"如何防止 CSRF 攻击？—美团技术团队"}]},{"ID":"20240201213664-h7rd6zc","Type":"NodeHeading","HeadingLevel":2,"Properties":{"id":"20240201213664-h7rd6zc","updated":"20240201213664"},"Children":[{"Type":"NodeHeadingC8hMarker","Data":"## ","Properties":{"id":""}},{"Type":"NodeText","Data":"什么是 JWT?JWT 由哪些部分组成？"}]},{"ID":"20240201213665-9tpqpyd","Type":"NodeParagraph","Properties":{"id":"20240201213665-9tpqpyd","updated":"20240201213665"},"Children":[{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"a","TextMarkAHref":"./jwt-intro.md","TextMarkTextContent":"JWT 基础概念详解"}]},{"ID":"20240201213666-6tbrz3k","Type":"NodeHeading","HeadingLevel":2,"Properties":{"id":"20240201213666-6tbrz3k","updated":"20240201213666"},"Children":[{"Type":"NodeHeadingC8hMarker","Data":"## ","Properties":{"id":""}},{"Type":"NodeText","Data":"如何基于 JWT 进行身份验证？ 如何防止 JWT 被篡改？"}]},{"ID":"20240201213667-ykmrygm","Type":"NodeParagraph","Properties":{"id":"20240201213667-ykmrygm","updated":"20240201213667"},"Children":[{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"a","TextMarkAHref":"./jwt-intro.md","TextMarkTextContent":"JWT 基础概念详解"}]},{"ID":"20240201213668-k53ppd3","Type":"NodeHeading","HeadingLevel":2,"Properties":{"id":"20240201213668-k53ppd3","updated":"20240201213668"},"Children":[{"Type":"NodeHeadingC8hMarker","Data":"## ","Properties":{"id":""}},{"Type":"NodeText","Data":"什么是 SSO?"}]},{"ID":"20240201213669-t8jt4lm","Type":"NodeParagraph","Properties":{"id":"20240201213669-t8jt4lm","updated":"20240201213669"},"Children":[{"Type":"NodeText","Data":"SSO(Single Sign On)即单点登录说的是用户登陆多个子系统的其中一个就有权访问与其相关的其他系统。举个例子我们在登陆了京东金融之后，我们同时也成功登陆京东的京东超市、京东国际、京东生鲜等子系统。"}]},{"ID":"20240201213670-9tzmzdu","Type":"NodeParagraph","Properties":{"id":"20240201213670-9tzmzdu","updated":"20240201213670"},"Children":[{"Type":"NodeImage","Properties":{"id":""},"Children":[{"Type":"NodeBang","Data":"!","Properties":{"id":""}},{"Type":"NodeOpenBracket","Data":"[","Properties":{"id":""}},{"Type":"NodeLinkText","Data":"SSO 示意图","Properties":{"id":""}},{"Type":"NodeCloseBracket","Data":"]","Properties":{"id":""}},{"Type":"NodeOpenParen","Data":"(","Properties":{"id":""}},{"Type":"NodeLinkDest","Data":"https://oss.javaguide.cn/github/javaguide/system-design/security/sso.png","Properties":{"id":""}},{"Type":"NodeCloseParen","Data":")","Properties":{"id":""}}]}]},{"ID":"20240201213671-9d62sf4","Type":"NodeHeading","HeadingLevel":2,"Properties":{"id":"20240201213671-9d62sf4","updated":"20240201213671"},"Children":[{"Type":"NodeHeadingC8hMarker","Data":"## ","Properties":{"id":""}},{"Type":"NodeText","Data":"SSO 有什么好处？"}]},{"ID":"20240201213672-dn09srv","Type":"NodeList","ListData":{"Tight":true,"BulletChar":45,"Padding":2,"Marker":"LQ==","Num":-1},"Properties":{"id":"20240201213672-dn09srv","updated":"20240201213672"},"Children":[{"ID":"20240201213673-1g3gmno","Type":"NodeListItem","Data":"-","ListData":{"Tight":true,"BulletChar":45,"Padding":2,"Marker":"LQ==","Num":-1},"Properties":{"id":"20240201213673-1g3gmno","updated":"20240201213673"},"Children":[{"ID":"20240201213674-bzqgfcy","Type":"NodeParagraph","Properties":{"id":"20240201213674-bzqgfcy","updated":"20240201213674"},"Children":[{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"strong","TextMarkTextContent":"用户角度"},{"Type":"NodeText","Data":" :用户能够做到一次登录多次使用，无需记录多套用户名和密码，省心。"}]}]},{"ID":"20240201213675-vfjsoft","Type":"NodeListItem","Data":"-","ListData":{"Tight":true,"BulletChar":45,"Padding":2,"Marker":"LQ==","Num":-1},"Properties":{"id":"20240201213675-vfjsoft","updated":"20240201213675"},"Children":[{"ID":"20240201213676-b192yef","Type":"NodeParagraph","Properties":{"id":"20240201213676-b192yef","updated":"20240201213676"},"Children":[{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"strong","TextMarkTextContent":"系统管理员角度"},{"Type":"NodeText","Data":" : 管理员只需维护好一个统一的账号中心就可以了，方便。"}]}]},{"ID":"20240201213677-lcyjn94","Type":"NodeListItem","Data":"-","ListData":{"Tight":true,"BulletChar":45,"Padding":2,"Marker":"LQ==","Num":-1},"Properties":{"id":"20240201213677-lcyjn94","updated":"20240201213677"},"Children":[{"ID":"20240201213678-sz82cfl","Type":"NodeParagraph","Properties":{"id":"20240201213678-sz82cfl","updated":"20240201213678"},"Children":[{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"strong","TextMarkTextContent":"新系统开发角度:"},{"Type":"NodeText","Data":" 新系统开发时只需直接对接统一的账号中心即可，简化开发流程，省时。"}]}]}]},{"ID":"20240201213679-atw1kro","Type":"NodeHeading","HeadingLevel":2,"Properties":{"id":"20240201213679-atw1kro","updated":"20240201213679"},"Children":[{"Type":"NodeHeadingC8hMarker","Data":"## ","Properties":{"id":""}},{"Type":"NodeText","Data":"如何设计实现一个 SSO 系统?"}]},{"ID":"20240201213680-wo5ov3p","Type":"NodeParagraph","Properties":{"id":"20240201213680-wo5ov3p","updated":"20240201213680"},"Children":[{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"a","TextMarkAHref":"./sso-intro.md","TextMarkTextContent":"SSO 单点登录详解"}]},{"ID":"20240201213681-2ucrm4l","Type":"NodeHeading","HeadingLevel":2,"Properties":{"id":"20240201213681-2ucrm4l","updated":"20240201213681"},"Children":[{"Type":"NodeHeadingC8hMarker","Data":"## ","Properties":{"id":""}},{"Type":"NodeText","Data":"什么是 OAuth 2.0？"}]},{"ID":"20240201213682-23xw99u","Type":"NodeParagraph","Properties":{"id":"20240201213682-23xw99u","updated":"20240201213682"},"Children":[{"Type":"NodeText","Data":"OAuth 是一个行业的标准授权协议，主要用来授权第三方应用获取有限的权限。而 OAuth 2.0 是对 OAuth 1.0 的完全重新设计，OAuth 2.0 更快，更容易实现，OAuth 1.0 已经被废弃。详情请见："},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"a","TextMarkAHref":"https://tools.ietf.org/html/rfc6749","TextMarkTextContent":"rfc6749"},{"Type":"NodeText","Data":"。"}]},{"ID":"20240201213683-tngx9b2","Type":"NodeParagraph","Properties":{"id":"20240201213683-tngx9b2","updated":"20240201213683"},"Children":[{"Type":"NodeText","Data":"实际上它就是一种授权机制，它的最终目的是为第三方应用颁发一个有时效性的令牌 Token，使得第三方应用能够通过该令牌获取相关的资源。"}]},{"ID":"20240201213684-g1rxbey","Type":"NodeParagraph","Properties":{"id":"20240201213684-g1rxbey","updated":"20240201213684"},"Children":[{"Type":"NodeText","Data":"OAuth 2.0 比较常用的场景就是第三方登录，当你的网站接入了第三方登录的时候一般就是使用的 OAuth 2.0 协议。"}]},{"ID":"20240201213685-crs7mxp","Type":"NodeParagraph","Properties":{"id":"20240201213685-crs7mxp","updated":"20240201213685"},"Children":[{"Type":"NodeText","Data":"另外，现在 OAuth 2.0 也常见于支付场景（微信支付、支付宝支付）和开发平台（微信开放平台、阿里开放平台等等）。"}]},{"ID":"20240201213686-x6kq7af","Type":"NodeParagraph","Properties":{"id":"20240201213686-x6kq7af","updated":"20240201213686"},"Children":[{"Type":"NodeText","Data":"下图是 "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"a","TextMarkAHref":"https://api.slack.com/legacy/oauth","TextMarkTextContent":"Slack OAuth 2.0 第三方登录"},{"Type":"NodeText","Data":"的示意图："}]},{"ID":"20240201213687-5eaelta","Type":"NodeParagraph","Properties":{"id":"20240201213687-5eaelta","updated":"20240201213687"},"Children":[{"Type":"NodeImage","Properties":{"id":""},"Children":[{"Type":"NodeBang","Data":"!","Properties":{"id":""}},{"Type":"NodeOpenBracket","Data":"[","Properties":{"id":""}},{"Type":"NodeCloseBracket","Data":"]","Properties":{"id":""}},{"Type":"NodeOpenParen","Data":"(","Properties":{"id":""}},{"Type":"NodeLinkDest","Data":"https://oss.javaguide.cn/github/javaguide/system-design/security/20210615151716340.png","Properties":{"id":""}},{"Type":"NodeCloseParen","Data":")","Properties":{"id":""}}]}]},{"ID":"20240201213688-kptl900","Type":"NodeParagraph","Properties":{"id":"20240201213688-kptl900","updated":"20240201213688"},"Children":[{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"strong","TextMarkTextContent":"推荐阅读："}]},{"ID":"20240201213689-foo7qyd","Type":"NodeList","ListData":{"Tight":true,"BulletChar":45,"Padding":2,"Marker":"LQ==","Num":-1},"Properties":{"id":"20240201213689-foo7qyd","updated":"20240201213689"},"Children":[{"ID":"20240201213690-qjzkxct","Type":"NodeListItem","Data":"-","ListData":{"Tight":true,"BulletChar":45,"Padding":2,"Marker":"LQ==","Num":-1},"Properties":{"id":"20240201213690-qjzkxct","updated":"20240201213690"},"Children":[{"ID":"20240201213691-path4s7","Type":"NodeParagraph","Properties":{"id":"20240201213691-path4s7","updated":"20240201213691"},"Children":[{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"a","TextMarkAHref":"http://www.ruanyifeng.com/blog/2019/04/oauth_design.html","TextMarkTextContent":"OAuth 2.0 的一个简单解释"}]}]},{"ID":"20240201213692-4p1i9uv","Type":"NodeListItem","Data":"-","ListData":{"Tight":true,"BulletChar":45,"Padding":2,"Marker":"LQ==","Num":-1},"Properties":{"id":"20240201213692-4p1i9uv","updated":"20240201213692"},"Children":[{"ID":"20240201213693-2zpjq0m","Type":"NodeParagraph","Properties":{"id":"20240201213693-2zpjq0m","updated":"20240201213693"},"Children":[{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"a","TextMarkAHref":"https://deepzz.com/post/what-is-oauth2-protocol.html","TextMarkTextContent":"10 分钟理解什么是 OAuth 2.0 协议"}]}]},{"ID":"20240201213694-ork098r","Type":"NodeListItem","Data":"-","ListData":{"Tight":true,"BulletChar":45,"Padding":2,"Marker":"LQ==","Num":-1},"Properties":{"id":"20240201213694-ork098r","updated":"20240201213694"},"Children":[{"ID":"20240201213695-19a823h","Type":"NodeParagraph","Properties":{"id":"20240201213695-19a823h","updated":"20240201213695"},"Children":[{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"a","TextMarkAHref":"http://www.ruanyifeng.com/blog/2019/04/oauth-grant-types.html","TextMarkTextContent":"OAuth 2.0 的四种方式"}]}]},{"ID":"20240201213696-47x01s9","Type":"NodeListItem","Data":"-","ListData":{"Tight":true,"BulletChar":45,"Padding":2,"Marker":"LQ==","Num":-1},"Properties":{"id":"20240201213696-47x01s9","updated":"20240201213696"},"Children":[{"ID":"20240201213697-gnukub4","Type":"NodeParagraph","Properties":{"id":"20240201213697-gnukub4","updated":"20240201213697"},"Children":[{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"a","TextMarkAHref":"http://www.ruanyifeng.com/blog/2019/04/github-oauth.html","TextMarkTextContent":"GitHub OAuth 第三方登录示例教程"}]}]}]},{"ID":"20240201213698-dxvgi9g","Type":"NodeHeading","HeadingLevel":2,"Properties":{"id":"20240201213698-dxvgi9g","updated":"20240201213698"},"Children":[{"Type":"NodeHeadingC8hMarker","Data":"## ","Properties":{"id":""}},{"Type":"NodeText","Data":"参考"}]},{"ID":"20240201213699-i79oy48","Type":"NodeList","ListData":{"Tight":true,"BulletChar":45,"Padding":2,"Marker":"LQ==","Num":-1},"Properties":{"id":"20240201213699-i79oy48","updated":"20240201213699"},"Children":[{"ID":"20240201213700-alscilr","Type":"NodeListItem","Data":"-","ListData":{"Tight":true,"BulletChar":45,"Padding":2,"Marker":"LQ==","Num":-1},"Properties":{"id":"20240201213700-alscilr","updated":"20240201213700"},"Children":[{"ID":"20240201213701-zdxpe3z","Type":"NodeParagraph","Properties":{"id":"20240201213701-zdxpe3z","updated":"20240201213701"},"Children":[{"Type":"NodeText","Data":"不要用 JWT 替代 session 管理（上）：全面了解 Token,JWT,OAuth,SAML,SSO："},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"a","TextMarkAHref":"https://zhuanlan.zhihu.com/p/38942172","TextMarkTextContent":"https://zhuanlan.zhihu.com/p/38942172"}]}]},{"ID":"20240201213702-96xyux0","Type":"NodeListItem","Data":"-","ListData":{"Tight":true,"BulletChar":45,"Padding":2,"Marker":"LQ==","Num":-1},"Properties":{"id":"20240201213702-96xyux0","updated":"20240201213702"},"Children":[{"ID":"20240201213703-8zktd1r","Type":"NodeParagraph","Properties":{"id":"20240201213703-8zktd1r","updated":"20240201213703"},"Children":[{"Type":"NodeText","Data":"Introduction to JSON Web Tokens："},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"a","TextMarkAHref":"https://jwt.io/introduction","TextMarkTextContent":"https://jwt.io/introduction"}]}]},{"ID":"20240201213704-yhs8vbq","Type":"NodeListItem","Data":"-","ListData":{"Tight":true,"BulletChar":45,"Padding":2,"Marker":"LQ==","Num":-1},"Properties":{"id":"20240201213704-yhs8vbq","updated":"20240201213704"},"Children":[{"ID":"20240201213705-byo18e0","Type":"NodeParagraph","Properties":{"id":"20240201213705-byo18e0","updated":"20240201213705"},"Children":[{"Type":"NodeText","Data":"JSON Web Token Claims："},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"a","TextMarkAHref":"https://auth0.com/docs/secure/tokens/json-web-tokens/json-web-token-claims","TextMarkTextContent":"https://auth0.com/docs/secure/tokens/json-web-tokens/json-web-token-claims"}]}]}]},{"ID":"20240201213706-mv4f7rk","Type":"NodeHTMLBlock","Data":"\u003cdiv\u003e\n\u003c!-- @include: @article-footer.snippet.md --\u003e\n\u003c/div\u003e","HtmlBlockType":2,"Properties":{"id":"20240201213706-mv4f7rk","updated":"20240201213706"}}]}
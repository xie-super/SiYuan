{"ID":"20240201213318-gsua7rt","Spec":"1","Type":"NodeDocument","Properties":{"id":"20240201213318-gsua7rt","title":"spring-common-annotations","updated":"20240201213318"},"Children":[{"ID":"20240201213319-69hvmbp","Type":"NodeThematicBreak","Properties":{"id":"20240201213319-69hvmbp","updated":"20240201213319"}},{"ID":"20240201213320-wg7xlh9","Type":"NodeParagraph","Properties":{"id":"20240201213320-wg7xlh9","updated":"20240201213320"},"Children":[{"Type":"NodeText","Data":"title: Spring\u0026SpringBoot常用注解总结"},{"Type":"NodeSoftBreak","Data":"\n","Properties":{"id":""}},{"Type":"NodeText","Data":"category: 框架"},{"Type":"NodeSoftBreak","Data":"\n","Properties":{"id":""}},{"Type":"NodeText","Data":"tag:"}]},{"ID":"20240201213321-jayevou","Type":"NodeList","ListData":{"Tight":true,"BulletChar":45,"Padding":2,"MarkerOffset":2,"Marker":"LQ==","Num":-1},"Properties":{"id":"20240201213321-jayevou","updated":"20240201213321"},"Children":[{"ID":"20240201213322-tl3kmt7","Type":"NodeListItem","Data":"-","ListData":{"Tight":true,"BulletChar":45,"Padding":2,"MarkerOffset":2,"Marker":"LQ==","Num":-1},"Properties":{"id":"20240201213322-tl3kmt7","updated":"20240201213322"},"Children":[{"ID":"20240201213323-km5feys","Type":"NodeParagraph","Properties":{"id":"20240201213323-km5feys","updated":"20240201213323"},"Children":[{"Type":"NodeText","Data":"SpringBoot"}]}]},{"ID":"20240201213324-4dshbwd","Type":"NodeListItem","Data":"-","ListData":{"Tight":true,"BulletChar":45,"Padding":2,"MarkerOffset":2,"Marker":"LQ==","Num":-1},"Properties":{"id":"20240201213324-4dshbwd","updated":"20240201213324"},"Children":[{"ID":"20240201213325-6f9rm30","Type":"NodeParagraph","Properties":{"id":"20240201213325-6f9rm30","updated":"20240201213325"},"Children":[{"Type":"NodeText","Data":"Spring"}]}]}]},{"ID":"20240201213326-p5f2dn3","Type":"NodeThematicBreak","Properties":{"id":"20240201213326-p5f2dn3","updated":"20240201213326"}},{"ID":"20240201213327-dm69rsv","Type":"NodeHeading","HeadingLevel":3,"Properties":{"id":"20240201213327-dm69rsv","updated":"20240201213327"},"Children":[{"Type":"NodeHeadingC8hMarker","Data":"### ","Properties":{"id":""}},{"Type":"NodeText","Data":"0.前言"}]},{"ID":"20240201213328-v5u57g7","Type":"NodeParagraph","Properties":{"id":"20240201213328-v5u57g7","updated":"20240201213328"},"Children":[{"Type":"NodeText","Data":"可以毫不夸张地说，这篇文章介绍的 Spring/SpringBoot 常用注解基本已经涵盖你工作中遇到的大部分常用的场景。对于每一个注解我都说了具体用法，掌握搞懂，使用 SpringBoot 来开发项目基本没啥大问题了！"}]},{"ID":"20240201213329-834zr2p","Type":"NodeParagraph","Properties":{"id":"20240201213329-834zr2p","updated":"20240201213329"},"Children":[{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"strong","TextMarkTextContent":"为什么要写这篇文章？"}]},{"ID":"20240201213330-cay5rrf","Type":"NodeParagraph","Properties":{"id":"20240201213330-cay5rrf","updated":"20240201213330"},"Children":[{"Type":"NodeText","Data":"最近看到网上有一篇关于 SpringBoot 常用注解的文章被转载的比较多，我看了文章内容之后属实觉得质量有点低，并且有点会误导没有太多实际使用经验的人（这些人又占据了大多数）。所以，自己索性花了大概 两天时间简单总结一下了。"}]},{"ID":"20240201213331-sgvf6lp","Type":"NodeParagraph","Properties":{"id":"20240201213331-sgvf6lp","updated":"20240201213331"},"Children":[{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"strong","TextMarkTextContent":"因为我个人的能力和精力有限，如果有任何不对或者需要完善的地方，请帮忙指出！Guide 感激不尽！"}]},{"ID":"20240201213332-ttimnc9","Type":"NodeHeading","HeadingLevel":3,"Properties":{"id":"20240201213332-ttimnc9","updated":"20240201213332"},"Children":[{"Type":"NodeHeadingC8hMarker","Data":"### ","Properties":{"id":""}},{"Type":"NodeText","Data":"1. "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"@SpringBootApplication"}]},{"ID":"20240201213333-sl15kzd","Type":"NodeParagraph","Properties":{"id":"20240201213333-sl15kzd","updated":"20240201213333"},"Children":[{"Type":"NodeText","Data":"这里先单独拎出"},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"@SpringBootApplication"},{"Type":"NodeText","Data":" 注解说一下，虽然我们一般不会主动去使用它。"}]},{"ID":"20240201213334-0g7hhh3","Type":"NodeParagraph","Properties":{"id":"20240201213334-0g7hhh3","updated":"20240201213334"},"Children":[{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"em","TextMarkTextContent":"Guide：这个注解是 Spring Boot 项目的基石，创建 SpringBoot 项目之后会默认在主类加上。"}]},{"ID":"20240201213335-d9x1pw9","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"CodeBlockFenceChar":96,"CodeBlockFenceLen":3,"CodeBlockOpenFence":"YGBg","CodeBlockInfo":"amF2YQ==","CodeBlockCloseFence":"YGBg","Properties":{"id":"20240201213335-d9x1pw9","updated":"20240201213335"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"amF2YQ==","Properties":{"id":""}},{"Type":"NodeCodeBlockCode","Data":"@SpringBootApplication\npublic class SpringSecurityJwtGuideApplication {\n      public static void main(java.lang.String[] args) {\n        SpringApplication.run(SpringSecurityJwtGuideApplication.class, args);\n    }\n}\n","Properties":{"id":""}},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}}]},{"ID":"20240201213336-dgdquxj","Type":"NodeParagraph","Properties":{"id":"20240201213336-dgdquxj","updated":"20240201213336"},"Children":[{"Type":"NodeText","Data":"我们可以把 "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"@SpringBootApplication"},{"Type":"NodeText","Data":"看作是 "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"@Configuration"},{"Type":"NodeText","Data":"、"},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"@EnableAutoConfiguration"},{"Type":"NodeText","Data":"、"},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"@ComponentScan"},{"Type":"NodeText","Data":" 注解的集合。"}]},{"ID":"20240201213337-30ossfp","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"CodeBlockFenceChar":96,"CodeBlockFenceLen":3,"CodeBlockOpenFence":"YGBg","CodeBlockInfo":"amF2YQ==","CodeBlockCloseFence":"YGBg","Properties":{"id":"20240201213337-30ossfp","updated":"20240201213337"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"amF2YQ==","Properties":{"id":""}},{"Type":"NodeCodeBlockCode","Data":"package org.springframework.boot.autoconfigure;\n@Target(ElementType.TYPE)\n@Retention(RetentionPolicy.RUNTIME)\n@Documented\n@Inherited\n@SpringBootConfiguration\n@EnableAutoConfiguration\n@ComponentScan(excludeFilters = {\n    @Filter(type = FilterType.CUSTOM, classes = TypeExcludeFilter.class),\n    @Filter(type = FilterType.CUSTOM, classes = AutoConfigurationExcludeFilter.class) })\npublic @interface SpringBootApplication {\n   ......\n}\n\npackage org.springframework.boot;\n@Target(ElementType.TYPE)\n@Retention(RetentionPolicy.RUNTIME)\n@Documented\n@Configuration\npublic @interface SpringBootConfiguration {\n\n}\n","Properties":{"id":""}},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}}]},{"ID":"20240201213338-7wv36ov","Type":"NodeParagraph","Properties":{"id":"20240201213338-7wv36ov","updated":"20240201213338"},"Children":[{"Type":"NodeText","Data":"根据 SpringBoot 官网，这三个注解的作用分别是："}]},{"ID":"20240201213339-qtalyss","Type":"NodeList","ListData":{"Tight":true,"BulletChar":45,"Padding":2,"Marker":"LQ==","Num":-1},"Properties":{"id":"20240201213339-qtalyss","updated":"20240201213339"},"Children":[{"ID":"20240201213340-3ehlrjg","Type":"NodeListItem","Data":"-","ListData":{"Tight":true,"BulletChar":45,"Padding":2,"Marker":"LQ==","Num":-1},"Properties":{"id":"20240201213340-3ehlrjg","updated":"20240201213340"},"Children":[{"ID":"20240201213341-b2huee5","Type":"NodeParagraph","Properties":{"id":"20240201213341-b2huee5","updated":"20240201213341"},"Children":[{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"@EnableAutoConfiguration"},{"Type":"NodeText","Data":"：启用 SpringBoot 的自动配置机制"}]}]},{"ID":"20240201213342-bl2wp9b","Type":"NodeListItem","Data":"-","ListData":{"Tight":true,"BulletChar":45,"Padding":2,"Marker":"LQ==","Num":-1},"Properties":{"id":"20240201213342-bl2wp9b","updated":"20240201213342"},"Children":[{"ID":"20240201213343-hl2lspw","Type":"NodeParagraph","Properties":{"id":"20240201213343-hl2lspw","updated":"20240201213343"},"Children":[{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"@ComponentScan"},{"Type":"NodeText","Data":"：扫描被"},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"@Component"},{"Type":"NodeText","Data":" ("},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"@Repository"},{"Type":"NodeText","Data":","},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"@Service"},{"Type":"NodeText","Data":","},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"@Controller"},{"Type":"NodeText","Data":")注解的 bean，注解默认会扫描该类所在的包下所有的类。"}]}]},{"ID":"20240201213344-vlv32zk","Type":"NodeListItem","Data":"-","ListData":{"Tight":true,"BulletChar":45,"Padding":2,"Marker":"LQ==","Num":-1},"Properties":{"id":"20240201213344-vlv32zk","updated":"20240201213344"},"Children":[{"ID":"20240201213345-gupacrd","Type":"NodeParagraph","Properties":{"id":"20240201213345-gupacrd","updated":"20240201213345"},"Children":[{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"@Configuration"},{"Type":"NodeText","Data":"：允许在 Spring 上下文中注册额外的 bean 或导入其他配置类"}]}]}]},{"ID":"20240201213346-tx9v1q9","Type":"NodeHeading","HeadingLevel":3,"Properties":{"id":"20240201213346-tx9v1q9","updated":"20240201213346"},"Children":[{"Type":"NodeHeadingC8hMarker","Data":"### ","Properties":{"id":""}},{"Type":"NodeText","Data":"2. Spring Bean 相关"}]},{"ID":"20240201213347-sdct86m","Type":"NodeHeading","HeadingLevel":4,"Properties":{"id":"20240201213347-sdct86m","updated":"20240201213347"},"Children":[{"Type":"NodeHeadingC8hMarker","Data":"#### ","Properties":{"id":""}},{"Type":"NodeText","Data":"2.1. "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"@Autowired"}]},{"ID":"20240201213348-gpaun76","Type":"NodeParagraph","Properties":{"id":"20240201213348-gpaun76","updated":"20240201213348"},"Children":[{"Type":"NodeText","Data":"自动导入对象到类中，被注入进的类同样要被 Spring 容器管理比如：Service 类注入到 Controller 类中。"}]},{"ID":"20240201213349-td9ekhq","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"CodeBlockFenceChar":96,"CodeBlockFenceLen":3,"CodeBlockOpenFence":"YGBg","CodeBlockInfo":"amF2YQ==","CodeBlockCloseFence":"YGBg","Properties":{"id":"20240201213349-td9ekhq","updated":"20240201213349"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"amF2YQ==","Properties":{"id":""}},{"Type":"NodeCodeBlockCode","Data":"@Service\npublic class UserService {\n  ......\n}\n\n@RestController\n@RequestMapping(\"/users\")\npublic class UserController {\n   @Autowired\n   private UserService userService;\n   ......\n}\n","Properties":{"id":""}},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}}]},{"ID":"20240201213350-nvfe442","Type":"NodeHeading","HeadingLevel":4,"Properties":{"id":"20240201213350-nvfe442","updated":"20240201213350"},"Children":[{"Type":"NodeHeadingC8hMarker","Data":"#### ","Properties":{"id":""}},{"Type":"NodeText","Data":"2.2. "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"@Component"},{"Type":"NodeText","Data":","},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"@Repository"},{"Type":"NodeText","Data":","},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"@Service"},{"Type":"NodeText","Data":", "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"@Controller"}]},{"ID":"20240201213351-0mi7qok","Type":"NodeParagraph","Properties":{"id":"20240201213351-0mi7qok","updated":"20240201213351"},"Children":[{"Type":"NodeText","Data":"我们一般使用 "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"@Autowired"},{"Type":"NodeText","Data":" 注解让 Spring 容器帮我们自动装配 bean。要想把类标识成可用于 "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"@Autowired"},{"Type":"NodeText","Data":" 注解自动装配的 bean 的类,可以采用以下注解实现："}]},{"ID":"20240201213352-3ywlk4n","Type":"NodeList","ListData":{"Tight":true,"BulletChar":45,"Padding":2,"Marker":"LQ==","Num":-1},"Properties":{"id":"20240201213352-3ywlk4n","updated":"20240201213352"},"Children":[{"ID":"20240201213353-ksupuj5","Type":"NodeListItem","Data":"-","ListData":{"Tight":true,"BulletChar":45,"Padding":2,"Marker":"LQ==","Num":-1},"Properties":{"id":"20240201213353-ksupuj5","updated":"20240201213353"},"Children":[{"ID":"20240201213354-gdqkbyl","Type":"NodeParagraph","Properties":{"id":"20240201213354-gdqkbyl","updated":"20240201213354"},"Children":[{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"@Component"},{"Type":"NodeText","Data":"：通用的注解，可标注任意类为 "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"Spring"},{"Type":"NodeText","Data":" 组件。如果一个 Bean 不知道属于哪个层，可以使用"},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"@Component"},{"Type":"NodeText","Data":" 注解标注。"}]}]},{"ID":"20240201213355-ij69zxw","Type":"NodeListItem","Data":"-","ListData":{"Tight":true,"BulletChar":45,"Padding":2,"Marker":"LQ==","Num":-1},"Properties":{"id":"20240201213355-ij69zxw","updated":"20240201213355"},"Children":[{"ID":"20240201213356-yf3t1so","Type":"NodeParagraph","Properties":{"id":"20240201213356-yf3t1so","updated":"20240201213356"},"Children":[{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"@Repository"},{"Type":"NodeText","Data":" : 对应持久层即 Dao 层，主要用于数据库相关操作。"}]}]},{"ID":"20240201213357-4rbzdoo","Type":"NodeListItem","Data":"-","ListData":{"Tight":true,"BulletChar":45,"Padding":2,"Marker":"LQ==","Num":-1},"Properties":{"id":"20240201213357-4rbzdoo","updated":"20240201213357"},"Children":[{"ID":"20240201213358-coyqlt6","Type":"NodeParagraph","Properties":{"id":"20240201213358-coyqlt6","updated":"20240201213358"},"Children":[{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"@Service"},{"Type":"NodeText","Data":" : 对应服务层，主要涉及一些复杂的逻辑，需要用到 Dao 层。"}]}]},{"ID":"20240201213359-0yjd8cv","Type":"NodeListItem","Data":"-","ListData":{"Tight":true,"BulletChar":45,"Padding":2,"Marker":"LQ==","Num":-1},"Properties":{"id":"20240201213359-0yjd8cv","updated":"20240201213359"},"Children":[{"ID":"20240201213360-v0vz9ur","Type":"NodeParagraph","Properties":{"id":"20240201213360-v0vz9ur","updated":"20240201213360"},"Children":[{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"@Controller"},{"Type":"NodeText","Data":" : 对应 Spring MVC 控制层，主要用于接受用户请求并调用 Service 层返回数据给前端页面。"}]}]}]},{"ID":"20240201213361-1o2rdft","Type":"NodeHeading","HeadingLevel":4,"Properties":{"id":"20240201213361-1o2rdft","updated":"20240201213361"},"Children":[{"Type":"NodeHeadingC8hMarker","Data":"#### ","Properties":{"id":""}},{"Type":"NodeText","Data":"2.3. "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"@RestController"}]},{"ID":"20240201213362-o8kki3y","Type":"NodeParagraph","Properties":{"id":"20240201213362-o8kki3y","updated":"20240201213362"},"Children":[{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"@RestController"},{"Type":"NodeText","Data":"注解是"},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"@Controller"},{"Type":"NodeText","Data":"和"},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"@ResponseBody"},{"Type":"NodeText","Data":"的合集,表示这是个控制器 bean,并且是将函数的返回值直接填入 HTTP 响应体中,是 REST 风格的控制器。"}]},{"ID":"20240201213363-d66dora","Type":"NodeParagraph","Properties":{"id":"20240201213363-d66dora","updated":"20240201213363"},"Children":[{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"em","TextMarkTextContent":"Guide：现在都是前后端分离，说实话我已经很久没有用过"},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"em code","TextMarkTextContent":"@Controller"},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"em","TextMarkTextContent":"。如果你的项目太老了的话，就当我没说。"}]},{"ID":"20240201213364-mys9wqt","Type":"NodeParagraph","Properties":{"id":"20240201213364-mys9wqt","updated":"20240201213364"},"Children":[{"Type":"NodeText","Data":"单独使用 "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"@Controller"},{"Type":"NodeText","Data":" 不加 "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"@ResponseBody"},{"Type":"NodeText","Data":"的话一般是用在要返回一个视图的情况，这种情况属于比较传统的 Spring MVC 的应用，对应于前后端不分离的情况。"},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"@Controller"},{"Type":"NodeText","Data":" +"},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"@ResponseBody"},{"Type":"NodeText","Data":" 返回 JSON 或 XML 形式数据"}]},{"ID":"20240201213365-kwzadty","Type":"NodeParagraph","Properties":{"id":"20240201213365-kwzadty","updated":"20240201213365"},"Children":[{"Type":"NodeText","Data":"关于"},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"@RestController"},{"Type":"NodeText","Data":" 和 "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"@Controller"},{"Type":"NodeText","Data":"的对比，请看这篇文章："},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"a","TextMarkAHref":"https://mp.weixin.qq.com/s?__biz=Mzg2OTA0Njk0OA==\u0026mid=2247485544\u0026idx=1\u0026sn=3cc95b88979e28fe3bfe539eb421c6d8\u0026chksm=cea247a3f9d5ceb5e324ff4b8697adc3e828ecf71a3468445e70221cce768d1e722085359907\u0026token=1725092312\u0026lang=zh_CN#rd","TextMarkTextContent":"@RestController vs @Controller"},{"Type":"NodeText","Data":"。"}]},{"ID":"20240201213366-ja3co8z","Type":"NodeHeading","HeadingLevel":4,"Properties":{"id":"20240201213366-ja3co8z","updated":"20240201213366"},"Children":[{"Type":"NodeHeadingC8hMarker","Data":"#### ","Properties":{"id":""}},{"Type":"NodeText","Data":"2.4. "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"@Scope"}]},{"ID":"20240201213367-yerdrwo","Type":"NodeParagraph","Properties":{"id":"20240201213367-yerdrwo","updated":"20240201213367"},"Children":[{"Type":"NodeText","Data":"声明 Spring Bean 的作用域，使用方法:"}]},{"ID":"20240201213368-bnivuqk","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"CodeBlockFenceChar":96,"CodeBlockFenceLen":3,"CodeBlockOpenFence":"YGBg","CodeBlockInfo":"amF2YQ==","CodeBlockCloseFence":"YGBg","Properties":{"id":"20240201213368-bnivuqk","updated":"20240201213368"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"amF2YQ==","Properties":{"id":""}},{"Type":"NodeCodeBlockCode","Data":"@Bean\n@Scope(\"singleton\")\npublic Person personSingleton() {\n    return new Person();\n}\n","Properties":{"id":""}},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}}]},{"ID":"20240201213369-mda1maz","Type":"NodeParagraph","Properties":{"id":"20240201213369-mda1maz","updated":"20240201213369"},"Children":[{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"strong","TextMarkTextContent":"四种常见的 Spring Bean 的作用域："}]},{"ID":"20240201213370-tecwbbd","Type":"NodeList","ListData":{"Tight":true,"BulletChar":45,"Padding":2,"Marker":"LQ==","Num":-1},"Properties":{"id":"20240201213370-tecwbbd","updated":"20240201213370"},"Children":[{"ID":"20240201213371-eq4gefw","Type":"NodeListItem","Data":"-","ListData":{"Tight":true,"BulletChar":45,"Padding":2,"Marker":"LQ==","Num":-1},"Properties":{"id":"20240201213371-eq4gefw","updated":"20240201213371"},"Children":[{"ID":"20240201213372-h59tapn","Type":"NodeParagraph","Properties":{"id":"20240201213372-h59tapn","updated":"20240201213372"},"Children":[{"Type":"NodeText","Data":"singleton : 唯一 bean 实例，Spring 中的 bean 默认都是单例的。"}]}]},{"ID":"20240201213373-6a2zsxn","Type":"NodeListItem","Data":"-","ListData":{"Tight":true,"BulletChar":45,"Padding":2,"Marker":"LQ==","Num":-1},"Properties":{"id":"20240201213373-6a2zsxn","updated":"20240201213373"},"Children":[{"ID":"20240201213374-59fmpql","Type":"NodeParagraph","Properties":{"id":"20240201213374-59fmpql","updated":"20240201213374"},"Children":[{"Type":"NodeText","Data":"prototype : 每次请求都会创建一个新的 bean 实例。"}]}]},{"ID":"20240201213375-wn8mc2s","Type":"NodeListItem","Data":"-","ListData":{"Tight":true,"BulletChar":45,"Padding":2,"Marker":"LQ==","Num":-1},"Properties":{"id":"20240201213375-wn8mc2s","updated":"20240201213375"},"Children":[{"ID":"20240201213376-pnwaz7w","Type":"NodeParagraph","Properties":{"id":"20240201213376-pnwaz7w","updated":"20240201213376"},"Children":[{"Type":"NodeText","Data":"request : 每一次 HTTP 请求都会产生一个新的 bean，该 bean 仅在当前 HTTP request 内有效。"}]}]},{"ID":"20240201213377-fdow3g0","Type":"NodeListItem","Data":"-","ListData":{"Tight":true,"BulletChar":45,"Padding":2,"Marker":"LQ==","Num":-1},"Properties":{"id":"20240201213377-fdow3g0","updated":"20240201213377"},"Children":[{"ID":"20240201213378-vn0zhq7","Type":"NodeParagraph","Properties":{"id":"20240201213378-vn0zhq7","updated":"20240201213378"},"Children":[{"Type":"NodeText","Data":"session : 每一个 HTTP Session 会产生一个新的 bean，该 bean 仅在当前 HTTP session 内有效。"}]}]}]},{"ID":"20240201213379-f114fkj","Type":"NodeHeading","HeadingLevel":4,"Properties":{"id":"20240201213379-f114fkj","updated":"20240201213379"},"Children":[{"Type":"NodeHeadingC8hMarker","Data":"#### ","Properties":{"id":""}},{"Type":"NodeText","Data":"2.5. "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"@Configuration"}]},{"ID":"20240201213380-2v5isn0","Type":"NodeParagraph","Properties":{"id":"20240201213380-2v5isn0","updated":"20240201213380"},"Children":[{"Type":"NodeText","Data":"一般用来声明配置类，可以使用 "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"@Component"},{"Type":"NodeText","Data":"注解替代，不过使用"},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"@Configuration"},{"Type":"NodeText","Data":"注解声明配置类更加语义化。"}]},{"ID":"20240201213381-3wyo3hc","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"CodeBlockFenceChar":96,"CodeBlockFenceLen":3,"CodeBlockOpenFence":"YGBg","CodeBlockInfo":"amF2YQ==","CodeBlockCloseFence":"YGBg","Properties":{"id":"20240201213381-3wyo3hc","updated":"20240201213381"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"amF2YQ==","Properties":{"id":""}},{"Type":"NodeCodeBlockCode","Data":"@Configuration\npublic class AppConfig {\n    @Bean\n    public TransferService transferService() {\n        return new TransferServiceImpl();\n    }\n\n}\n","Properties":{"id":""}},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}}]},{"ID":"20240201213382-v2kivvi","Type":"NodeHeading","HeadingLevel":3,"Properties":{"id":"20240201213382-v2kivvi","updated":"20240201213382"},"Children":[{"Type":"NodeHeadingC8hMarker","Data":"### ","Properties":{"id":""}},{"Type":"NodeText","Data":"3. 处理常见的 HTTP 请求类型"}]},{"ID":"20240201213383-8dj8n4f","Type":"NodeParagraph","Properties":{"id":"20240201213383-8dj8n4f","updated":"20240201213383"},"Children":[{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"strong","TextMarkTextContent":"5 种常见的请求类型:"}]},{"ID":"20240201213384-mixc01z","Type":"NodeList","ListData":{"Tight":true,"BulletChar":45,"Padding":2,"Marker":"LQ==","Num":-1},"Properties":{"id":"20240201213384-mixc01z","updated":"20240201213384"},"Children":[{"ID":"20240201213385-k0l4ngu","Type":"NodeListItem","Data":"-","ListData":{"Tight":true,"BulletChar":45,"Padding":2,"Marker":"LQ==","Num":-1},"Properties":{"id":"20240201213385-k0l4ngu","updated":"20240201213385"},"Children":[{"ID":"20240201213386-pxuyuco","Type":"NodeParagraph","Properties":{"id":"20240201213386-pxuyuco","updated":"20240201213386"},"Children":[{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"strong","TextMarkTextContent":"GET"},{"Type":"NodeText","Data":"：请求从服务器获取特定资源。举个例子："},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"GET /users"},{"Type":"NodeText","Data":"（获取所有学生）"}]}]},{"ID":"20240201213387-rjbi5rr","Type":"NodeListItem","Data":"-","ListData":{"Tight":true,"BulletChar":45,"Padding":2,"Marker":"LQ==","Num":-1},"Properties":{"id":"20240201213387-rjbi5rr","updated":"20240201213387"},"Children":[{"ID":"20240201213388-hv605uu","Type":"NodeParagraph","Properties":{"id":"20240201213388-hv605uu","updated":"20240201213388"},"Children":[{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"strong","TextMarkTextContent":"POST"},{"Type":"NodeText","Data":"：在服务器上创建一个新的资源。举个例子："},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"POST /users"},{"Type":"NodeText","Data":"（创建学生）"}]}]},{"ID":"20240201213389-c6le1va","Type":"NodeListItem","Data":"-","ListData":{"Tight":true,"BulletChar":45,"Padding":2,"Marker":"LQ==","Num":-1},"Properties":{"id":"20240201213389-c6le1va","updated":"20240201213389"},"Children":[{"ID":"20240201213390-a0l3bye","Type":"NodeParagraph","Properties":{"id":"20240201213390-a0l3bye","updated":"20240201213390"},"Children":[{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"strong","TextMarkTextContent":"PUT"},{"Type":"NodeText","Data":"：更新服务器上的资源（客户端提供更新后的整个资源）。举个例子："},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"PUT /users/12"},{"Type":"NodeText","Data":"（更新编号为 12 的学生）"}]}]},{"ID":"20240201213391-k3wmkaw","Type":"NodeListItem","Data":"-","ListData":{"Tight":true,"BulletChar":45,"Padding":2,"Marker":"LQ==","Num":-1},"Properties":{"id":"20240201213391-k3wmkaw","updated":"20240201213391"},"Children":[{"ID":"20240201213392-40jv7u6","Type":"NodeParagraph","Properties":{"id":"20240201213392-40jv7u6","updated":"20240201213392"},"Children":[{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"strong","TextMarkTextContent":"DELETE"},{"Type":"NodeText","Data":"：从服务器删除特定的资源。举个例子："},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"DELETE /users/12"},{"Type":"NodeText","Data":"（删除编号为 12 的学生）"}]}]},{"ID":"20240201213393-3x809uk","Type":"NodeListItem","Data":"-","ListData":{"Tight":true,"BulletChar":45,"Padding":2,"Marker":"LQ==","Num":-1},"Properties":{"id":"20240201213393-3x809uk","updated":"20240201213393"},"Children":[{"ID":"20240201213394-xuadpuh","Type":"NodeParagraph","Properties":{"id":"20240201213394-xuadpuh","updated":"20240201213394"},"Children":[{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"strong","TextMarkTextContent":"PATCH"},{"Type":"NodeText","Data":"：更新服务器上的资源（客户端提供更改的属性，可以看做作是部分更新），使用的比较少，这里就不举例子了。"}]}]}]},{"ID":"20240201213395-q742zp8","Type":"NodeHeading","HeadingLevel":4,"Properties":{"id":"20240201213395-q742zp8","updated":"20240201213395"},"Children":[{"Type":"NodeHeadingC8hMarker","Data":"#### ","Properties":{"id":""}},{"Type":"NodeText","Data":"3.1. GET 请求"}]},{"ID":"20240201213396-p3u87zf","Type":"NodeParagraph","Properties":{"id":"20240201213396-p3u87zf","updated":"20240201213396"},"Children":[{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"@GetMapping(\u0026quot;users\u0026quot;)"},{"Type":"NodeText","Data":" 等价于"},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"@RequestMapping(value=\u0026quot;/users\u0026quot;,method=RequestMethod.GET)"}]},{"ID":"20240201213397-wcewybf","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"CodeBlockFenceChar":96,"CodeBlockFenceLen":3,"CodeBlockOpenFence":"YGBg","CodeBlockInfo":"amF2YQ==","CodeBlockCloseFence":"YGBg","Properties":{"id":"20240201213397-wcewybf","updated":"20240201213397"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"amF2YQ==","Properties":{"id":""}},{"Type":"NodeCodeBlockCode","Data":"@GetMapping(\"/users\")\npublic ResponseEntity\u003cList\u003cUser\u003e\u003e getAllUsers() {\n return userRepository.findAll();\n}\n","Properties":{"id":""}},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}}]},{"ID":"20240201213398-67ydhr1","Type":"NodeHeading","HeadingLevel":4,"Properties":{"id":"20240201213398-67ydhr1","updated":"20240201213398"},"Children":[{"Type":"NodeHeadingC8hMarker","Data":"#### ","Properties":{"id":""}},{"Type":"NodeText","Data":"3.2. POST 请求"}]},{"ID":"20240201213399-10yz169","Type":"NodeParagraph","Properties":{"id":"20240201213399-10yz169","updated":"20240201213399"},"Children":[{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"@PostMapping(\u0026quot;users\u0026quot;)"},{"Type":"NodeText","Data":" 等价于"},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"@RequestMapping(value=\u0026quot;/users\u0026quot;,method=RequestMethod.POST)"}]},{"ID":"20240201213400-ps7qflg","Type":"NodeParagraph","Properties":{"id":"20240201213400-ps7qflg","updated":"20240201213400"},"Children":[{"Type":"NodeText","Data":"关于"},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"@RequestBody"},{"Type":"NodeText","Data":"注解的使用，在下面的“前后端传值”这块会讲到。"}]},{"ID":"20240201213401-gwz7z46","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"CodeBlockFenceChar":96,"CodeBlockFenceLen":3,"CodeBlockOpenFence":"YGBg","CodeBlockInfo":"amF2YQ==","CodeBlockCloseFence":"YGBg","Properties":{"id":"20240201213401-gwz7z46","updated":"20240201213401"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"amF2YQ==","Properties":{"id":""}},{"Type":"NodeCodeBlockCode","Data":"@PostMapping(\"/users\")\npublic ResponseEntity\u003cUser\u003e createUser(@Valid @RequestBody UserCreateRequest userCreateRequest) {\n return userRepository.save(userCreateRequest);\n}\n","Properties":{"id":""}},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}}]},{"ID":"20240201213402-ih6jnji","Type":"NodeHeading","HeadingLevel":4,"Properties":{"id":"20240201213402-ih6jnji","updated":"20240201213402"},"Children":[{"Type":"NodeHeadingC8hMarker","Data":"#### ","Properties":{"id":""}},{"Type":"NodeText","Data":"3.3. PUT 请求"}]},{"ID":"20240201213403-yg8uszx","Type":"NodeParagraph","Properties":{"id":"20240201213403-yg8uszx","updated":"20240201213403"},"Children":[{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"@PutMapping(\u0026quot;/users/{userId}\u0026quot;)"},{"Type":"NodeText","Data":" 等价于"},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"@RequestMapping(value=\u0026quot;/users/{userId}\u0026quot;,method=RequestMethod.PUT)"}]},{"ID":"20240201213404-zgnu5gw","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"CodeBlockFenceChar":96,"CodeBlockFenceLen":3,"CodeBlockOpenFence":"YGBg","CodeBlockInfo":"amF2YQ==","CodeBlockCloseFence":"YGBg","Properties":{"id":"20240201213404-zgnu5gw","updated":"20240201213404"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"amF2YQ==","Properties":{"id":""}},{"Type":"NodeCodeBlockCode","Data":"@PutMapping(\"/users/{userId}\")\npublic ResponseEntity\u003cUser\u003e updateUser(@PathVariable(value = \"userId\") Long userId,\n  @Valid @RequestBody UserUpdateRequest userUpdateRequest) {\n  ......\n}\n","Properties":{"id":""}},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}}]},{"ID":"20240201213405-kb0u7lz","Type":"NodeHeading","HeadingLevel":4,"Properties":{"id":"20240201213405-kb0u7lz","updated":"20240201213405"},"Children":[{"Type":"NodeHeadingC8hMarker","Data":"#### ","Properties":{"id":""}},{"Type":"NodeText","Data":"3.4. "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"strong","TextMarkTextContent":"DELETE 请求"}]},{"ID":"20240201213406-503fmya","Type":"NodeParagraph","Properties":{"id":"20240201213406-503fmya","updated":"20240201213406"},"Children":[{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"@DeleteMapping(\u0026quot;/users/{userId}\u0026quot;)"},{"Type":"NodeText","Data":"等价于"},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"@RequestMapping(value=\u0026quot;/users/{userId}\u0026quot;,method=RequestMethod.DELETE)"}]},{"ID":"20240201213407-8raitgk","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"CodeBlockFenceChar":96,"CodeBlockFenceLen":3,"CodeBlockOpenFence":"YGBg","CodeBlockInfo":"amF2YQ==","CodeBlockCloseFence":"YGBg","Properties":{"id":"20240201213407-8raitgk","updated":"20240201213407"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"amF2YQ==","Properties":{"id":""}},{"Type":"NodeCodeBlockCode","Data":"@DeleteMapping(\"/users/{userId}\")\npublic ResponseEntity deleteUser(@PathVariable(value = \"userId\") Long userId){\n  ......\n}\n","Properties":{"id":""}},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}}]},{"ID":"20240201213408-rywvmta","Type":"NodeHeading","HeadingLevel":4,"Properties":{"id":"20240201213408-rywvmta","updated":"20240201213408"},"Children":[{"Type":"NodeHeadingC8hMarker","Data":"#### ","Properties":{"id":""}},{"Type":"NodeText","Data":"3.5. "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"strong","TextMarkTextContent":"PATCH 请求"}]},{"ID":"20240201213409-35pgol6","Type":"NodeParagraph","Properties":{"id":"20240201213409-35pgol6","updated":"20240201213409"},"Children":[{"Type":"NodeText","Data":"一般实际项目中，我们都是 PUT 不够用了之后才用 PATCH 请求去更新数据。"}]},{"ID":"20240201213410-9vp4x90","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"CodeBlockFenceChar":96,"CodeBlockFenceLen":3,"CodeBlockOpenFence":"YGBg","CodeBlockInfo":"amF2YQ==","CodeBlockCloseFence":"YGBg","Properties":{"id":"20240201213410-9vp4x90","updated":"20240201213410"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"amF2YQ==","Properties":{"id":""}},{"Type":"NodeCodeBlockCode","Data":"  @PatchMapping(\"/profile\")\n  public ResponseEntity updateStudent(@RequestBody StudentUpdateRequest studentUpdateRequest) {\n        studentRepository.updateDetail(studentUpdateRequest);\n        return ResponseEntity.ok().build();\n    }\n","Properties":{"id":""}},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}}]},{"ID":"20240201213411-0sbfu29","Type":"NodeHeading","HeadingLevel":3,"Properties":{"id":"20240201213411-0sbfu29","updated":"20240201213411"},"Children":[{"Type":"NodeHeadingC8hMarker","Data":"### ","Properties":{"id":""}},{"Type":"NodeText","Data":"4. 前后端传值"}]},{"ID":"20240201213412-6rfszsj","Type":"NodeParagraph","Properties":{"id":"20240201213412-6rfszsj","updated":"20240201213412"},"Children":[{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"strong","TextMarkTextContent":"掌握前后端传值的正确姿势，是你开始 CRUD 的第一步！"}]},{"ID":"20240201213413-qiygiux","Type":"NodeHeading","HeadingLevel":4,"Properties":{"id":"20240201213413-qiygiux","updated":"20240201213413"},"Children":[{"Type":"NodeHeadingC8hMarker","Data":"#### ","Properties":{"id":""}},{"Type":"NodeText","Data":"4.1. "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"@PathVariable"},{"Type":"NodeText","Data":" 和 "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"@RequestParam"}]},{"ID":"20240201213414-smqle4n","Type":"NodeParagraph","Properties":{"id":"20240201213414-smqle4n","updated":"20240201213414"},"Children":[{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"@PathVariable"},{"Type":"NodeText","Data":"用于获取路径参数，"},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"@RequestParam"},{"Type":"NodeText","Data":"用于获取查询参数。"}]},{"ID":"20240201213415-ayuhx55","Type":"NodeParagraph","Properties":{"id":"20240201213415-ayuhx55","updated":"20240201213415"},"Children":[{"Type":"NodeText","Data":"举个简单的例子："}]},{"ID":"20240201213416-9impjj1","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"CodeBlockFenceChar":96,"CodeBlockFenceLen":3,"CodeBlockOpenFence":"YGBg","CodeBlockInfo":"amF2YQ==","CodeBlockCloseFence":"YGBg","Properties":{"id":"20240201213416-9impjj1","updated":"20240201213416"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"amF2YQ==","Properties":{"id":""}},{"Type":"NodeCodeBlockCode","Data":"@GetMapping(\"/klasses/{klassId}/teachers\")\npublic List\u003cTeacher\u003e getKlassRelatedTeachers(\n         @PathVariable(\"klassId\") Long klassId,\n         @RequestParam(value = \"type\", required = false) String type ) {\n...\n}\n","Properties":{"id":""}},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}}]},{"ID":"20240201213417-0zxg29d","Type":"NodeParagraph","Properties":{"id":"20240201213417-0zxg29d","updated":"20240201213417"},"Children":[{"Type":"NodeText","Data":"如果我们请求的 url 是："},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"/klasses/123456/teachers?type=web"}]},{"ID":"20240201213418-gmyfv4j","Type":"NodeParagraph","Properties":{"id":"20240201213418-gmyfv4j","updated":"20240201213418"},"Children":[{"Type":"NodeText","Data":"那么我们服务获取到的数据就是："},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"klassId=123456,type=web"},{"Type":"NodeText","Data":"。"}]},{"ID":"20240201213419-qoyl75r","Type":"NodeHeading","HeadingLevel":4,"Properties":{"id":"20240201213419-qoyl75r","updated":"20240201213419"},"Children":[{"Type":"NodeHeadingC8hMarker","Data":"#### ","Properties":{"id":""}},{"Type":"NodeText","Data":"4.2. "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"@RequestBody"}]},{"ID":"20240201213420-v79e7oi","Type":"NodeParagraph","Properties":{"id":"20240201213420-v79e7oi","updated":"20240201213420"},"Children":[{"Type":"NodeText","Data":"用于读取 Request 请求（可能是 POST,PUT,DELETE,GET 请求）的 body 部分并且"},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"strong","TextMarkTextContent":"Content-Type 为 application/json"},{"Type":"NodeText","Data":" 格式的数据，接收到数据之后会自动将数据绑定到 Java 对象上去。系统会使用"},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"HttpMessageConverter"},{"Type":"NodeText","Data":"或者自定义的"},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"HttpMessageConverter"},{"Type":"NodeText","Data":"将请求的 body 中的 json 字符串转换为 java 对象。"}]},{"ID":"20240201213421-tq7qoex","Type":"NodeParagraph","Properties":{"id":"20240201213421-tq7qoex","updated":"20240201213421"},"Children":[{"Type":"NodeText","Data":"我用一个简单的例子来给演示一下基本使用！"}]},{"ID":"20240201213422-wkzv37m","Type":"NodeParagraph","Properties":{"id":"20240201213422-wkzv37m","updated":"20240201213422"},"Children":[{"Type":"NodeText","Data":"我们有一个注册的接口："}]},{"ID":"20240201213423-pfxg9bp","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"CodeBlockFenceChar":96,"CodeBlockFenceLen":3,"CodeBlockOpenFence":"YGBg","CodeBlockInfo":"amF2YQ==","CodeBlockCloseFence":"YGBg","Properties":{"id":"20240201213423-pfxg9bp","updated":"20240201213423"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"amF2YQ==","Properties":{"id":""}},{"Type":"NodeCodeBlockCode","Data":"@PostMapping(\"/sign-up\")\npublic ResponseEntity signUp(@RequestBody @Valid UserRegisterRequest userRegisterRequest) {\n  userService.save(userRegisterRequest);\n  return ResponseEntity.ok().build();\n}\n","Properties":{"id":""}},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}}]},{"ID":"20240201213424-ey49jug","Type":"NodeParagraph","Properties":{"id":"20240201213424-ey49jug","updated":"20240201213424"},"Children":[{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"UserRegisterRequest"},{"Type":"NodeText","Data":"对象："}]},{"ID":"20240201213425-r6rsfto","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"CodeBlockFenceChar":96,"CodeBlockFenceLen":3,"CodeBlockOpenFence":"YGBg","CodeBlockInfo":"amF2YQ==","CodeBlockCloseFence":"YGBg","Properties":{"id":"20240201213425-r6rsfto","updated":"20240201213425"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"amF2YQ==","Properties":{"id":""}},{"Type":"NodeCodeBlockCode","Data":"@Data\n@AllArgsConstructor\n@NoArgsConstructor\npublic class UserRegisterRequest {\n    @NotBlank\n    private String userName;\n    @NotBlank\n    private String password;\n    @NotBlank\n    private String fullName;\n}\n","Properties":{"id":""}},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}}]},{"ID":"20240201213426-8vgg3kv","Type":"NodeParagraph","Properties":{"id":"20240201213426-8vgg3kv","updated":"20240201213426"},"Children":[{"Type":"NodeText","Data":"我们发送 post 请求到这个接口，并且 body 携带 JSON 数据："}]},{"ID":"20240201213427-47nprw2","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"CodeBlockFenceChar":96,"CodeBlockFenceLen":3,"CodeBlockOpenFence":"YGBg","CodeBlockInfo":"anNvbg==","CodeBlockCloseFence":"YGBg","Properties":{"id":"20240201213427-47nprw2","updated":"20240201213427"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"anNvbg==","Properties":{"id":""}},{"Type":"NodeCodeBlockCode","Data":"{ \"userName\": \"coder\", \"fullName\": \"shuangkou\", \"password\": \"123456\" }\n","Properties":{"id":""}},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}}]},{"ID":"20240201213428-0r6ycc1","Type":"NodeParagraph","Properties":{"id":"20240201213428-0r6ycc1","updated":"20240201213428"},"Children":[{"Type":"NodeText","Data":"这样我们的后端就可以直接把 json 格式的数据映射到我们的 "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"UserRegisterRequest"},{"Type":"NodeText","Data":" 类上。"}]},{"ID":"20240201213429-33g2cm5","Type":"NodeParagraph","Properties":{"id":"20240201213429-33g2cm5","updated":"20240201213429"},"Children":[{"Type":"NodeImage","Properties":{"id":""},"Children":[{"Type":"NodeBang","Data":"!","Properties":{"id":""}},{"Type":"NodeOpenBracket","Data":"[","Properties":{"id":""}},{"Type":"NodeCloseBracket","Data":"]","Properties":{"id":""}},{"Type":"NodeOpenParen","Data":"(","Properties":{"id":""}},{"Type":"NodeLinkDest","Data":"assets/@RequestBody-20240201213827-2e9uhtm.png","Properties":{"id":""}},{"Type":"NodeCloseParen","Data":")","Properties":{"id":""}}]}]},{"ID":"20240201213430-dfu1mbn","Type":"NodeParagraph","Properties":{"id":"20240201213430-dfu1mbn","updated":"20240201213430"},"Children":[{"Type":"NodeText","Data":"👉 需要注意的是："},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"strong","TextMarkTextContent":"一个请求方法只可以有一个"},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"strong code","TextMarkTextContent":"@RequestBody"},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"strong","TextMarkTextContent":"，但是可以有多个"},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"strong code","TextMarkTextContent":"@RequestParam"},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"strong","TextMarkTextContent":"和"},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"strong code","TextMarkTextContent":"@PathVariable"},{"Type":"NodeText","Data":"。 如果你的方法必须要用两个 "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"@RequestBody"},{"Type":"NodeText","Data":"来接受数据的话，大概率是你的数据库设计或者系统设计出问题了！"}]},{"ID":"20240201213431-5ub0h0q","Type":"NodeHeading","HeadingLevel":3,"Properties":{"id":"20240201213431-5ub0h0q","updated":"20240201213431"},"Children":[{"Type":"NodeHeadingC8hMarker","Data":"### ","Properties":{"id":""}},{"Type":"NodeText","Data":"5. 读取配置信息"}]},{"ID":"20240201213432-jeqxce8","Type":"NodeParagraph","Properties":{"id":"20240201213432-jeqxce8","updated":"20240201213432"},"Children":[{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"strong","TextMarkTextContent":"很多时候我们需要将一些常用的配置信息比如阿里云 oss、发送短信、微信认证的相关配置信息等等放到配置文件中。"}]},{"ID":"20240201213433-dwiupd1","Type":"NodeParagraph","Properties":{"id":"20240201213433-dwiupd1","updated":"20240201213433"},"Children":[{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"strong","TextMarkTextContent":"下面我们来看一下 Spring 为我们提供了哪些方式帮助我们从配置文件中读取这些配置信息。"}]},{"ID":"20240201213434-9qiycc3","Type":"NodeParagraph","Properties":{"id":"20240201213434-9qiycc3","updated":"20240201213434"},"Children":[{"Type":"NodeText","Data":"我们的数据源"},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"application.yml"},{"Type":"NodeText","Data":"内容如下："}]},{"ID":"20240201213435-p3nlkyi","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"CodeBlockFenceChar":96,"CodeBlockFenceLen":3,"CodeBlockOpenFence":"YGBg","CodeBlockInfo":"eWFtbA==","CodeBlockCloseFence":"YGBg","Properties":{"id":"20240201213435-p3nlkyi","updated":"20240201213435"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"eWFtbA==","Properties":{"id":""}},{"Type":"NodeCodeBlockCode","Data":"wuhan2020: 2020年初武汉爆发了新型冠状病毒，疫情严重，但是，我相信一切都会过去！武汉加油！中国加油！\n\nmy-profile:\n  name: Guide哥\n  email: koushuangbwcx@163.com\n\nlibrary:\n  location: 湖北武汉加油中国加油\n  books:\n    - name: 天才基本法\n      description: 二十二岁的林朝夕在父亲确诊阿尔茨海默病这天，得知自己暗恋多年的校园男神裴之即将出国深造的消息——对方考取的学校，恰是父亲当年为她放弃的那所。\n    - name: 时间的秩序\n      description: 为什么我们记得过去，而非未来？时间“流逝”意味着什么？是我们存在于时间之内，还是时间存在于我们之中？卡洛·罗韦利用诗意的文字，邀请我们思考这一亘古难题——时间的本质。\n    - name: 了不起的我\n      description: 如何养成一个新习惯？如何让心智变得更成熟？如何拥有高质量的关系？ 如何走出人生的艰难时刻？\n","Properties":{"id":""}},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}}]},{"ID":"20240201213436-cw43f41","Type":"NodeHeading","HeadingLevel":4,"Properties":{"id":"20240201213436-cw43f41","updated":"20240201213436"},"Children":[{"Type":"NodeHeadingC8hMarker","Data":"#### ","Properties":{"id":""}},{"Type":"NodeText","Data":"5.1. "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"@Value"},{"Type":"NodeText","Data":"(常用)"}]},{"ID":"20240201213437-cbsnqht","Type":"NodeParagraph","Properties":{"id":"20240201213437-cbsnqht","updated":"20240201213437"},"Children":[{"Type":"NodeText","Data":"使用 "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"@Value(\u0026quot;${property}\u0026quot;)"},{"Type":"NodeText","Data":" 读取比较简单的配置信息："}]},{"ID":"20240201213438-peeecze","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"CodeBlockFenceChar":96,"CodeBlockFenceLen":3,"CodeBlockOpenFence":"YGBg","CodeBlockInfo":"amF2YQ==","CodeBlockCloseFence":"YGBg","Properties":{"id":"20240201213438-peeecze","updated":"20240201213438"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"amF2YQ==","Properties":{"id":""}},{"Type":"NodeCodeBlockCode","Data":"@Value(\"${wuhan2020}\")\nString wuhan2020;\n","Properties":{"id":""}},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}}]},{"ID":"20240201213439-b3xk9vy","Type":"NodeHeading","HeadingLevel":4,"Properties":{"id":"20240201213439-b3xk9vy","updated":"20240201213439"},"Children":[{"Type":"NodeHeadingC8hMarker","Data":"#### ","Properties":{"id":""}},{"Type":"NodeText","Data":"5.2. "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"@ConfigurationProperties"},{"Type":"NodeText","Data":"(常用)"}]},{"ID":"20240201213440-1s0gvbp","Type":"NodeParagraph","Properties":{"id":"20240201213440-1s0gvbp","updated":"20240201213440"},"Children":[{"Type":"NodeText","Data":"通过"},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"@ConfigurationProperties"},{"Type":"NodeText","Data":"读取配置信息并与 bean 绑定。"}]},{"ID":"20240201213441-fsnoz7r","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"CodeBlockFenceChar":96,"CodeBlockFenceLen":3,"CodeBlockOpenFence":"YGBg","CodeBlockInfo":"amF2YQ==","CodeBlockCloseFence":"YGBg","Properties":{"id":"20240201213441-fsnoz7r","updated":"20240201213441"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"amF2YQ==","Properties":{"id":""}},{"Type":"NodeCodeBlockCode","Data":"@Component\n@ConfigurationProperties(prefix = \"library\")\nclass LibraryProperties {\n    @NotEmpty\n    private String location;\n    private List\u003cBook\u003e books;\n\n    @Setter\n    @Getter\n    @ToString\n    static class Book {\n        String name;\n        String description;\n    }\n  省略getter/setter\n  ......\n}\n","Properties":{"id":""}},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}}]},{"ID":"20240201213442-bvyxu33","Type":"NodeParagraph","Properties":{"id":"20240201213442-bvyxu33","updated":"20240201213442"},"Children":[{"Type":"NodeText","Data":"你可以像使用普通的 Spring bean 一样，将其注入到类中使用。"}]},{"ID":"20240201213443-tzfs0bt","Type":"NodeHeading","HeadingLevel":4,"Properties":{"id":"20240201213443-tzfs0bt","updated":"20240201213443"},"Children":[{"Type":"NodeHeadingC8hMarker","Data":"#### ","Properties":{"id":""}},{"Type":"NodeText","Data":"5.3. "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"@PropertySource"},{"Type":"NodeText","Data":"（不常用）"}]},{"ID":"20240201213444-l14omnu","Type":"NodeParagraph","Properties":{"id":"20240201213444-l14omnu","updated":"20240201213444"},"Children":[{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"@PropertySource"},{"Type":"NodeText","Data":"读取指定 properties 文件"}]},{"ID":"20240201213445-axfzi5z","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"CodeBlockFenceChar":96,"CodeBlockFenceLen":3,"CodeBlockOpenFence":"YGBg","CodeBlockInfo":"amF2YQ==","CodeBlockCloseFence":"YGBg","Properties":{"id":"20240201213445-axfzi5z","updated":"20240201213445"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"amF2YQ==","Properties":{"id":""}},{"Type":"NodeCodeBlockCode","Data":"@Component\n@PropertySource(\"classpath:website.properties\")\n\nclass WebSite {\n    @Value(\"${url}\")\n    private String url;\n\n  省略getter/setter\n  ......\n}\n","Properties":{"id":""}},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}}]},{"ID":"20240201213446-yu9lf2r","Type":"NodeParagraph","Properties":{"id":"20240201213446-yu9lf2r","updated":"20240201213446"},"Children":[{"Type":"NodeText","Data":"更多内容请查看我的这篇文章："},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"a","TextMarkAHref":"https://mp.weixin.qq.com/s?__biz=Mzg2OTA0Njk0OA==\u0026mid=2247486181\u0026idx=2\u0026sn=10db0ae64ef501f96a5b0dbc4bd78786\u0026chksm=cea2452ef9d5cc384678e456427328600971180a77e40c13936b19369672ca3e342c26e92b50\u0026token=816772476\u0026lang=zh_CN#rd","TextMarkTextContent":"《10 分钟搞定 SpringBoot 如何优雅读取配置文件？》"},{"Type":"NodeText","Data":" 。"}]},{"ID":"20240201213447-cnbv415","Type":"NodeHeading","HeadingLevel":3,"Properties":{"id":"20240201213447-cnbv415","updated":"20240201213447"},"Children":[{"Type":"NodeHeadingC8hMarker","Data":"### ","Properties":{"id":""}},{"Type":"NodeText","Data":"6. 参数校验"}]},{"ID":"20240201213448-vm917fl","Type":"NodeParagraph","Properties":{"id":"20240201213448-vm917fl","updated":"20240201213448"},"Children":[{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"strong","TextMarkTextContent":"数据的校验的重要性就不用说了，即使在前端对数据进行校验的情况下，我们还是要对传入后端的数据再进行一遍校验，避免用户绕过浏览器直接通过一些 HTTP 工具直接向后端请求一些违法数据。"}]},{"ID":"20240201213449-0mxy1tw","Type":"NodeParagraph","Properties":{"id":"20240201213449-0mxy1tw","updated":"20240201213449"},"Children":[{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"strong","TextMarkTextContent":"JSR(Java Specification Requests）"},{"Type":"NodeText","Data":" 是一套 JavaBean 参数校验的标准，它定义了很多常用的校验注解，我们可以直接将这些注解加在我们 JavaBean 的属性上面，这样就可以在需要校验的时候进行校验了，非常方便！"}]},{"ID":"20240201213450-wwpxufd","Type":"NodeParagraph","Properties":{"id":"20240201213450-wwpxufd","updated":"20240201213450"},"Children":[{"Type":"NodeText","Data":"校验的时候我们实际用的是 "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"strong","TextMarkTextContent":"Hibernate Validator"},{"Type":"NodeText","Data":" 框架。Hibernate Validator 是 Hibernate 团队最初的数据校验框架，Hibernate Validator 4.x 是 Bean Validation 1.0（JSR 303）的参考实现，Hibernate Validator 5.x 是 Bean Validation 1.1（JSR 349）的参考实现，目前最新版的 Hibernate Validator 6.x 是 Bean Validation 2.0（JSR 380）的参考实现。"}]},{"ID":"20240201213451-56ipijl","Type":"NodeParagraph","Properties":{"id":"20240201213451-56ipijl","updated":"20240201213451"},"Children":[{"Type":"NodeText","Data":"SpringBoot 项目的 spring-boot-starter-web 依赖中已经有 hibernate-validator 包，不需要引用相关依赖。如下图所示（通过 idea 插件—Maven Helper 生成）："}]},{"ID":"20240201213452-gj10mjy","Type":"NodeParagraph","Properties":{"id":"20240201213452-gj10mjy","updated":"20240201213452"},"Children":[{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"strong","TextMarkTextContent":"注"},{"Type":"NodeText","Data":"：更新版本的 spring-boot-starter-web 依赖中不再有 hibernate-validator 包（如 2.3.11.RELEASE），需要自己引入 "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"spring-boot-starter-validation"},{"Type":"NodeText","Data":" 依赖。"}]},{"ID":"20240201213453-lpkj4ts","Type":"NodeParagraph","Properties":{"id":"20240201213453-lpkj4ts","updated":"20240201213453"},"Children":[{"Type":"NodeImage","Properties":{"id":""},"Children":[{"Type":"NodeBang","Data":"!","Properties":{"id":""}},{"Type":"NodeOpenBracket","Data":"[","Properties":{"id":""}},{"Type":"NodeCloseBracket","Data":"]","Properties":{"id":""}},{"Type":"NodeOpenParen","Data":"(","Properties":{"id":""}},{"Type":"NodeLinkDest","Data":"https://oss.javaguide.cn/2021/03/c7bacd12-1c1a-4e41-aaaf-4cad840fc073.png","Properties":{"id":""}},{"Type":"NodeCloseParen","Data":")","Properties":{"id":""}}]}]},{"ID":"20240201213454-r2rjsmz","Type":"NodeParagraph","Properties":{"id":"20240201213454-r2rjsmz","updated":"20240201213454"},"Children":[{"Type":"NodeText","Data":"非 SpringBoot 项目需要自行引入相关依赖包，这里不多做讲解，具体可以查看我的这篇文章：《"},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"a","TextMarkAHref":"https://mp.weixin.qq.com/s?__biz=Mzg2OTA0Njk0OA==\u0026mid=2247485783\u0026idx=1\u0026sn=a407f3b75efa17c643407daa7fb2acd6\u0026chksm=cea2469cf9d5cf8afbcd0a8a1c9cc4294d6805b8e01bee6f76bb2884c5bc15478e91459def49\u0026token=292197051\u0026lang=zh_CN#rd","TextMarkTextContent":"如何在 Spring/Spring Boot 中做参数校验？你需要了解的都在这里！"},{"Type":"NodeText","Data":"》。"}]},{"ID":"20240201213455-y4nl9wk","Type":"NodeParagraph","Properties":{"id":"20240201213455-y4nl9wk","updated":"20240201213455"},"Children":[{"Type":"NodeText","Data":"👉 需要注意的是："},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"strong","TextMarkTextContent":"所有的注解，推荐使用 JSR 注解，即"},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"strong code","TextMarkTextContent":"javax.validation.constraints"},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"strong","TextMarkTextContent":"，而不是"},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"strong code","TextMarkTextContent":"org.hibernate.validator.constraints"}]},{"ID":"20240201213456-16qx89y","Type":"NodeHeading","HeadingLevel":4,"Properties":{"id":"20240201213456-16qx89y","updated":"20240201213456"},"Children":[{"Type":"NodeHeadingC8hMarker","Data":"#### ","Properties":{"id":""}},{"Type":"NodeText","Data":"6.1. 一些常用的字段验证的注解"}]},{"ID":"20240201213457-j9fge8z","Type":"NodeList","ListData":{"Tight":true,"BulletChar":45,"Padding":2,"Marker":"LQ==","Num":-1},"Properties":{"id":"20240201213457-j9fge8z","updated":"20240201213457"},"Children":[{"ID":"20240201213458-1u3rud2","Type":"NodeListItem","Data":"-","ListData":{"Tight":true,"BulletChar":45,"Padding":2,"Marker":"LQ==","Num":-1},"Properties":{"id":"20240201213458-1u3rud2","updated":"20240201213458"},"Children":[{"ID":"20240201213459-bqpa1lz","Type":"NodeParagraph","Properties":{"id":"20240201213459-bqpa1lz","updated":"20240201213459"},"Children":[{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"@NotEmpty"},{"Type":"NodeText","Data":" 被注释的字符串的不能为 null 也不能为空"}]}]},{"ID":"20240201213460-2f6di9d","Type":"NodeListItem","Data":"-","ListData":{"Tight":true,"BulletChar":45,"Padding":2,"Marker":"LQ==","Num":-1},"Properties":{"id":"20240201213460-2f6di9d","updated":"20240201213460"},"Children":[{"ID":"20240201213461-hdece9z","Type":"NodeParagraph","Properties":{"id":"20240201213461-hdece9z","updated":"20240201213461"},"Children":[{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"@NotBlank"},{"Type":"NodeText","Data":" 被注释的字符串非 null，并且必须包含一个非空白字符"}]}]},{"ID":"20240201213462-48g8sri","Type":"NodeListItem","Data":"-","ListData":{"Tight":true,"BulletChar":45,"Padding":2,"Marker":"LQ==","Num":-1},"Properties":{"id":"20240201213462-48g8sri","updated":"20240201213462"},"Children":[{"ID":"20240201213463-1yu6lfz","Type":"NodeParagraph","Properties":{"id":"20240201213463-1yu6lfz","updated":"20240201213463"},"Children":[{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"@Null"},{"Type":"NodeText","Data":" 被注释的元素必须为 null"}]}]},{"ID":"20240201213464-mslzmvi","Type":"NodeListItem","Data":"-","ListData":{"Tight":true,"BulletChar":45,"Padding":2,"Marker":"LQ==","Num":-1},"Properties":{"id":"20240201213464-mslzmvi","updated":"20240201213464"},"Children":[{"ID":"20240201213465-el3x06n","Type":"NodeParagraph","Properties":{"id":"20240201213465-el3x06n","updated":"20240201213465"},"Children":[{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"@NotNull"},{"Type":"NodeText","Data":" 被注释的元素必须不为 null"}]}]},{"ID":"20240201213466-w190h53","Type":"NodeListItem","Data":"-","ListData":{"Tight":true,"BulletChar":45,"Padding":2,"Marker":"LQ==","Num":-1},"Properties":{"id":"20240201213466-w190h53","updated":"20240201213466"},"Children":[{"ID":"20240201213467-b0oc263","Type":"NodeParagraph","Properties":{"id":"20240201213467-b0oc263","updated":"20240201213467"},"Children":[{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"@AssertTrue"},{"Type":"NodeText","Data":" 被注释的元素必须为 true"}]}]},{"ID":"20240201213468-7xaau7e","Type":"NodeListItem","Data":"-","ListData":{"Tight":true,"BulletChar":45,"Padding":2,"Marker":"LQ==","Num":-1},"Properties":{"id":"20240201213468-7xaau7e","updated":"20240201213468"},"Children":[{"ID":"20240201213469-34f3vp7","Type":"NodeParagraph","Properties":{"id":"20240201213469-34f3vp7","updated":"20240201213469"},"Children":[{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"@AssertFalse"},{"Type":"NodeText","Data":" 被注释的元素必须为 false"}]}]},{"ID":"20240201213470-v95b3df","Type":"NodeListItem","Data":"-","ListData":{"Tight":true,"BulletChar":45,"Padding":2,"Marker":"LQ==","Num":-1},"Properties":{"id":"20240201213470-v95b3df","updated":"20240201213470"},"Children":[{"ID":"20240201213471-mhgph4e","Type":"NodeParagraph","Properties":{"id":"20240201213471-mhgph4e","updated":"20240201213471"},"Children":[{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"@Pattern(regex=,flag=)"},{"Type":"NodeText","Data":"被注释的元素必须符合指定的正则表达式"}]}]},{"ID":"20240201213472-pqvgp9o","Type":"NodeListItem","Data":"-","ListData":{"Tight":true,"BulletChar":45,"Padding":2,"Marker":"LQ==","Num":-1},"Properties":{"id":"20240201213472-pqvgp9o","updated":"20240201213472"},"Children":[{"ID":"20240201213473-uu2hqad","Type":"NodeParagraph","Properties":{"id":"20240201213473-uu2hqad","updated":"20240201213473"},"Children":[{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"@Email"},{"Type":"NodeText","Data":" 被注释的元素必须是 Email 格式。"}]}]},{"ID":"20240201213474-7rj3164","Type":"NodeListItem","Data":"-","ListData":{"Tight":true,"BulletChar":45,"Padding":2,"Marker":"LQ==","Num":-1},"Properties":{"id":"20240201213474-7rj3164","updated":"20240201213474"},"Children":[{"ID":"20240201213475-8304g6d","Type":"NodeParagraph","Properties":{"id":"20240201213475-8304g6d","updated":"20240201213475"},"Children":[{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"@Min(value)"},{"Type":"NodeText","Data":"被注释的元素必须是一个数字，其值必须大于等于指定的最小值"}]}]},{"ID":"20240201213476-3vk86y0","Type":"NodeListItem","Data":"-","ListData":{"Tight":true,"BulletChar":45,"Padding":2,"Marker":"LQ==","Num":-1},"Properties":{"id":"20240201213476-3vk86y0","updated":"20240201213476"},"Children":[{"ID":"20240201213477-18fjwq8","Type":"NodeParagraph","Properties":{"id":"20240201213477-18fjwq8","updated":"20240201213477"},"Children":[{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"@Max(value)"},{"Type":"NodeText","Data":"被注释的元素必须是一个数字，其值必须小于等于指定的最大值"}]}]},{"ID":"20240201213478-dv80v64","Type":"NodeListItem","Data":"-","ListData":{"Tight":true,"BulletChar":45,"Padding":2,"Marker":"LQ==","Num":-1},"Properties":{"id":"20240201213478-dv80v64","updated":"20240201213478"},"Children":[{"ID":"20240201213479-quxhrkd","Type":"NodeParagraph","Properties":{"id":"20240201213479-quxhrkd","updated":"20240201213479"},"Children":[{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"@DecimalMin(value)"},{"Type":"NodeText","Data":"被注释的元素必须是一个数字，其值必须大于等于指定的最小值"}]}]},{"ID":"20240201213480-dim89bc","Type":"NodeListItem","Data":"-","ListData":{"Tight":true,"BulletChar":45,"Padding":2,"Marker":"LQ==","Num":-1},"Properties":{"id":"20240201213480-dim89bc","updated":"20240201213480"},"Children":[{"ID":"20240201213481-szey2j1","Type":"NodeParagraph","Properties":{"id":"20240201213481-szey2j1","updated":"20240201213481"},"Children":[{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"@DecimalMax(value)"},{"Type":"NodeText","Data":" 被注释的元素必须是一个数字，其值必须小于等于指定的最大值"}]}]},{"ID":"20240201213482-4r4oe6m","Type":"NodeListItem","Data":"-","ListData":{"Tight":true,"BulletChar":45,"Padding":2,"Marker":"LQ==","Num":-1},"Properties":{"id":"20240201213482-4r4oe6m","updated":"20240201213482"},"Children":[{"ID":"20240201213483-mfhe7qc","Type":"NodeParagraph","Properties":{"id":"20240201213483-mfhe7qc","updated":"20240201213483"},"Children":[{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"@Size(max=, min=)"},{"Type":"NodeText","Data":"被注释的元素的大小必须在指定的范围内"}]}]},{"ID":"20240201213484-ejkgo2w","Type":"NodeListItem","Data":"-","ListData":{"Tight":true,"BulletChar":45,"Padding":2,"Marker":"LQ==","Num":-1},"Properties":{"id":"20240201213484-ejkgo2w","updated":"20240201213484"},"Children":[{"ID":"20240201213485-mxxim9i","Type":"NodeParagraph","Properties":{"id":"20240201213485-mxxim9i","updated":"20240201213485"},"Children":[{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"@Digits(integer, fraction)"},{"Type":"NodeText","Data":"被注释的元素必须是一个数字，其值必须在可接受的范围内"}]}]},{"ID":"20240201213486-0t3sjgn","Type":"NodeListItem","Data":"-","ListData":{"Tight":true,"BulletChar":45,"Padding":2,"Marker":"LQ==","Num":-1},"Properties":{"id":"20240201213486-0t3sjgn","updated":"20240201213486"},"Children":[{"ID":"20240201213487-8ifddm7","Type":"NodeParagraph","Properties":{"id":"20240201213487-8ifddm7","updated":"20240201213487"},"Children":[{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"@Past"},{"Type":"NodeText","Data":"被注释的元素必须是一个过去的日期"}]}]},{"ID":"20240201213488-6jnse14","Type":"NodeListItem","Data":"-","ListData":{"Tight":true,"BulletChar":45,"Padding":2,"Marker":"LQ==","Num":-1},"Properties":{"id":"20240201213488-6jnse14","updated":"20240201213488"},"Children":[{"ID":"20240201213489-8mjm3kj","Type":"NodeParagraph","Properties":{"id":"20240201213489-8mjm3kj","updated":"20240201213489"},"Children":[{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"@Future"},{"Type":"NodeText","Data":" 被注释的元素必须是一个将来的日期"}]}]},{"ID":"20240201213490-k70em9r","Type":"NodeListItem","Data":"-","ListData":{"Tight":true,"BulletChar":45,"Padding":2,"Marker":"LQ==","Num":-1},"Properties":{"id":"20240201213490-k70em9r","updated":"20240201213490"},"Children":[{"ID":"20240201213491-a3cm8ag","Type":"NodeParagraph","Properties":{"id":"20240201213491-a3cm8ag","updated":"20240201213491"},"Children":[{"Type":"NodeText","Data":"……"}]}]}]},{"ID":"20240201213492-sqyb95z","Type":"NodeHeading","HeadingLevel":4,"Properties":{"id":"20240201213492-sqyb95z","updated":"20240201213492"},"Children":[{"Type":"NodeHeadingC8hMarker","Data":"#### ","Properties":{"id":""}},{"Type":"NodeText","Data":"6.2. 验证请求体(RequestBody)"}]},{"ID":"20240201213493-1o48t1g","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"CodeBlockFenceChar":96,"CodeBlockFenceLen":3,"CodeBlockOpenFence":"YGBg","CodeBlockInfo":"amF2YQ==","CodeBlockCloseFence":"YGBg","Properties":{"id":"20240201213493-1o48t1g","updated":"20240201213493"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"amF2YQ==","Properties":{"id":""}},{"Type":"NodeCodeBlockCode","Data":"@Data\n@AllArgsConstructor\n@NoArgsConstructor\npublic class Person {\n\n    @NotNull(message = \"classId 不能为空\")\n    private String classId;\n\n    @Size(max = 33)\n    @NotNull(message = \"name 不能为空\")\n    private String name;\n\n    @Pattern(regexp = \"((^Man$|^Woman$|^UGM$))\", message = \"sex 值不在可选范围\")\n    @NotNull(message = \"sex 不能为空\")\n    private String sex;\n\n    @Email(message = \"email 格式不正确\")\n    @NotNull(message = \"email 不能为空\")\n    private String email;\n\n}\n","Properties":{"id":""}},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}}]},{"ID":"20240201213494-yc6rkdo","Type":"NodeParagraph","Properties":{"id":"20240201213494-yc6rkdo","updated":"20240201213494"},"Children":[{"Type":"NodeText","Data":"我们在需要验证的参数上加上了"},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"@Valid"},{"Type":"NodeText","Data":"注解，如果验证失败，它将抛出"},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"MethodArgumentNotValidException"},{"Type":"NodeText","Data":"。"}]},{"ID":"20240201213495-4s3g9it","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"CodeBlockFenceChar":96,"CodeBlockFenceLen":3,"CodeBlockOpenFence":"YGBg","CodeBlockInfo":"amF2YQ==","CodeBlockCloseFence":"YGBg","Properties":{"id":"20240201213495-4s3g9it","updated":"20240201213495"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"amF2YQ==","Properties":{"id":""}},{"Type":"NodeCodeBlockCode","Data":"@RestController\n@RequestMapping(\"/api\")\npublic class PersonController {\n\n    @PostMapping(\"/person\")\n    public ResponseEntity\u003cPerson\u003e getPerson(@RequestBody @Valid Person person) {\n        return ResponseEntity.ok().body(person);\n    }\n}\n","Properties":{"id":""}},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}}]},{"ID":"20240201213496-zfu8bo1","Type":"NodeHeading","HeadingLevel":4,"Properties":{"id":"20240201213496-zfu8bo1","updated":"20240201213496"},"Children":[{"Type":"NodeHeadingC8hMarker","Data":"#### ","Properties":{"id":""}},{"Type":"NodeText","Data":"6.3. 验证请求参数(Path Variables 和 Request Parameters)"}]},{"ID":"20240201213497-gpq70kl","Type":"NodeParagraph","Properties":{"id":"20240201213497-gpq70kl","updated":"20240201213497"},"Children":[{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"strong","TextMarkTextContent":"一定一定不要忘记在类上加上 "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"strong code","TextMarkTextContent":"@Validated"},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"strong","TextMarkTextContent":" 注解了，这个参数可以告诉 Spring 去校验方法参数。"}]},{"ID":"20240201213498-cc93ghw","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"CodeBlockFenceChar":96,"CodeBlockFenceLen":3,"CodeBlockOpenFence":"YGBg","CodeBlockInfo":"amF2YQ==","CodeBlockCloseFence":"YGBg","Properties":{"id":"20240201213498-cc93ghw","updated":"20240201213498"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"amF2YQ==","Properties":{"id":""}},{"Type":"NodeCodeBlockCode","Data":"@RestController\n@RequestMapping(\"/api\")\n@Validated\npublic class PersonController {\n\n    @GetMapping(\"/person/{id}\")\n    public ResponseEntity\u003cInteger\u003e getPersonByID(@Valid @PathVariable(\"id\") @Max(value = 5,message = \"超过 id 的范围了\") Integer id) {\n        return ResponseEntity.ok().body(id);\n    }\n}\n","Properties":{"id":""}},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}}]},{"ID":"20240201213499-7evv76m","Type":"NodeParagraph","Properties":{"id":"20240201213499-7evv76m","updated":"20240201213499"},"Children":[{"Type":"NodeText","Data":"更多关于如何在 Spring 项目中进行参数校验的内容，请看《"},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"a","TextMarkAHref":"https://mp.weixin.qq.com/s?__biz=Mzg2OTA0Njk0OA==\u0026mid=2247485783\u0026idx=1\u0026sn=a407f3b75efa17c643407daa7fb2acd6\u0026chksm=cea2469cf9d5cf8afbcd0a8a1c9cc4294d6805b8e01bee6f76bb2884c5bc15478e91459def49\u0026token=292197051\u0026lang=zh_CN#rd","TextMarkTextContent":"如何在 Spring/Spring Boot 中做参数校验？你需要了解的都在这里！"},{"Type":"NodeText","Data":"》这篇文章。"}]},{"ID":"20240201213500-5z2ciss","Type":"NodeHeading","HeadingLevel":3,"Properties":{"id":"20240201213500-5z2ciss","updated":"20240201213500"},"Children":[{"Type":"NodeHeadingC8hMarker","Data":"### ","Properties":{"id":""}},{"Type":"NodeText","Data":"7. 全局处理 Controller 层异常"}]},{"ID":"20240201213501-0kkjm77","Type":"NodeParagraph","Properties":{"id":"20240201213501-0kkjm77","updated":"20240201213501"},"Children":[{"Type":"NodeText","Data":"介绍一下我们 Spring 项目必备的全局处理 Controller 层异常。"}]},{"ID":"20240201213502-2myihvo","Type":"NodeParagraph","Properties":{"id":"20240201213502-2myihvo","updated":"20240201213502"},"Children":[{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"strong","TextMarkTextContent":"相关注解："}]},{"ID":"20240201213503-foaptm7","Type":"NodeList","ListData":{"Typ":1,"Tight":true,"Start":1,"Delimiter":46,"Padding":3,"Marker":"MQ==","Num":1},"Properties":{"id":"20240201213503-foaptm7","updated":"20240201213503"},"Children":[{"ID":"20240201213504-i7wxjdf","Type":"NodeListItem","Data":"1","ListData":{"Typ":1,"Tight":true,"Start":1,"Delimiter":46,"Padding":3,"Marker":"MQ==","Num":1},"Properties":{"id":"20240201213504-i7wxjdf","updated":"20240201213504"},"Children":[{"ID":"20240201213505-17uaqly","Type":"NodeParagraph","Properties":{"id":"20240201213505-17uaqly","updated":"20240201213505"},"Children":[{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"@ControllerAdvice"},{"Type":"NodeText","Data":" :注解定义全局异常处理类"}]}]},{"ID":"20240201213506-zr1o071","Type":"NodeListItem","Data":"2","ListData":{"Typ":1,"Tight":true,"Start":2,"Delimiter":46,"Padding":3,"Marker":"Mg==","Num":2},"Properties":{"id":"20240201213506-zr1o071","updated":"20240201213506"},"Children":[{"ID":"20240201213507-mi7pj7v","Type":"NodeParagraph","Properties":{"id":"20240201213507-mi7pj7v","updated":"20240201213507"},"Children":[{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"@ExceptionHandler"},{"Type":"NodeText","Data":" :注解声明异常处理方法"}]}]}]},{"ID":"20240201213508-1ka7zbx","Type":"NodeParagraph","Properties":{"id":"20240201213508-1ka7zbx","updated":"20240201213508"},"Children":[{"Type":"NodeText","Data":"如何使用呢？拿我们在第 5 节参数校验这块来举例子。如果方法参数不对的话就会抛出"},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"MethodArgumentNotValidException"},{"Type":"NodeText","Data":"，我们来处理这个异常。"}]},{"ID":"20240201213509-0by9g80","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"CodeBlockFenceChar":96,"CodeBlockFenceLen":3,"CodeBlockOpenFence":"YGBg","CodeBlockInfo":"amF2YQ==","CodeBlockCloseFence":"YGBg","Properties":{"id":"20240201213509-0by9g80","updated":"20240201213509"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"amF2YQ==","Properties":{"id":""}},{"Type":"NodeCodeBlockCode","Data":"@ControllerAdvice\n@ResponseBody\npublic class GlobalExceptionHandler {\n\n    /**\n     * 请求参数异常处理\n     */\n    @ExceptionHandler(MethodArgumentNotValidException.class)\n    public ResponseEntity\u003c?\u003e handleMethodArgumentNotValidException(MethodArgumentNotValidException ex, HttpServletRequest request) {\n       ......\n    }\n}\n","Properties":{"id":""}},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}}]},{"ID":"20240201213510-qnw6x92","Type":"NodeParagraph","Properties":{"id":"20240201213510-qnw6x92","updated":"20240201213510"},"Children":[{"Type":"NodeText","Data":"更多关于 Spring Boot 异常处理的内容，请看我的这两篇文章："}]},{"ID":"20240201213511-j651br0","Type":"NodeList","ListData":{"Typ":1,"Tight":true,"Start":1,"Delimiter":46,"Padding":3,"Marker":"MQ==","Num":1},"Properties":{"id":"20240201213511-j651br0","updated":"20240201213511"},"Children":[{"ID":"20240201213512-btngl9f","Type":"NodeListItem","Data":"1","ListData":{"Typ":1,"Tight":true,"Start":1,"Delimiter":46,"Padding":3,"Marker":"MQ==","Num":1},"Properties":{"id":"20240201213512-btngl9f","updated":"20240201213512"},"Children":[{"ID":"20240201213513-excen0i","Type":"NodeParagraph","Properties":{"id":"20240201213513-excen0i","updated":"20240201213513"},"Children":[{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"a","TextMarkAHref":"https://mp.weixin.qq.com/s?__biz=Mzg2OTA0Njk0OA==\u0026mid=2247485568\u0026idx=2\u0026sn=c5ba880fd0c5d82e39531fa42cb036ac\u0026chksm=cea2474bf9d5ce5dcbc6a5f6580198fdce4bc92ef577579183a729cb5d1430e4994720d59b34\u0026token=2133161636\u0026lang=zh_CN#rd","TextMarkTextContent":"SpringBoot 处理异常的几种常见姿势"}]}]},{"ID":"20240201213514-1iy6ocu","Type":"NodeListItem","Data":"2","ListData":{"Typ":1,"Tight":true,"Start":2,"Delimiter":46,"Padding":3,"Marker":"Mg==","Num":2},"Properties":{"id":"20240201213514-1iy6ocu","updated":"20240201213514"},"Children":[{"ID":"20240201213515-zknbx79","Type":"NodeParagraph","Properties":{"id":"20240201213515-zknbx79","updated":"20240201213515"},"Children":[{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"a","TextMarkAHref":"https://mp.weixin.qq.com/s?__biz=Mzg2OTA0Njk0OA==\u0026mid=2247486379\u0026idx=2\u0026sn=48c29ae65b3ed874749f0803f0e4d90e\u0026chksm=cea24460f9d5cd769ed53ad7e17c97a7963a89f5350e370be633db0ae8d783c3a3dbd58c70f8\u0026token=1054498516\u0026lang=zh_CN#rd","TextMarkTextContent":"使用枚举简单封装一个优雅的 Spring Boot 全局异常处理！"}]}]}]},{"ID":"20240201213516-7gxvstt","Type":"NodeHeading","HeadingLevel":3,"Properties":{"id":"20240201213516-7gxvstt","updated":"20240201213516"},"Children":[{"Type":"NodeHeadingC8hMarker","Data":"### ","Properties":{"id":""}},{"Type":"NodeText","Data":"8. JPA 相关"}]},{"ID":"20240201213517-e31hph5","Type":"NodeHeading","HeadingLevel":4,"Properties":{"id":"20240201213517-e31hph5","updated":"20240201213517"},"Children":[{"Type":"NodeHeadingC8hMarker","Data":"#### ","Properties":{"id":""}},{"Type":"NodeText","Data":"8.1. 创建表"}]},{"ID":"20240201213518-8kk7o9h","Type":"NodeParagraph","Properties":{"id":"20240201213518-8kk7o9h","updated":"20240201213518"},"Children":[{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"@Entity"},{"Type":"NodeText","Data":"声明一个类对应一个数据库实体。"}]},{"ID":"20240201213519-964snez","Type":"NodeParagraph","Properties":{"id":"20240201213519-964snez","updated":"20240201213519"},"Children":[{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"@Table"},{"Type":"NodeText","Data":" 设置表名"}]},{"ID":"20240201213520-0z92ujx","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"CodeBlockFenceChar":96,"CodeBlockFenceLen":3,"CodeBlockOpenFence":"YGBg","CodeBlockInfo":"amF2YQ==","CodeBlockCloseFence":"YGBg","Properties":{"id":"20240201213520-0z92ujx","updated":"20240201213520"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"amF2YQ==","Properties":{"id":""}},{"Type":"NodeCodeBlockCode","Data":"@Entity\n@Table(name = \"role\")\npublic class Role {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n    private String name;\n    private String description;\n    省略getter/setter......\n}\n","Properties":{"id":""}},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}}]},{"ID":"20240201213521-cw7r82w","Type":"NodeHeading","HeadingLevel":4,"Properties":{"id":"20240201213521-cw7r82w","updated":"20240201213521"},"Children":[{"Type":"NodeHeadingC8hMarker","Data":"#### ","Properties":{"id":""}},{"Type":"NodeText","Data":"8.2. 创建主键"}]},{"ID":"20240201213522-0rrjwsz","Type":"NodeParagraph","Properties":{"id":"20240201213522-0rrjwsz","updated":"20240201213522"},"Children":[{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"@Id"},{"Type":"NodeText","Data":"：声明一个字段为主键。"}]},{"ID":"20240201213523-9t6bv4d","Type":"NodeParagraph","Properties":{"id":"20240201213523-9t6bv4d","updated":"20240201213523"},"Children":[{"Type":"NodeText","Data":"使用"},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"@Id"},{"Type":"NodeText","Data":"声明之后，我们还需要定义主键的生成策略。我们可以使用 "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"@GeneratedValue"},{"Type":"NodeText","Data":" 指定主键生成策略。"}]},{"ID":"20240201213524-5bt66pn","Type":"NodeParagraph","Properties":{"id":"20240201213524-5bt66pn","updated":"20240201213524"},"Children":[{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"strong","TextMarkTextContent":"1.通过 "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"strong code","TextMarkTextContent":"@GeneratedValue"},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"strong","TextMarkTextContent":"直接使用 JPA 内置提供的四种主键生成策略来指定主键生成策略。"}]},{"ID":"20240201213525-kelhnyx","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"CodeBlockFenceChar":96,"CodeBlockFenceLen":3,"CodeBlockOpenFence":"YGBg","CodeBlockInfo":"amF2YQ==","CodeBlockCloseFence":"YGBg","Properties":{"id":"20240201213525-kelhnyx","updated":"20240201213525"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"amF2YQ==","Properties":{"id":""}},{"Type":"NodeCodeBlockCode","Data":"@Id\n@GeneratedValue(strategy = GenerationType.IDENTITY)\nprivate Long id;\n","Properties":{"id":""}},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}}]},{"ID":"20240201213526-wsue1t6","Type":"NodeParagraph","Properties":{"id":"20240201213526-wsue1t6","updated":"20240201213526"},"Children":[{"Type":"NodeText","Data":"JPA 使用枚举定义了 4 种常见的主键生成策略，如下："}]},{"ID":"20240201213527-wqo9t62","Type":"NodeParagraph","Properties":{"id":"20240201213527-wqo9t62","updated":"20240201213527"},"Children":[{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"em","TextMarkTextContent":"Guide：枚举替代常量的一种用法"}]},{"ID":"20240201213528-m18zll5","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"CodeBlockFenceChar":96,"CodeBlockFenceLen":3,"CodeBlockOpenFence":"YGBg","CodeBlockInfo":"amF2YQ==","CodeBlockCloseFence":"YGBg","Properties":{"id":"20240201213528-m18zll5","updated":"20240201213528"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"amF2YQ==","Properties":{"id":""}},{"Type":"NodeCodeBlockCode","Data":"public enum GenerationType {\n\n    /**\n     * 使用一个特定的数据库表格来保存主键\n     * 持久化引擎通过关系数据库的一张特定的表格来生成主键,\n     */\n    TABLE,\n\n    /**\n     *在某些数据库中,不支持主键自增长,比如Oracle、PostgreSQL其提供了一种叫做\"序列(sequence)\"的机制生成主键\n     */\n    SEQUENCE,\n\n    /**\n     * 主键自增长\n     */\n    IDENTITY,\n\n    /**\n     *把主键生成策略交给持久化引擎(persistence engine),\n     *持久化引擎会根据数据库在以上三种主键生成 策略中选择其中一种\n     */\n    AUTO\n}\n\n","Properties":{"id":""}},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}}]},{"ID":"20240201213529-8ul8g9x","Type":"NodeParagraph","Properties":{"id":"20240201213529-8ul8g9x","updated":"20240201213529"},"Children":[{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"@GeneratedValue"},{"Type":"NodeText","Data":"注解默认使用的策略是"},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"GenerationType.AUTO"}]},{"ID":"20240201213530-fmjn8l7","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"CodeBlockFenceChar":96,"CodeBlockFenceLen":3,"CodeBlockOpenFence":"YGBg","CodeBlockInfo":"amF2YQ==","CodeBlockCloseFence":"YGBg","Properties":{"id":"20240201213530-fmjn8l7","updated":"20240201213530"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"amF2YQ==","Properties":{"id":""}},{"Type":"NodeCodeBlockCode","Data":"public @interface GeneratedValue {\n\n    GenerationType strategy() default AUTO;\n    String generator() default \"\";\n}\n","Properties":{"id":""}},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}}]},{"ID":"20240201213531-m4r4t5m","Type":"NodeParagraph","Properties":{"id":"20240201213531-m4r4t5m","updated":"20240201213531"},"Children":[{"Type":"NodeText","Data":"一般使用 MySQL 数据库的话，使用"},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"GenerationType.IDENTITY"},{"Type":"NodeText","Data":"策略比较普遍一点（分布式系统的话需要另外考虑使用分布式 ID）。"}]},{"ID":"20240201213532-7tt4yph","Type":"NodeParagraph","Properties":{"id":"20240201213532-7tt4yph","updated":"20240201213532"},"Children":[{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"strong","TextMarkTextContent":"2.通过 "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"strong code","TextMarkTextContent":"@GenericGenerator"},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"strong","TextMarkTextContent":"声明一个主键策略，然后 "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"strong code","TextMarkTextContent":"@GeneratedValue"},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"strong","TextMarkTextContent":"使用这个策略"}]},{"ID":"20240201213533-y4sziv2","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"CodeBlockFenceChar":96,"CodeBlockFenceLen":3,"CodeBlockOpenFence":"YGBg","CodeBlockInfo":"amF2YQ==","CodeBlockCloseFence":"YGBg","Properties":{"id":"20240201213533-y4sziv2","updated":"20240201213533"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"amF2YQ==","Properties":{"id":""}},{"Type":"NodeCodeBlockCode","Data":"@Id\n@GeneratedValue(generator = \"IdentityIdGenerator\")\n@GenericGenerator(name = \"IdentityIdGenerator\", strategy = \"identity\")\nprivate Long id;\n","Properties":{"id":""}},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}}]},{"ID":"20240201213534-mdx8k3l","Type":"NodeParagraph","Properties":{"id":"20240201213534-mdx8k3l","updated":"20240201213534"},"Children":[{"Type":"NodeText","Data":"等价于："}]},{"ID":"20240201213535-enrdmfd","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"CodeBlockFenceChar":96,"CodeBlockFenceLen":3,"CodeBlockOpenFence":"YGBg","CodeBlockInfo":"amF2YQ==","CodeBlockCloseFence":"YGBg","Properties":{"id":"20240201213535-enrdmfd","updated":"20240201213535"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"amF2YQ==","Properties":{"id":""}},{"Type":"NodeCodeBlockCode","Data":"@Id\n@GeneratedValue(strategy = GenerationType.IDENTITY)\nprivate Long id;\n","Properties":{"id":""}},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}}]},{"ID":"20240201213536-4uiq37o","Type":"NodeParagraph","Properties":{"id":"20240201213536-4uiq37o","updated":"20240201213536"},"Children":[{"Type":"NodeText","Data":"jpa 提供的主键生成策略有如下几种："}]},{"ID":"20240201213537-8ftojs9","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"CodeBlockFenceChar":96,"CodeBlockFenceLen":3,"CodeBlockOpenFence":"YGBg","CodeBlockInfo":"amF2YQ==","CodeBlockCloseFence":"YGBg","Properties":{"id":"20240201213537-8ftojs9","updated":"20240201213537"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"amF2YQ==","Properties":{"id":""}},{"Type":"NodeCodeBlockCode","Data":"public class DefaultIdentifierGeneratorFactory\n    implements MutableIdentifierGeneratorFactory, Serializable, ServiceRegistryAwareService {\n\n  @SuppressWarnings(\"deprecation\")\n  public DefaultIdentifierGeneratorFactory() {\n    register( \"uuid2\", UUIDGenerator.class );\n    register( \"guid\", GUIDGenerator.class );      // can be done with UUIDGenerator + strategy\n    register( \"uuid\", UUIDHexGenerator.class );      // \"deprecated\" for new use\n    register( \"uuid.hex\", UUIDHexGenerator.class );   // uuid.hex is deprecated\n    register( \"assigned\", Assigned.class );\n    register( \"identity\", IdentityGenerator.class );\n    register( \"select\", SelectGenerator.class );\n    register( \"sequence\", SequenceStyleGenerator.class );\n    register( \"seqhilo\", SequenceHiLoGenerator.class );\n    register( \"increment\", IncrementGenerator.class );\n    register( \"foreign\", ForeignGenerator.class );\n    register( \"sequence-identity\", SequenceIdentityGenerator.class );\n    register( \"enhanced-sequence\", SequenceStyleGenerator.class );\n    register( \"enhanced-table\", TableGenerator.class );\n  }\n\n  public void register(String strategy, Class generatorClass) {\n    LOG.debugf( \"Registering IdentifierGenerator strategy [%s] -\u003e [%s]\", strategy, generatorClass.getName() );\n    final Class previous = generatorStrategyToClassNameMap.put( strategy, generatorClass );\n    if ( previous != null ) {\n      LOG.debugf( \"    - overriding [%s]\", previous.getName() );\n    }\n  }\n\n}\n","Properties":{"id":""}},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}}]},{"ID":"20240201213538-wuk5jcv","Type":"NodeHeading","HeadingLevel":4,"Properties":{"id":"20240201213538-wuk5jcv","updated":"20240201213538"},"Children":[{"Type":"NodeHeadingC8hMarker","Data":"#### ","Properties":{"id":""}},{"Type":"NodeText","Data":"8.3. 设置字段类型"}]},{"ID":"20240201213539-d5umnko","Type":"NodeParagraph","Properties":{"id":"20240201213539-d5umnko","updated":"20240201213539"},"Children":[{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"@Column"},{"Type":"NodeText","Data":" 声明字段。"}]},{"ID":"20240201213540-bafil5g","Type":"NodeParagraph","Properties":{"id":"20240201213540-bafil5g","updated":"20240201213540"},"Children":[{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"strong","TextMarkTextContent":"示例："}]},{"ID":"20240201213541-jwgumki","Type":"NodeParagraph","Properties":{"id":"20240201213541-jwgumki","updated":"20240201213541"},"Children":[{"Type":"NodeText","Data":"设置属性 userName 对应的数据库字段名为 user_name，长度为 32，非空"}]},{"ID":"20240201213542-sfab4t3","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"CodeBlockFenceChar":96,"CodeBlockFenceLen":3,"CodeBlockOpenFence":"YGBg","CodeBlockInfo":"amF2YQ==","CodeBlockCloseFence":"YGBg","Properties":{"id":"20240201213542-sfab4t3","updated":"20240201213542"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"amF2YQ==","Properties":{"id":""}},{"Type":"NodeCodeBlockCode","Data":"@Column(name = \"user_name\", nullable = false, length=32)\nprivate String userName;\n","Properties":{"id":""}},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}}]},{"ID":"20240201213543-yuac73e","Type":"NodeParagraph","Properties":{"id":"20240201213543-yuac73e","updated":"20240201213543"},"Children":[{"Type":"NodeText","Data":"设置字段类型并且加默认值，这个还是挺常用的。"}]},{"ID":"20240201213544-6tzpvdi","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"CodeBlockFenceChar":96,"CodeBlockFenceLen":3,"CodeBlockOpenFence":"YGBg","CodeBlockInfo":"amF2YQ==","CodeBlockCloseFence":"YGBg","Properties":{"id":"20240201213544-6tzpvdi","updated":"20240201213544"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"amF2YQ==","Properties":{"id":""}},{"Type":"NodeCodeBlockCode","Data":"@Column(columnDefinition = \"tinyint(1) default 1\")\nprivate Boolean enabled;\n","Properties":{"id":""}},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}}]},{"ID":"20240201213545-s8l7t8x","Type":"NodeHeading","HeadingLevel":4,"Properties":{"id":"20240201213545-s8l7t8x","updated":"20240201213545"},"Children":[{"Type":"NodeHeadingC8hMarker","Data":"#### ","Properties":{"id":""}},{"Type":"NodeText","Data":"8.4. 指定不持久化特定字段"}]},{"ID":"20240201213546-2jz08zh","Type":"NodeParagraph","Properties":{"id":"20240201213546-2jz08zh","updated":"20240201213546"},"Children":[{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"@Transient"},{"Type":"NodeText","Data":"：声明不需要与数据库映射的字段，在保存的时候不需要保存进数据库 。"}]},{"ID":"20240201213547-x3jn3zh","Type":"NodeParagraph","Properties":{"id":"20240201213547-x3jn3zh","updated":"20240201213547"},"Children":[{"Type":"NodeText","Data":"如果我们想让"},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"secrect"},{"Type":"NodeText","Data":" 这个字段不被持久化，可以使用 "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"@Transient"},{"Type":"NodeText","Data":"关键字声明。"}]},{"ID":"20240201213548-5tjpmjy","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"CodeBlockFenceChar":96,"CodeBlockFenceLen":3,"CodeBlockOpenFence":"YGBg","CodeBlockInfo":"amF2YQ==","CodeBlockCloseFence":"YGBg","Properties":{"id":"20240201213548-5tjpmjy","updated":"20240201213548"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"amF2YQ==","Properties":{"id":""}},{"Type":"NodeCodeBlockCode","Data":"@Entity(name=\"USER\")\npublic class User {\n\n    ......\n    @Transient\n    private String secrect; // not persistent because of @Transient\n\n}\n","Properties":{"id":""}},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}}]},{"ID":"20240201213549-w2unlg7","Type":"NodeParagraph","Properties":{"id":"20240201213549-w2unlg7","updated":"20240201213549"},"Children":[{"Type":"NodeText","Data":"除了 "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"@Transient"},{"Type":"NodeText","Data":"关键字声明， 还可以采用下面几种方法："}]},{"ID":"20240201213550-kjhn13z","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"CodeBlockFenceChar":96,"CodeBlockFenceLen":3,"CodeBlockOpenFence":"YGBg","CodeBlockInfo":"amF2YQ==","CodeBlockCloseFence":"YGBg","Properties":{"id":"20240201213550-kjhn13z","updated":"20240201213550"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"amF2YQ==","Properties":{"id":""}},{"Type":"NodeCodeBlockCode","Data":"static String secrect; // not persistent because of static\nfinal String secrect = \"Satish\"; // not persistent because of final\ntransient String secrect; // not persistent because of transient\n","Properties":{"id":""}},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}}]},{"ID":"20240201213551-2zz2tt6","Type":"NodeParagraph","Properties":{"id":"20240201213551-2zz2tt6","updated":"20240201213551"},"Children":[{"Type":"NodeText","Data":"一般使用注解的方式比较多。"}]},{"ID":"20240201213552-70jag39","Type":"NodeHeading","HeadingLevel":4,"Properties":{"id":"20240201213552-70jag39","updated":"20240201213552"},"Children":[{"Type":"NodeHeadingC8hMarker","Data":"#### ","Properties":{"id":""}},{"Type":"NodeText","Data":"8.5. 声明大字段"}]},{"ID":"20240201213553-1pl1yd0","Type":"NodeParagraph","Properties":{"id":"20240201213553-1pl1yd0","updated":"20240201213553"},"Children":[{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"@Lob"},{"Type":"NodeText","Data":":声明某个字段为大字段。"}]},{"ID":"20240201213554-tmw7r4x","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"CodeBlockFenceChar":96,"CodeBlockFenceLen":3,"CodeBlockOpenFence":"YGBg","CodeBlockInfo":"amF2YQ==","CodeBlockCloseFence":"YGBg","Properties":{"id":"20240201213554-tmw7r4x","updated":"20240201213554"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"amF2YQ==","Properties":{"id":""}},{"Type":"NodeCodeBlockCode","Data":"@Lob\nprivate String content;\n","Properties":{"id":""}},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}}]},{"ID":"20240201213555-ohytcno","Type":"NodeParagraph","Properties":{"id":"20240201213555-ohytcno","updated":"20240201213555"},"Children":[{"Type":"NodeText","Data":"更详细的声明："}]},{"ID":"20240201213556-kw2xmj4","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"CodeBlockFenceChar":96,"CodeBlockFenceLen":3,"CodeBlockOpenFence":"YGBg","CodeBlockInfo":"amF2YQ==","CodeBlockCloseFence":"YGBg","Properties":{"id":"20240201213556-kw2xmj4","updated":"20240201213556"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"amF2YQ==","Properties":{"id":""}},{"Type":"NodeCodeBlockCode","Data":"@Lob\n//指定 Lob 类型数据的获取策略， FetchType.EAGER 表示非延迟加载，而 FetchType.LAZY 表示延迟加载 ；\n@Basic(fetch = FetchType.EAGER)\n//columnDefinition 属性指定数据表对应的 Lob 字段类型\n@Column(name = \"content\", columnDefinition = \"LONGTEXT NOT NULL\")\nprivate String content;\n","Properties":{"id":""}},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}}]},{"ID":"20240201213557-3murt25","Type":"NodeHeading","HeadingLevel":4,"Properties":{"id":"20240201213557-3murt25","updated":"20240201213557"},"Children":[{"Type":"NodeHeadingC8hMarker","Data":"#### ","Properties":{"id":""}},{"Type":"NodeText","Data":"8.6. 创建枚举类型的字段"}]},{"ID":"20240201213558-f1snsav","Type":"NodeParagraph","Properties":{"id":"20240201213558-f1snsav","updated":"20240201213558"},"Children":[{"Type":"NodeText","Data":"可以使用枚举类型的字段，不过枚举字段要用"},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"@Enumerated"},{"Type":"NodeText","Data":"注解修饰。"}]},{"ID":"20240201213559-26ohp3y","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"CodeBlockFenceChar":96,"CodeBlockFenceLen":3,"CodeBlockOpenFence":"YGBg","CodeBlockInfo":"amF2YQ==","CodeBlockCloseFence":"YGBg","Properties":{"id":"20240201213559-26ohp3y","updated":"20240201213559"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"amF2YQ==","Properties":{"id":""}},{"Type":"NodeCodeBlockCode","Data":"public enum Gender {\n    MALE(\"男性\"),\n    FEMALE(\"女性\");\n\n    private String value;\n    Gender(String str){\n        value=str;\n    }\n}\n","Properties":{"id":""}},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}}]},{"ID":"20240201213560-kj48b0d","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"CodeBlockFenceChar":96,"CodeBlockFenceLen":3,"CodeBlockOpenFence":"YGBg","CodeBlockInfo":"amF2YQ==","CodeBlockCloseFence":"YGBg","Properties":{"id":"20240201213560-kj48b0d","updated":"20240201213560"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"amF2YQ==","Properties":{"id":""}},{"Type":"NodeCodeBlockCode","Data":"@Entity\n@Table(name = \"role\")\npublic class Role {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n    private String name;\n    private String description;\n    @Enumerated(EnumType.STRING)\n    private Gender gender;\n    省略getter/setter......\n}\n","Properties":{"id":""}},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}}]},{"ID":"20240201213561-90jf76s","Type":"NodeParagraph","Properties":{"id":"20240201213561-90jf76s","updated":"20240201213561"},"Children":[{"Type":"NodeText","Data":"数据库里面对应存储的是 MALE/FEMALE。"}]},{"ID":"20240201213562-fncoeyf","Type":"NodeHeading","HeadingLevel":4,"Properties":{"id":"20240201213562-fncoeyf","updated":"20240201213562"},"Children":[{"Type":"NodeHeadingC8hMarker","Data":"#### ","Properties":{"id":""}},{"Type":"NodeText","Data":"8.7. 增加审计功能"}]},{"ID":"20240201213563-gqqadw1","Type":"NodeParagraph","Properties":{"id":"20240201213563-gqqadw1","updated":"20240201213563"},"Children":[{"Type":"NodeText","Data":"只要继承了 "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"AbstractAuditBase"},{"Type":"NodeText","Data":"的类都会默认加上下面四个字段。"}]},{"ID":"20240201213564-6o8x1hi","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"CodeBlockFenceChar":96,"CodeBlockFenceLen":3,"CodeBlockOpenFence":"YGBg","CodeBlockInfo":"amF2YQ==","CodeBlockCloseFence":"YGBg","Properties":{"id":"20240201213564-6o8x1hi","updated":"20240201213564"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"amF2YQ==","Properties":{"id":""}},{"Type":"NodeCodeBlockCode","Data":"@Data\n@AllArgsConstructor\n@NoArgsConstructor\n@MappedSuperclass\n@EntityListeners(value = AuditingEntityListener.class)\npublic abstract class AbstractAuditBase {\n\n    @CreatedDate\n    @Column(updatable = false)\n    @JsonIgnore\n    private Instant createdAt;\n\n    @LastModifiedDate\n    @JsonIgnore\n    private Instant updatedAt;\n\n    @CreatedBy\n    @Column(updatable = false)\n    @JsonIgnore\n    private String createdBy;\n\n    @LastModifiedBy\n    @JsonIgnore\n    private String updatedBy;\n}\n\n","Properties":{"id":""}},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}}]},{"ID":"20240201213565-azwqcaq","Type":"NodeParagraph","Properties":{"id":"20240201213565-azwqcaq","updated":"20240201213565"},"Children":[{"Type":"NodeText","Data":"我们对应的审计功能对应地配置类可能是下面这样的（Spring Security 项目）:"}]},{"ID":"20240201213566-0e60cqr","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"CodeBlockFenceChar":96,"CodeBlockFenceLen":3,"CodeBlockOpenFence":"YGBg","CodeBlockInfo":"amF2YQ==","CodeBlockCloseFence":"YGBg","Properties":{"id":"20240201213566-0e60cqr","updated":"20240201213566"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"amF2YQ==","Properties":{"id":""}},{"Type":"NodeCodeBlockCode","Data":"\n@Configuration\n@EnableJpaAuditing\npublic class AuditSecurityConfiguration {\n    @Bean\n    AuditorAware\u003cString\u003e auditorAware() {\n        return () -\u003e Optional.ofNullable(SecurityContextHolder.getContext())\n                .map(SecurityContext::getAuthentication)\n                .filter(Authentication::isAuthenticated)\n                .map(Authentication::getName);\n    }\n}\n","Properties":{"id":""}},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}}]},{"ID":"20240201213567-efn14ku","Type":"NodeParagraph","Properties":{"id":"20240201213567-efn14ku","updated":"20240201213567"},"Children":[{"Type":"NodeText","Data":"简单介绍一下上面涉及到的一些注解："}]},{"ID":"20240201213568-sjuyn3v","Type":"NodeList","ListData":{"Typ":1,"Start":1,"Delimiter":46,"Padding":3,"Marker":"MQ==","Num":1},"Properties":{"id":"20240201213568-sjuyn3v","updated":"20240201213568"},"Children":[{"ID":"20240201213569-90n0lxd","Type":"NodeListItem","Data":"1","ListData":{"Typ":1,"Start":1,"Delimiter":46,"Padding":3,"Marker":"MQ==","Num":1},"Properties":{"id":"20240201213569-90n0lxd","updated":"20240201213569"},"Children":[{"ID":"20240201213570-upokwqc","Type":"NodeParagraph","Properties":{"id":"20240201213570-upokwqc","updated":"20240201213570"},"Children":[{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"@CreatedDate"},{"Type":"NodeText","Data":": 表示该字段为创建时间字段，在这个实体被 insert 的时候，会设置值"}]}]},{"ID":"20240201213571-x0nc1ik","Type":"NodeListItem","Data":"2","ListData":{"Typ":1,"Tight":true,"Start":2,"Delimiter":46,"Padding":3,"Marker":"Mg==","Num":2},"Properties":{"id":"20240201213571-x0nc1ik","updated":"20240201213571"},"Children":[{"ID":"20240201213572-1skyq1m","Type":"NodeParagraph","Properties":{"id":"20240201213572-1skyq1m","updated":"20240201213572"},"Children":[{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"@CreatedBy"},{"Type":"NodeText","Data":" :表示该字段为创建人，在这个实体被 insert 的时候，会设置值"}]},{"ID":"20240201213573-fvmey2t","Type":"NodeParagraph","Properties":{"id":"20240201213573-fvmey2t","updated":"20240201213573"},"Children":[{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"@LastModifiedDate"},{"Type":"NodeText","Data":"、"},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"@LastModifiedBy"},{"Type":"NodeText","Data":"同理。"}]}]}]},{"ID":"20240201213574-j6b60sn","Type":"NodeParagraph","Properties":{"id":"20240201213574-j6b60sn","updated":"20240201213574"},"Children":[{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"@EnableJpaAuditing"},{"Type":"NodeText","Data":"：开启 JPA 审计功能。"}]},{"ID":"20240201213575-xt2xd6g","Type":"NodeHeading","HeadingLevel":4,"Properties":{"id":"20240201213575-xt2xd6g","updated":"20240201213575"},"Children":[{"Type":"NodeHeadingC8hMarker","Data":"#### ","Properties":{"id":""}},{"Type":"NodeText","Data":"8.8. 删除/修改数据"}]},{"ID":"20240201213576-h7nyt26","Type":"NodeParagraph","Properties":{"id":"20240201213576-h7nyt26","updated":"20240201213576"},"Children":[{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"@Modifying"},{"Type":"NodeText","Data":" 注解提示 JPA 该操作是修改操作,注意还要配合"},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"@Transactional"},{"Type":"NodeText","Data":"注解使用。"}]},{"ID":"20240201213577-mfdkgd4","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"CodeBlockFenceChar":96,"CodeBlockFenceLen":3,"CodeBlockOpenFence":"YGBg","CodeBlockInfo":"amF2YQ==","CodeBlockCloseFence":"YGBg","Properties":{"id":"20240201213577-mfdkgd4","updated":"20240201213577"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"amF2YQ==","Properties":{"id":""}},{"Type":"NodeCodeBlockCode","Data":"@Repository\npublic interface UserRepository extends JpaRepository\u003cUser, Integer\u003e {\n\n    @Modifying\n    @Transactional(rollbackFor = Exception.class)\n    void deleteByUserName(String userName);\n}\n","Properties":{"id":""}},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}}]},{"ID":"20240201213578-gi9mu24","Type":"NodeHeading","HeadingLevel":4,"Properties":{"id":"20240201213578-gi9mu24","updated":"20240201213578"},"Children":[{"Type":"NodeHeadingC8hMarker","Data":"#### ","Properties":{"id":""}},{"Type":"NodeText","Data":"8.9. 关联关系"}]},{"ID":"20240201213579-fbedqwu","Type":"NodeList","ListData":{"Tight":true,"BulletChar":45,"Padding":2,"Marker":"LQ==","Num":-1},"Properties":{"id":"20240201213579-fbedqwu","updated":"20240201213579"},"Children":[{"ID":"20240201213580-uaf1tp1","Type":"NodeListItem","Data":"-","ListData":{"Tight":true,"BulletChar":45,"Padding":2,"Marker":"LQ==","Num":-1},"Properties":{"id":"20240201213580-uaf1tp1","updated":"20240201213580"},"Children":[{"ID":"20240201213581-5d1uj3m","Type":"NodeParagraph","Properties":{"id":"20240201213581-5d1uj3m","updated":"20240201213581"},"Children":[{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"@OneToOne"},{"Type":"NodeText","Data":" 声明一对一关系"}]}]},{"ID":"20240201213582-rh9k78z","Type":"NodeListItem","Data":"-","ListData":{"Tight":true,"BulletChar":45,"Padding":2,"Marker":"LQ==","Num":-1},"Properties":{"id":"20240201213582-rh9k78z","updated":"20240201213582"},"Children":[{"ID":"20240201213583-7rg4m0e","Type":"NodeParagraph","Properties":{"id":"20240201213583-7rg4m0e","updated":"20240201213583"},"Children":[{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"@OneToMany"},{"Type":"NodeText","Data":" 声明一对多关系"}]}]},{"ID":"20240201213584-plsilq0","Type":"NodeListItem","Data":"-","ListData":{"Tight":true,"BulletChar":45,"Padding":2,"Marker":"LQ==","Num":-1},"Properties":{"id":"20240201213584-plsilq0","updated":"20240201213584"},"Children":[{"ID":"20240201213585-1slobwl","Type":"NodeParagraph","Properties":{"id":"20240201213585-1slobwl","updated":"20240201213585"},"Children":[{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"@ManyToOne"},{"Type":"NodeText","Data":" 声明多对一关系"}]}]},{"ID":"20240201213586-z5hjvu7","Type":"NodeListItem","Data":"-","ListData":{"Tight":true,"BulletChar":45,"Padding":2,"Marker":"LQ==","Num":-1},"Properties":{"id":"20240201213586-z5hjvu7","updated":"20240201213586"},"Children":[{"ID":"20240201213587-dv8749p","Type":"NodeParagraph","Properties":{"id":"20240201213587-dv8749p","updated":"20240201213587"},"Children":[{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"@ManyToMany"},{"Type":"NodeText","Data":" 声明多对多关系"}]}]}]},{"ID":"20240201213588-7s71zoj","Type":"NodeParagraph","Properties":{"id":"20240201213588-7s71zoj","updated":"20240201213588"},"Children":[{"Type":"NodeText","Data":"更多关于 Spring Boot JPA 的文章请看我的这篇文章："},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"a","TextMarkAHref":"https://mp.weixin.qq.com/s?__biz=Mzg2OTA0Njk0OA==\u0026mid=2247485689\u0026idx=1\u0026sn=061b32c2222869932be5631fb0bb5260\u0026chksm=cea24732f9d5ce24a356fb3675170e7843addbfcc79ee267cfdb45c83fc7e90babf0f20d22e1\u0026token=292197051\u0026lang=zh_CN#rd","TextMarkTextContent":"一文搞懂如何在 Spring Boot 正确中使用 JPA"},{"Type":"NodeText","Data":" 。"}]},{"ID":"20240201213589-8r48g8e","Type":"NodeHeading","HeadingLevel":3,"Properties":{"id":"20240201213589-8r48g8e","updated":"20240201213589"},"Children":[{"Type":"NodeHeadingC8hMarker","Data":"### ","Properties":{"id":""}},{"Type":"NodeText","Data":"9. 事务 "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"@Transactional"}]},{"ID":"20240201213590-jfjuq2k","Type":"NodeParagraph","Properties":{"id":"20240201213590-jfjuq2k","updated":"20240201213590"},"Children":[{"Type":"NodeText","Data":"在要开启事务的方法上使用"},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"@Transactional"},{"Type":"NodeText","Data":"注解即可!"}]},{"ID":"20240201213591-a4sulun","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"CodeBlockFenceChar":96,"CodeBlockFenceLen":3,"CodeBlockOpenFence":"YGBg","CodeBlockInfo":"amF2YQ==","CodeBlockCloseFence":"YGBg","Properties":{"id":"20240201213591-a4sulun","updated":"20240201213591"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"amF2YQ==","Properties":{"id":""}},{"Type":"NodeCodeBlockCode","Data":"@Transactional(rollbackFor = Exception.class)\npublic void save() {\n  ......\n}\n\n","Properties":{"id":""}},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}}]},{"ID":"20240201213592-1p2dm3i","Type":"NodeParagraph","Properties":{"id":"20240201213592-1p2dm3i","updated":"20240201213592"},"Children":[{"Type":"NodeText","Data":"我们知道 Exception 分为运行时异常 RuntimeException 和非运行时异常。在"},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"@Transactional"},{"Type":"NodeText","Data":"注解中如果不配置"},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"rollbackFor"},{"Type":"NodeText","Data":"属性,那么事务只会在遇到"},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"RuntimeException"},{"Type":"NodeText","Data":"的时候才会回滚,加上"},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"rollbackFor=Exception.class"},{"Type":"NodeText","Data":",可以让事务在遇到非运行时异常时也回滚。"}]},{"ID":"20240201213593-l0nkyh6","Type":"NodeParagraph","Properties":{"id":"20240201213593-l0nkyh6","updated":"20240201213593"},"Children":[{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"@Transactional"},{"Type":"NodeText","Data":" 注解一般可以作用在"},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"类"},{"Type":"NodeText","Data":"或者"},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"方法"},{"Type":"NodeText","Data":"上。"}]},{"ID":"20240201213594-ld7qeee","Type":"NodeList","ListData":{"Tight":true,"BulletChar":45,"Padding":2,"Marker":"LQ==","Num":-1},"Properties":{"id":"20240201213594-ld7qeee","updated":"20240201213594"},"Children":[{"ID":"20240201213595-kusfaa6","Type":"NodeListItem","Data":"-","ListData":{"Tight":true,"BulletChar":45,"Padding":2,"Marker":"LQ==","Num":-1},"Properties":{"id":"20240201213595-kusfaa6","updated":"20240201213595"},"Children":[{"ID":"20240201213596-8106ziz","Type":"NodeParagraph","Properties":{"id":"20240201213596-8106ziz","updated":"20240201213596"},"Children":[{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"strong","TextMarkTextContent":"作用于类"},{"Type":"NodeText","Data":"：当把"},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"@Transactional"},{"Type":"NodeText","Data":" 注解放在类上时，表示所有该类的 public 方法都配置相同的事务属性信息。"}]}]},{"ID":"20240201213597-iyv200r","Type":"NodeListItem","Data":"-","ListData":{"Tight":true,"BulletChar":45,"Padding":2,"Marker":"LQ==","Num":-1},"Properties":{"id":"20240201213597-iyv200r","updated":"20240201213597"},"Children":[{"ID":"20240201213598-yd6ygli","Type":"NodeParagraph","Properties":{"id":"20240201213598-yd6ygli","updated":"20240201213598"},"Children":[{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"strong","TextMarkTextContent":"作用于方法"},{"Type":"NodeText","Data":"：当类配置了"},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"@Transactional"},{"Type":"NodeText","Data":"，方法也配置了"},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"@Transactional"},{"Type":"NodeText","Data":"，方法的事务会覆盖类的事务配置信息。"}]}]}]},{"ID":"20240201213599-yqfnwkh","Type":"NodeParagraph","Properties":{"id":"20240201213599-yqfnwkh","updated":"20240201213599"},"Children":[{"Type":"NodeText","Data":"更多关于 Spring 事务的内容请查看我的这篇文章："},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"a","TextMarkAHref":"./spring-transaction.md","TextMarkTextContent":"可能是最漂亮的 Spring 事务管理详解"},{"Type":"NodeText","Data":" 。"}]},{"ID":"20240201213600-r4wmfyh","Type":"NodeHeading","HeadingLevel":3,"Properties":{"id":"20240201213600-r4wmfyh","updated":"20240201213600"},"Children":[{"Type":"NodeHeadingC8hMarker","Data":"### ","Properties":{"id":""}},{"Type":"NodeText","Data":"10. json 数据处理"}]},{"ID":"20240201213601-jk7qe3p","Type":"NodeHeading","HeadingLevel":4,"Properties":{"id":"20240201213601-jk7qe3p","updated":"20240201213601"},"Children":[{"Type":"NodeHeadingC8hMarker","Data":"#### ","Properties":{"id":""}},{"Type":"NodeText","Data":"10.1. 过滤 json 数据"}]},{"ID":"20240201213602-97e7ca8","Type":"NodeParagraph","Properties":{"id":"20240201213602-97e7ca8","updated":"20240201213602"},"Children":[{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"strong code","TextMarkTextContent":"@JsonIgnoreProperties"},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"strong","TextMarkTextContent":" 作用在类上用于过滤掉特定字段不返回或者不解析。"}]},{"ID":"20240201213603-a96xlmc","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"CodeBlockFenceChar":96,"CodeBlockFenceLen":3,"CodeBlockOpenFence":"YGBg","CodeBlockInfo":"amF2YQ==","CodeBlockCloseFence":"YGBg","Properties":{"id":"20240201213603-a96xlmc","updated":"20240201213603"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"amF2YQ==","Properties":{"id":""}},{"Type":"NodeCodeBlockCode","Data":"//生成json时将userRoles属性过滤\n@JsonIgnoreProperties({\"userRoles\"})\npublic class User {\n\n    private String userName;\n    private String fullName;\n    private String password;\n    private List\u003cUserRole\u003e userRoles = new ArrayList\u003c\u003e();\n}\n","Properties":{"id":""}},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}}]},{"ID":"20240201213604-27be8ph","Type":"NodeParagraph","Properties":{"id":"20240201213604-27be8ph","updated":"20240201213604"},"Children":[{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"strong code","TextMarkTextContent":"@JsonIgnore"},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"strong","TextMarkTextContent":"一般用于类的属性上，作用和上面的"},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"strong code","TextMarkTextContent":"@JsonIgnoreProperties"},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"strong","TextMarkTextContent":" 一样。"}]},{"ID":"20240201213605-qb00k53","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"CodeBlockFenceChar":96,"CodeBlockFenceLen":3,"CodeBlockOpenFence":"YGBg","CodeBlockInfo":"amF2YQ==","CodeBlockCloseFence":"YGBg","Properties":{"id":"20240201213605-qb00k53","updated":"20240201213605"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"amF2YQ==","Properties":{"id":""}},{"Type":"NodeCodeBlockCode","Data":"\npublic class User {\n\n    private String userName;\n    private String fullName;\n    private String password;\n   //生成json时将userRoles属性过滤\n    @JsonIgnore\n    private List\u003cUserRole\u003e userRoles = new ArrayList\u003c\u003e();\n}\n","Properties":{"id":""}},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}}]},{"ID":"20240201213606-pyhmtrk","Type":"NodeHeading","HeadingLevel":4,"Properties":{"id":"20240201213606-pyhmtrk","updated":"20240201213606"},"Children":[{"Type":"NodeHeadingC8hMarker","Data":"#### ","Properties":{"id":""}},{"Type":"NodeText","Data":"10.2. 格式化 json 数据"}]},{"ID":"20240201213607-7ru7rlx","Type":"NodeParagraph","Properties":{"id":"20240201213607-7ru7rlx","updated":"20240201213607"},"Children":[{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"@JsonFormat"},{"Type":"NodeText","Data":"一般用来格式化 json 数据。"}]},{"ID":"20240201213608-ny1snna","Type":"NodeParagraph","Properties":{"id":"20240201213608-ny1snna","updated":"20240201213608"},"Children":[{"Type":"NodeText","Data":"比如："}]},{"ID":"20240201213609-syri16w","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"CodeBlockFenceChar":96,"CodeBlockFenceLen":3,"CodeBlockOpenFence":"YGBg","CodeBlockInfo":"amF2YQ==","CodeBlockCloseFence":"YGBg","Properties":{"id":"20240201213609-syri16w","updated":"20240201213609"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"amF2YQ==","Properties":{"id":""}},{"Type":"NodeCodeBlockCode","Data":"@JsonFormat(shape=JsonFormat.Shape.STRING, pattern=\"yyyy-MM-dd'T'HH:mm:ss.SSS'Z'\", timezone=\"GMT\")\nprivate Date date;\n","Properties":{"id":""}},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}}]},{"ID":"20240201213610-uho75e2","Type":"NodeHeading","HeadingLevel":4,"Properties":{"id":"20240201213610-uho75e2","updated":"20240201213610"},"Children":[{"Type":"NodeHeadingC8hMarker","Data":"#### ","Properties":{"id":""}},{"Type":"NodeText","Data":"10.3. 扁平化对象"}]},{"ID":"20240201213611-l5xtksr","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"CodeBlockFenceChar":96,"CodeBlockFenceLen":3,"CodeBlockOpenFence":"YGBg","CodeBlockInfo":"amF2YQ==","CodeBlockCloseFence":"YGBg","Properties":{"id":"20240201213611-l5xtksr","updated":"20240201213611"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"amF2YQ==","Properties":{"id":""}},{"Type":"NodeCodeBlockCode","Data":"@Getter\n@Setter\n@ToString\npublic class Account {\n    private Location location;\n    private PersonInfo personInfo;\n\n  @Getter\n  @Setter\n  @ToString\n  public static class Location {\n     private String provinceName;\n     private String countyName;\n  }\n  @Getter\n  @Setter\n  @ToString\n  public static class PersonInfo {\n    private String userName;\n    private String fullName;\n  }\n}\n\n","Properties":{"id":""}},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}}]},{"ID":"20240201213612-7j0314s","Type":"NodeParagraph","Properties":{"id":"20240201213612-7j0314s","updated":"20240201213612"},"Children":[{"Type":"NodeText","Data":"未扁平化之前："}]},{"ID":"20240201213613-kajpcek","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"CodeBlockFenceChar":96,"CodeBlockFenceLen":3,"CodeBlockOpenFence":"YGBg","CodeBlockInfo":"anNvbg==","CodeBlockCloseFence":"YGBg","Properties":{"id":"20240201213613-kajpcek","updated":"20240201213613"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"anNvbg==","Properties":{"id":""}},{"Type":"NodeCodeBlockCode","Data":"{\n  \"location\": {\n    \"provinceName\": \"湖北\",\n    \"countyName\": \"武汉\"\n  },\n  \"personInfo\": {\n    \"userName\": \"coder1234\",\n    \"fullName\": \"shaungkou\"\n  }\n}\n","Properties":{"id":""}},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}}]},{"ID":"20240201213614-c9la6i7","Type":"NodeParagraph","Properties":{"id":"20240201213614-c9la6i7","updated":"20240201213614"},"Children":[{"Type":"NodeText","Data":"使用"},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"@JsonUnwrapped"},{"Type":"NodeText","Data":" 扁平对象之后："}]},{"ID":"20240201213615-vxeq4h7","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"CodeBlockFenceChar":96,"CodeBlockFenceLen":3,"CodeBlockOpenFence":"YGBg","CodeBlockInfo":"amF2YQ==","CodeBlockCloseFence":"YGBg","Properties":{"id":"20240201213615-vxeq4h7","updated":"20240201213615"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"amF2YQ==","Properties":{"id":""}},{"Type":"NodeCodeBlockCode","Data":"@Getter\n@Setter\n@ToString\npublic class Account {\n    @JsonUnwrapped\n    private Location location;\n    @JsonUnwrapped\n    private PersonInfo personInfo;\n    ......\n}\n","Properties":{"id":""}},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}}]},{"ID":"20240201213616-etjj3yx","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"CodeBlockFenceChar":96,"CodeBlockFenceLen":3,"CodeBlockOpenFence":"YGBg","CodeBlockInfo":"anNvbg==","CodeBlockCloseFence":"YGBg","Properties":{"id":"20240201213616-etjj3yx","updated":"20240201213616"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"anNvbg==","Properties":{"id":""}},{"Type":"NodeCodeBlockCode","Data":"{\n  \"provinceName\": \"湖北\",\n  \"countyName\": \"武汉\",\n  \"userName\": \"coder1234\",\n  \"fullName\": \"shaungkou\"\n}\n","Properties":{"id":""}},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}}]},{"ID":"20240201213617-5c7d7vf","Type":"NodeHeading","HeadingLevel":3,"Properties":{"id":"20240201213617-5c7d7vf","updated":"20240201213617"},"Children":[{"Type":"NodeHeadingC8hMarker","Data":"### ","Properties":{"id":""}},{"Type":"NodeText","Data":"11. 测试相关"}]},{"ID":"20240201213618-wlypjae","Type":"NodeParagraph","Properties":{"id":"20240201213618-wlypjae","updated":"20240201213618"},"Children":[{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"strong code","TextMarkTextContent":"@ActiveProfiles"},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"strong","TextMarkTextContent":"一般作用于测试类上， 用于声明生效的 Spring 配置文件。"}]},{"ID":"20240201213619-dk3xgtc","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"CodeBlockFenceChar":96,"CodeBlockFenceLen":3,"CodeBlockOpenFence":"YGBg","CodeBlockInfo":"amF2YQ==","CodeBlockCloseFence":"YGBg","Properties":{"id":"20240201213619-dk3xgtc","updated":"20240201213619"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"amF2YQ==","Properties":{"id":""}},{"Type":"NodeCodeBlockCode","Data":"@SpringBootTest(webEnvironment = RANDOM_PORT)\n@ActiveProfiles(\"test\")\n@Slf4j\npublic abstract class TestBase {\n  ......\n}\n","Properties":{"id":""}},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}}]},{"ID":"20240201213620-ni9grfp","Type":"NodeParagraph","Properties":{"id":"20240201213620-ni9grfp","updated":"20240201213620"},"Children":[{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"strong code","TextMarkTextContent":"@Test"},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"strong","TextMarkTextContent":"声明一个方法为测试方法"}]},{"ID":"20240201213621-vgktidc","Type":"NodeParagraph","Properties":{"id":"20240201213621-vgktidc","updated":"20240201213621"},"Children":[{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"strong code","TextMarkTextContent":"@Transactional"},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"strong","TextMarkTextContent":"被声明的测试方法的数据会回滚，避免污染测试数据。"}]},{"ID":"20240201213622-ob8p6uy","Type":"NodeParagraph","Properties":{"id":"20240201213622-ob8p6uy","updated":"20240201213622"},"Children":[{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"strong code","TextMarkTextContent":"@WithMockUser"},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"strong","TextMarkTextContent":" Spring Security 提供的，用来模拟一个真实用户，并且可以赋予权限。"}]},{"ID":"20240201213623-dilfzpl","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"CodeBlockFenceChar":96,"CodeBlockFenceLen":3,"CodeBlockOpenFence":"YGBg","CodeBlockInfo":"amF2YQ==","CodeBlockCloseFence":"YGBg","Properties":{"id":"20240201213623-dilfzpl","updated":"20240201213623"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"amF2YQ==","Properties":{"id":""}},{"Type":"NodeCodeBlockCode","Data":"    @Test\n    @Transactional\n    @WithMockUser(username = \"user-id-18163138155\", authorities = \"ROLE_TEACHER\")\n    void should_import_student_success() throws Exception {\n        ......\n    }\n","Properties":{"id":""}},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}}]},{"ID":"20240201213624-lmvmazl","Type":"NodeParagraph","Properties":{"id":"20240201213624-lmvmazl","updated":"20240201213624"},"Children":[{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"em","TextMarkTextContent":"暂时总结到这里吧！虽然花了挺长时间才写完，不过可能还是会一些常用的注解的被漏掉，所以，我将文章也同步到了 Github 上去，Github 地址： 欢迎完善！"}]},{"ID":"20240201213625-9162gy2","Type":"NodeParagraph","Properties":{"id":"20240201213625-9162gy2","updated":"20240201213625"},"Children":[{"Type":"NodeText","Data":"本文已经收录进我的 75K Star 的 Java 开源项目 JavaGuide："},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"a","TextMarkAHref":"https://github.com/Snailclimb/JavaGuide","TextMarkTextContent":"https://github.com/Snailclimb/JavaGuide"},{"Type":"NodeText","Data":"。"}]},{"ID":"20240201213626-enlhjq5","Type":"NodeHTMLBlock","Data":"\u003cdiv\u003e\n\u003c!-- @include: @article-footer.snippet.md --\u003e\n\u003c/div\u003e","HtmlBlockType":2,"Properties":{"id":"20240201213626-enlhjq5","updated":"20240201213626"}}]}
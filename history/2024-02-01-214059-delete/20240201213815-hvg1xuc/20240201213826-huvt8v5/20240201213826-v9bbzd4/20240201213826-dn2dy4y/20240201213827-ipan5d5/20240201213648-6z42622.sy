{"ID":"20240201213648-6z42622","Spec":"1","Type":"NodeDocument","Properties":{"id":"20240201213648-6z42622","title":"java14-15","updated":"20240201213648"},"Children":[{"ID":"20240201213649-qoam0sf","Type":"NodeThematicBreak","Properties":{"id":"20240201213649-qoam0sf","updated":"20240201213649"}},{"ID":"20240201213650-qrkaz2u","Type":"NodeParagraph","Properties":{"id":"20240201213650-qrkaz2u","updated":"20240201213650"},"Children":[{"Type":"NodeText","Data":"title: Java 14  \u0026 15 新特性概览"},{"Type":"NodeSoftBreak","Data":"\n","Properties":{"id":""}},{"Type":"NodeText","Data":"category: Java"},{"Type":"NodeSoftBreak","Data":"\n","Properties":{"id":""}},{"Type":"NodeText","Data":"tag:"}]},{"ID":"20240201213651-c4gw0i1","Type":"NodeList","ListData":{"Tight":true,"BulletChar":45,"Padding":2,"MarkerOffset":2,"Marker":"LQ==","Num":-1},"Properties":{"id":"20240201213651-c4gw0i1","updated":"20240201213651"},"Children":[{"ID":"20240201213652-rw9amck","Type":"NodeListItem","Data":"-","ListData":{"Tight":true,"BulletChar":45,"Padding":2,"MarkerOffset":2,"Marker":"LQ==","Num":-1},"Properties":{"id":"20240201213652-rw9amck","updated":"20240201213652"},"Children":[{"ID":"20240201213653-zg9s7s5","Type":"NodeParagraph","Properties":{"id":"20240201213653-zg9s7s5","updated":"20240201213653"},"Children":[{"Type":"NodeText","Data":"Java新特性"}]}]}]},{"ID":"20240201213654-rrc1ewk","Type":"NodeThematicBreak","Properties":{"id":"20240201213654-rrc1ewk","updated":"20240201213654"}},{"ID":"20240201213655-r6kaysi","Type":"NodeHeading","HeadingLevel":2,"Properties":{"id":"20240201213655-r6kaysi","updated":"20240201213655"},"Children":[{"Type":"NodeHeadingC8hMarker","Data":"## ","Properties":{"id":""}},{"Type":"NodeText","Data":"Java14"}]},{"ID":"20240201213656-yoblmse","Type":"NodeHeading","HeadingLevel":3,"Properties":{"id":"20240201213656-yoblmse","updated":"20240201213656"},"Children":[{"Type":"NodeHeadingC8hMarker","Data":"### ","Properties":{"id":""}},{"Type":"NodeText","Data":"空指针异常精准提示"}]},{"ID":"20240201213657-40pwag3","Type":"NodeParagraph","Properties":{"id":"20240201213657-40pwag3","updated":"20240201213657"},"Children":[{"Type":"NodeText","Data":"通过 JVM 参数中添加"},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"-XX:+ShowCodeDetailsInExceptionMessages"},{"Type":"NodeText","Data":"，可以在空指针异常中获取更为详细的调用信息，更快的定位和解决问题。"}]},{"ID":"20240201213658-abcaa4z","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"CodeBlockFenceChar":96,"CodeBlockFenceLen":3,"CodeBlockOpenFence":"YGBg","CodeBlockInfo":"amF2YQ==","CodeBlockCloseFence":"YGBg","Properties":{"id":"20240201213658-abcaa4z","updated":"20240201213658"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"amF2YQ==","Properties":{"id":""}},{"Type":"NodeCodeBlockCode","Data":"a.b.c.i = 99; // 假设这段代码会发生空指针\n","Properties":{"id":""}},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}}]},{"ID":"20240201213659-xgw6eq8","Type":"NodeParagraph","Properties":{"id":"20240201213659-xgw6eq8","updated":"20240201213659"},"Children":[{"Type":"NodeText","Data":"Java 14 之前："}]},{"ID":"20240201213660-jlcpq67","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"CodeBlockFenceChar":96,"CodeBlockFenceLen":3,"CodeBlockOpenFence":"YGBg","CodeBlockInfo":"amF2YQ==","CodeBlockCloseFence":"YGBg","Properties":{"id":"20240201213660-jlcpq67","updated":"20240201213660"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"amF2YQ==","Properties":{"id":""}},{"Type":"NodeCodeBlockCode","Data":"Exception in thread \"main\" java.lang.NullPointerException\n    at NullPointerExample.main(NullPointerExample.java:5)\n","Properties":{"id":""}},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}}]},{"ID":"20240201213661-5o8sq1l","Type":"NodeParagraph","Properties":{"id":"20240201213661-5o8sq1l","updated":"20240201213661"},"Children":[{"Type":"NodeText","Data":"Java 14 之后："}]},{"ID":"20240201213662-3sb0l07","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"CodeBlockFenceChar":96,"CodeBlockFenceLen":3,"CodeBlockOpenFence":"YGBg","CodeBlockInfo":"amF2YQ==","CodeBlockCloseFence":"YGBg","Properties":{"id":"20240201213662-3sb0l07","updated":"20240201213662"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"amF2YQ==","Properties":{"id":""}},{"Type":"NodeCodeBlockCode","Data":" // 增加参数后提示的异常中很明确的告知了哪里为空导致\nException in thread \"main\" java.lang.NullPointerException:\n        Cannot read field 'c' because 'a.b' is null.\n    at Prog.main(Prog.java:5)\n","Properties":{"id":""}},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}}]},{"ID":"20240201213663-8119zew","Type":"NodeHeading","HeadingLevel":3,"Properties":{"id":"20240201213663-8119zew","updated":"20240201213663"},"Children":[{"Type":"NodeHeadingC8hMarker","Data":"### ","Properties":{"id":""}},{"Type":"NodeText","Data":"switch 的增强(转正)"}]},{"ID":"20240201213664-61xrij4","Type":"NodeParagraph","Properties":{"id":"20240201213664-61xrij4","updated":"20240201213664"},"Children":[{"Type":"NodeText","Data":"Java12 引入的 switch（预览特性）在 Java14 变为正式版本，不需要增加参数来启用，直接在 JDK14 中就能使用。"}]},{"ID":"20240201213665-t6zo4ju","Type":"NodeParagraph","Properties":{"id":"20240201213665-t6zo4ju","updated":"20240201213665"},"Children":[{"Type":"NodeText","Data":"Java12 为 switch 表达式引入了类似 lambda 语法条件匹配成功后的执行块，不需要多写 break ，Java13 提供了 "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"yield"},{"Type":"NodeText","Data":" 来在 block 中返回值。"}]},{"ID":"20240201213666-acxmvm3","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"CodeBlockFenceChar":96,"CodeBlockFenceLen":3,"CodeBlockOpenFence":"YGBg","CodeBlockInfo":"amF2YQ==","CodeBlockCloseFence":"YGBg","Properties":{"id":"20240201213666-acxmvm3","updated":"20240201213666"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"amF2YQ==","Properties":{"id":""}},{"Type":"NodeCodeBlockCode","Data":"String result = switch (day) {\n            case \"M\", \"W\", \"F\" -\u003e \"MWF\";\n            case \"T\", \"TH\", \"S\" -\u003e \"TTS\";\n            default -\u003e {\n                if(day.isEmpty())\n                    yield \"Please insert a valid day.\";\n                else\n                    yield \"Looks like a Sunday.\";\n            }\n\n        };\nSystem.out.println(result);\n","Properties":{"id":""}},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}}]},{"ID":"20240201213667-9w7a6bq","Type":"NodeHeading","HeadingLevel":3,"Properties":{"id":"20240201213667-9w7a6bq","updated":"20240201213667"},"Children":[{"Type":"NodeHeadingC8hMarker","Data":"### ","Properties":{"id":""}},{"Type":"NodeText","Data":"预览新特性"}]},{"ID":"20240201213668-rs516fn","Type":"NodeHeading","HeadingLevel":4,"Properties":{"id":"20240201213668-rs516fn","updated":"20240201213668"},"Children":[{"Type":"NodeHeadingC8hMarker","Data":"#### ","Properties":{"id":""}},{"Type":"NodeText","Data":"record 关键字"}]},{"ID":"20240201213669-ucj47f1","Type":"NodeParagraph","Properties":{"id":"20240201213669-ucj47f1","updated":"20240201213669"},"Children":[{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"record"},{"Type":"NodeText","Data":" 关键字可以简化 "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"strong","TextMarkTextContent":"数据类"},{"Type":"NodeText","Data":"（一个 Java 类一旦实例化就不能再修改）的定义方式，使用 "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"record"},{"Type":"NodeText","Data":" 代替 "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"class"},{"Type":"NodeText","Data":" 定义的类，只需要声明属性，就可以在获得属性的访问方法，以及 "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"toString()"},{"Type":"NodeText","Data":"，"},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"hashCode()"},{"Type":"NodeText","Data":", "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"equals()"},{"Type":"NodeText","Data":"方法。"}]},{"ID":"20240201213670-nsgarza","Type":"NodeParagraph","Properties":{"id":"20240201213670-nsgarza","updated":"20240201213670"},"Children":[{"Type":"NodeText","Data":"类似于使用 "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"class"},{"Type":"NodeText","Data":" 定义类，同时使用了 lombok 插件，并打上了"},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"@Getter,@ToString,@EqualsAndHashCode"},{"Type":"NodeText","Data":"注解。"}]},{"ID":"20240201213671-5z574lm","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"CodeBlockFenceChar":96,"CodeBlockFenceLen":3,"CodeBlockOpenFence":"YGBg","CodeBlockInfo":"amF2YQ==","CodeBlockCloseFence":"YGBg","Properties":{"id":"20240201213671-5z574lm","updated":"20240201213671"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"amF2YQ==","Properties":{"id":""}},{"Type":"NodeCodeBlockCode","Data":"/**\n * 这个类具有两个特征\n * 1. 所有成员属性都是final\n * 2. 全部方法由构造方法，和两个成员属性访问器组成（共三个）\n * 那么这种类就很适合使用record来声明\n */\nfinal class Rectangle implements Shape {\n    final double length;\n    final double width;\n\n    public Rectangle(double length, double width) {\n        this.length = length;\n        this.width = width;\n    }\n\n    double length() { return length; }\n    double width() { return width; }\n}\n/**\n * 1. 使用record声明的类会自动拥有上面类中的三个方法\n * 2. 在这基础上还附赠了equals()，hashCode()方法以及toString()方法\n * 3. toString方法中包括所有成员属性的字符串表示形式及其名称\n */\nrecord Rectangle(float length, float width) { }\n","Properties":{"id":""}},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}}]},{"ID":"20240201213672-mdqovpi","Type":"NodeHeading","HeadingLevel":4,"Properties":{"id":"20240201213672-mdqovpi","updated":"20240201213672"},"Children":[{"Type":"NodeHeadingC8hMarker","Data":"#### ","Properties":{"id":""}},{"Type":"NodeText","Data":"文本块"}]},{"ID":"20240201213673-cgifbza","Type":"NodeParagraph","Properties":{"id":"20240201213673-cgifbza","updated":"20240201213673"},"Children":[{"Type":"NodeText","Data":"Java14 中，文本块依然是预览特性，不过，其引入了两个新的转义字符："}]},{"ID":"20240201213674-0d6fyhi","Type":"NodeList","ListData":{"Tight":true,"BulletChar":45,"Padding":2,"Marker":"LQ==","Num":-1},"Properties":{"id":"20240201213674-0d6fyhi","updated":"20240201213674"},"Children":[{"ID":"20240201213675-11k3uhg","Type":"NodeListItem","Data":"-","ListData":{"Tight":true,"BulletChar":45,"Padding":2,"Marker":"LQ==","Num":-1},"Properties":{"id":"20240201213675-11k3uhg","updated":"20240201213675"},"Children":[{"ID":"20240201213676-1qget6d","Type":"NodeParagraph","Properties":{"id":"20240201213676-1qget6d","updated":"20240201213676"},"Children":[{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"\\"},{"Type":"NodeText","Data":" : 表示行尾，不引入换行符"}]}]},{"ID":"20240201213677-9hm5z99","Type":"NodeListItem","Data":"-","ListData":{"Tight":true,"BulletChar":45,"Padding":2,"Marker":"LQ==","Num":-1},"Properties":{"id":"20240201213677-9hm5z99","updated":"20240201213677"},"Children":[{"ID":"20240201213678-7kdq8nr","Type":"NodeParagraph","Properties":{"id":"20240201213678-7kdq8nr","updated":"20240201213678"},"Children":[{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"\\s"},{"Type":"NodeText","Data":"：表示单个空格"}]}]}]},{"ID":"20240201213679-xwa6x0n","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"CodeBlockFenceChar":96,"CodeBlockFenceLen":3,"CodeBlockOpenFence":"YGBg","CodeBlockInfo":"amF2YQ==","CodeBlockCloseFence":"YGBg","Properties":{"id":"20240201213679-xwa6x0n","updated":"20240201213679"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"amF2YQ==","Properties":{"id":""}},{"Type":"NodeCodeBlockCode","Data":"String str = \"凡心所向，素履所往，生如逆旅，一苇以航。\";\n\nString str2 = \"\"\"\n        凡心所向，素履所往， \\\n        生如逆旅，一苇以航。\"\"\";\nSystem.out.println(str2);// 凡心所向，素履所往， 生如逆旅，一苇以航。\nString text = \"\"\"\n        java\n        c++\\sphp\n        \"\"\";\nSystem.out.println(text);\n//输出：\njava\nc++ php\n","Properties":{"id":""}},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}}]},{"ID":"20240201213680-7hl7le2","Type":"NodeHeading","HeadingLevel":4,"Properties":{"id":"20240201213680-7hl7le2","updated":"20240201213680"},"Children":[{"Type":"NodeHeadingC8hMarker","Data":"#### ","Properties":{"id":""}},{"Type":"NodeText","Data":"instanceof 增强"}]},{"ID":"20240201213681-sk5n6ql","Type":"NodeParagraph","Properties":{"id":"20240201213681-sk5n6ql","updated":"20240201213681"},"Children":[{"Type":"NodeText","Data":"依然是"},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"strong","TextMarkTextContent":"预览特性"},{"Type":"NodeText","Data":" ，"},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"a","TextMarkAHref":"./java12-13.md","TextMarkTextContent":"Java 12 新特性"},{"Type":"NodeText","Data":"中介绍过。"}]},{"ID":"20240201213682-zclz27k","Type":"NodeHeading","HeadingLevel":3,"Properties":{"id":"20240201213682-zclz27k","updated":"20240201213682"},"Children":[{"Type":"NodeHeadingC8hMarker","Data":"### ","Properties":{"id":""}},{"Type":"NodeText","Data":"其他"}]},{"ID":"20240201213683-kb4q1em","Type":"NodeList","ListData":{"Tight":true,"BulletChar":45,"Padding":2,"Marker":"LQ==","Num":-1},"Properties":{"id":"20240201213683-kb4q1em","updated":"20240201213683"},"Children":[{"ID":"20240201213684-zi29u50","Type":"NodeListItem","Data":"-","ListData":{"Tight":true,"BulletChar":45,"Padding":2,"Marker":"LQ==","Num":-1},"Properties":{"id":"20240201213684-zi29u50","updated":"20240201213684"},"Children":[{"ID":"20240201213685-ntymtwq","Type":"NodeParagraph","Properties":{"id":"20240201213685-ntymtwq","updated":"20240201213685"},"Children":[{"Type":"NodeText","Data":"从 Java11 引入的 ZGC 作为继 G1 过后的下一代 GC 算法，从支持 Linux 平台到 Java14 开始支持 MacOS 和 Windows（个人感觉是终于可以在日常开发工具中先体验下 ZGC 的效果了，虽然其实 G1 也够用）"}]}]},{"ID":"20240201213686-1ijziff","Type":"NodeListItem","Data":"-","ListData":{"Tight":true,"BulletChar":45,"Padding":2,"Marker":"LQ==","Num":-1},"Properties":{"id":"20240201213686-1ijziff","updated":"20240201213686"},"Children":[{"ID":"20240201213687-wdjn230","Type":"NodeParagraph","Properties":{"id":"20240201213687-wdjn230","updated":"20240201213687"},"Children":[{"Type":"NodeText","Data":"移除了 CMS(Concurrent Mark Sweep) 垃圾收集器（功成而退）"}]}]},{"ID":"20240201213688-7rnm8vl","Type":"NodeListItem","Data":"-","ListData":{"Tight":true,"BulletChar":45,"Padding":2,"Marker":"LQ==","Num":-1},"Properties":{"id":"20240201213688-7rnm8vl","updated":"20240201213688"},"Children":[{"ID":"20240201213689-jp28jcs","Type":"NodeParagraph","Properties":{"id":"20240201213689-jp28jcs","updated":"20240201213689"},"Children":[{"Type":"NodeText","Data":"新增了 jpackage 工具，标配将应用打成 jar 包外，还支持不同平台的特性包，比如 linux 下的"},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"deb"},{"Type":"NodeText","Data":"和"},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"rpm"},{"Type":"NodeText","Data":"，window 平台下的"},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"msi"},{"Type":"NodeText","Data":"和"},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"exe"}]}]}]},{"ID":"20240201213690-vfxbmfl","Type":"NodeHeading","HeadingLevel":2,"Properties":{"id":"20240201213690-vfxbmfl","updated":"20240201213690"},"Children":[{"Type":"NodeHeadingC8hMarker","Data":"## ","Properties":{"id":""}},{"Type":"NodeText","Data":"Java15"}]},{"ID":"20240201213691-4acp6y9","Type":"NodeHeading","HeadingLevel":3,"Properties":{"id":"20240201213691-4acp6y9","updated":"20240201213691"},"Children":[{"Type":"NodeHeadingC8hMarker","Data":"### ","Properties":{"id":""}},{"Type":"NodeText","Data":"CharSequence"}]},{"ID":"20240201213692-ihqe34w","Type":"NodeParagraph","Properties":{"id":"20240201213692-ihqe34w","updated":"20240201213692"},"Children":[{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"CharSequence"},{"Type":"NodeText","Data":" 接口添加了一个默认方法 "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"isEmpty()"},{"Type":"NodeText","Data":" 来判断字符序列为空，如果是则返回 true。"}]},{"ID":"20240201213693-c6rr1s7","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"CodeBlockFenceChar":96,"CodeBlockFenceLen":3,"CodeBlockOpenFence":"YGBg","CodeBlockInfo":"amF2YQ==","CodeBlockCloseFence":"YGBg","Properties":{"id":"20240201213693-c6rr1s7","updated":"20240201213693"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"amF2YQ==","Properties":{"id":""}},{"Type":"NodeCodeBlockCode","Data":"public interface CharSequence {\n  default boolean isEmpty() {\n      return this.length() == 0;\n  }\n}\n","Properties":{"id":""}},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}}]},{"ID":"20240201213694-y4mhpfh","Type":"NodeHeading","HeadingLevel":3,"Properties":{"id":"20240201213694-y4mhpfh","updated":"20240201213694"},"Children":[{"Type":"NodeHeadingC8hMarker","Data":"### ","Properties":{"id":""}},{"Type":"NodeText","Data":"TreeMap"}]},{"ID":"20240201213695-j4zfund","Type":"NodeParagraph","Properties":{"id":"20240201213695-j4zfund","updated":"20240201213695"},"Children":[{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"TreeMap"},{"Type":"NodeText","Data":" 新引入了下面这些方法："}]},{"ID":"20240201213696-2wzenug","Type":"NodeList","ListData":{"Tight":true,"BulletChar":45,"Padding":2,"Marker":"LQ==","Num":-1},"Properties":{"id":"20240201213696-2wzenug","updated":"20240201213696"},"Children":[{"ID":"20240201213697-vvq2x8b","Type":"NodeListItem","Data":"-","ListData":{"Tight":true,"BulletChar":45,"Padding":2,"Marker":"LQ==","Num":-1},"Properties":{"id":"20240201213697-vvq2x8b","updated":"20240201213697"},"Children":[{"ID":"20240201213698-yb5co2u","Type":"NodeParagraph","Properties":{"id":"20240201213698-yb5co2u","updated":"20240201213698"},"Children":[{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"putIfAbsent()"}]}]},{"ID":"20240201213699-b0gu1a9","Type":"NodeListItem","Data":"-","ListData":{"Tight":true,"BulletChar":45,"Padding":2,"Marker":"LQ==","Num":-1},"Properties":{"id":"20240201213699-b0gu1a9","updated":"20240201213699"},"Children":[{"ID":"20240201213700-ff99gms","Type":"NodeParagraph","Properties":{"id":"20240201213700-ff99gms","updated":"20240201213700"},"Children":[{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"computeIfAbsent()"}]}]},{"ID":"20240201213701-bou1vd1","Type":"NodeListItem","Data":"-","ListData":{"Tight":true,"BulletChar":45,"Padding":2,"Marker":"LQ==","Num":-1},"Properties":{"id":"20240201213701-bou1vd1","updated":"20240201213701"},"Children":[{"ID":"20240201213702-gme0nm2","Type":"NodeParagraph","Properties":{"id":"20240201213702-gme0nm2","updated":"20240201213702"},"Children":[{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"computeIfPresent()"}]}]},{"ID":"20240201213703-ehequuu","Type":"NodeListItem","Data":"-","ListData":{"Tight":true,"BulletChar":45,"Padding":2,"Marker":"LQ==","Num":-1},"Properties":{"id":"20240201213703-ehequuu","updated":"20240201213703"},"Children":[{"ID":"20240201213704-6nw4if4","Type":"NodeParagraph","Properties":{"id":"20240201213704-6nw4if4","updated":"20240201213704"},"Children":[{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"compute()"}]}]},{"ID":"20240201213705-ydugra5","Type":"NodeListItem","Data":"-","ListData":{"Tight":true,"BulletChar":45,"Padding":2,"Marker":"LQ==","Num":-1},"Properties":{"id":"20240201213705-ydugra5","updated":"20240201213705"},"Children":[{"ID":"20240201213706-jmyvooi","Type":"NodeParagraph","Properties":{"id":"20240201213706-jmyvooi","updated":"20240201213706"},"Children":[{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"merge()"}]}]}]},{"ID":"20240201213707-4yed92w","Type":"NodeHeading","HeadingLevel":3,"Properties":{"id":"20240201213707-4yed92w","updated":"20240201213707"},"Children":[{"Type":"NodeHeadingC8hMarker","Data":"### ","Properties":{"id":""}},{"Type":"NodeText","Data":"ZGC(转正)"}]},{"ID":"20240201213708-y9gxzyc","Type":"NodeParagraph","Properties":{"id":"20240201213708-y9gxzyc","updated":"20240201213708"},"Children":[{"Type":"NodeText","Data":"Java11 的时候 ，ZGC 还在试验阶段。"}]},{"ID":"20240201213709-x0z4p0i","Type":"NodeParagraph","Properties":{"id":"20240201213709-x0z4p0i","updated":"20240201213709"},"Children":[{"Type":"NodeText","Data":"当时，ZGC 的出现让众多 Java 开发者看到了垃圾回收器的另外一种可能，因此备受关注。"}]},{"ID":"20240201213710-909ayyv","Type":"NodeParagraph","Properties":{"id":"20240201213710-909ayyv","updated":"20240201213710"},"Children":[{"Type":"NodeText","Data":"经过多个版本的迭代，不断的完善和修复问题，ZGC 在 Java 15 已经可以正式使用了！"}]},{"ID":"20240201213711-zjw22rw","Type":"NodeParagraph","Properties":{"id":"20240201213711-zjw22rw","updated":"20240201213711"},"Children":[{"Type":"NodeText","Data":"不过，默认的垃圾回收器依然是 G1。你可以通过下面的参数启动 ZGC："}]},{"ID":"20240201213712-3f02323","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"CodeBlockFenceChar":96,"CodeBlockFenceLen":3,"CodeBlockOpenFence":"YGBg","CodeBlockInfo":"YmFzaA==","CodeBlockCloseFence":"YGBg","Properties":{"id":"20240201213712-3f02323","updated":"20240201213712"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"YmFzaA==","Properties":{"id":""}},{"Type":"NodeCodeBlockCode","Data":"java -XX:+UseZGC className\n","Properties":{"id":""}},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}}]},{"ID":"20240201213713-ctvd01l","Type":"NodeHeading","HeadingLevel":3,"Properties":{"id":"20240201213713-ctvd01l","updated":"20240201213713"},"Children":[{"Type":"NodeHeadingC8hMarker","Data":"### ","Properties":{"id":""}},{"Type":"NodeText","Data":"EdDSA(数字签名算法)"}]},{"ID":"20240201213714-gpl3z6r","Type":"NodeParagraph","Properties":{"id":"20240201213714-gpl3z6r","updated":"20240201213714"},"Children":[{"Type":"NodeText","Data":"新加入了一个安全性和性能都更强的基于 Edwards-Curve Digital Signature Algorithm （EdDSA）实现的数字签名算法。"}]},{"ID":"20240201213715-touwpih","Type":"NodeParagraph","Properties":{"id":"20240201213715-touwpih","updated":"20240201213715"},"Children":[{"Type":"NodeText","Data":"虽然其性能优于现有的 ECDSA 实现，不过，它并不会完全取代 JDK 中现有的椭圆曲线数字签名算法( ECDSA)。"}]},{"ID":"20240201213716-ojcct4t","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"CodeBlockFenceChar":96,"CodeBlockFenceLen":3,"CodeBlockOpenFence":"YGBg","CodeBlockInfo":"amF2YQ==","CodeBlockCloseFence":"YGBg","Properties":{"id":"20240201213716-ojcct4t","updated":"20240201213716"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"amF2YQ==","Properties":{"id":""}},{"Type":"NodeCodeBlockCode","Data":"KeyPairGenerator kpg = KeyPairGenerator.getInstance(\"Ed25519\");\nKeyPair kp = kpg.generateKeyPair();\n\nbyte[] msg = \"test_string\".getBytes(StandardCharsets.UTF_8);\n\nSignature sig = Signature.getInstance(\"Ed25519\");\nsig.initSign(kp.getPrivate());\nsig.update(msg);\nbyte[] s = sig.sign();\n\nString encodedString = Base64.getEncoder().encodeToString(s);\nSystem.out.println(encodedString);\n","Properties":{"id":""}},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}}]},{"ID":"20240201213717-bb1lsea","Type":"NodeParagraph","Properties":{"id":"20240201213717-bb1lsea","updated":"20240201213717"},"Children":[{"Type":"NodeText","Data":"输出："}]},{"ID":"20240201213718-rb8l6zx","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"CodeBlockFenceChar":96,"CodeBlockFenceLen":3,"CodeBlockOpenFence":"YGBg","CodeBlockInfo":"cGxhaW4=","CodeBlockCloseFence":"YGBg","Properties":{"id":"20240201213718-rb8l6zx","updated":"20240201213718"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"cGxhaW4=","Properties":{"id":""}},{"Type":"NodeCodeBlockCode","Data":"0Hc0lxxASZNvS52WsvnncJOH/mlFhnA8Tc6D/k5DtAX5BSsNVjtPF4R4+yMWXVjrvB2mxVXmChIbki6goFBgAg==\n","Properties":{"id":""}},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}}]},{"ID":"20240201213719-n1nipm7","Type":"NodeHeading","HeadingLevel":3,"Properties":{"id":"20240201213719-n1nipm7","updated":"20240201213719"},"Children":[{"Type":"NodeHeadingC8hMarker","Data":"### ","Properties":{"id":""}},{"Type":"NodeText","Data":"文本块(转正)"}]},{"ID":"20240201213720-w47h71r","Type":"NodeParagraph","Properties":{"id":"20240201213720-w47h71r","updated":"20240201213720"},"Children":[{"Type":"NodeText","Data":"在 Java 15 ，文本块是正式的功能特性了。"}]},{"ID":"20240201213721-z2zuhu1","Type":"NodeHeading","HeadingLevel":3,"Properties":{"id":"20240201213721-z2zuhu1","updated":"20240201213721"},"Children":[{"Type":"NodeHeadingC8hMarker","Data":"### ","Properties":{"id":""}},{"Type":"NodeText","Data":"隐藏类(Hidden Classes)"}]},{"ID":"20240201213722-l9ywrmm","Type":"NodeParagraph","Properties":{"id":"20240201213722-l9ywrmm","updated":"20240201213722"},"Children":[{"Type":"NodeText","Data":"隐藏类是为框架（frameworks）所设计的，隐藏类不能直接被其他类的字节码使用，只能在运行时生成类并通过反射间接使用它们。"}]},{"ID":"20240201213723-i70482z","Type":"NodeHeading","HeadingLevel":3,"Properties":{"id":"20240201213723-i70482z","updated":"20240201213723"},"Children":[{"Type":"NodeHeadingC8hMarker","Data":"### ","Properties":{"id":""}},{"Type":"NodeText","Data":"预览新特性"}]},{"ID":"20240201213724-w3wj91q","Type":"NodeHeading","HeadingLevel":4,"Properties":{"id":"20240201213724-w3wj91q","updated":"20240201213724"},"Children":[{"Type":"NodeHeadingC8hMarker","Data":"#### ","Properties":{"id":""}},{"Type":"NodeText","Data":"密封类"}]},{"ID":"20240201213725-s9bvmbz","Type":"NodeParagraph","Properties":{"id":"20240201213725-s9bvmbz","updated":"20240201213725"},"Children":[{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"strong","TextMarkTextContent":"密封类（Sealed Classes）"},{"Type":"NodeText","Data":" 是 Java 15 中的一个预览新特性。"}]},{"ID":"20240201213726-8ampxlc","Type":"NodeParagraph","Properties":{"id":"20240201213726-8ampxlc","updated":"20240201213726"},"Children":[{"Type":"NodeText","Data":"没有密封类之前，在 Java 中如果想让一个类不能被继承和修改，我们可以使用"},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"final"},{"Type":"NodeText","Data":" 关键字对类进行修饰。不过，这种方式不太灵活，直接把一个类的继承和修改渠道给堵死了。"}]},{"ID":"20240201213727-vvwe9l2","Type":"NodeParagraph","Properties":{"id":"20240201213727-vvwe9l2","updated":"20240201213727"},"Children":[{"Type":"NodeText","Data":"密封类可以对继承或者实现它们的类进行限制，这样这个类就只能被指定的类继承。"}]},{"ID":"20240201213728-rzuhjg2","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"CodeBlockFenceChar":96,"CodeBlockFenceLen":3,"CodeBlockOpenFence":"YGBg","CodeBlockInfo":"amF2YQ==","CodeBlockCloseFence":"YGBg","Properties":{"id":"20240201213728-rzuhjg2","updated":"20240201213728"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"amF2YQ==","Properties":{"id":""}},{"Type":"NodeCodeBlockCode","Data":"// 抽象类 Person 只允许 Employee 和 Manager 继承。\npublic abstract sealed class Person\n    permits Employee, Manager {\n\n    //...\n}\n","Properties":{"id":""}},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}}]},{"ID":"20240201213729-odvhyow","Type":"NodeParagraph","Properties":{"id":"20240201213729-odvhyow","updated":"20240201213729"},"Children":[{"Type":"NodeText","Data":"另外，任何扩展密封类的类本身都必须声明为 "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"sealed"},{"Type":"NodeText","Data":"、"},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"non-sealed"},{"Type":"NodeText","Data":" 或 "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"final"},{"Type":"NodeText","Data":"。"}]},{"ID":"20240201213730-kmil1px","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"CodeBlockFenceChar":96,"CodeBlockFenceLen":3,"CodeBlockOpenFence":"YGBg","CodeBlockInfo":"amF2YQ==","CodeBlockCloseFence":"YGBg","Properties":{"id":"20240201213730-kmil1px","updated":"20240201213730"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"amF2YQ==","Properties":{"id":""}},{"Type":"NodeCodeBlockCode","Data":"public final class Employee extends Person {\n}\n\npublic non-sealed class Manager extends Person {\n}\n","Properties":{"id":""}},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}}]},{"ID":"20240201213731-rmh85j7","Type":"NodeParagraph","Properties":{"id":"20240201213731-rmh85j7","updated":"20240201213731"},"Children":[{"Type":"NodeImage","Properties":{"id":""},"Children":[{"Type":"NodeBang","Data":"!","Properties":{"id":""}},{"Type":"NodeOpenBracket","Data":"[","Properties":{"id":""}},{"Type":"NodeCloseBracket","Data":"]","Properties":{"id":""}},{"Type":"NodeOpenParen","Data":"(","Properties":{"id":""}},{"Type":"NodeLinkDest","Data":"https://oss.javaguide.cn/javaguide/image-20210820153955587.png","Properties":{"id":""}},{"Type":"NodeCloseParen","Data":")","Properties":{"id":""}}]}]},{"ID":"20240201213732-l0psg9k","Type":"NodeParagraph","Properties":{"id":"20240201213732-l0psg9k","updated":"20240201213732"},"Children":[{"Type":"NodeText","Data":"如果允许扩展的子类和封闭类在同一个源代码文件里，封闭类可以不使用 permits 语句，Java 编译器将检索源文件，在编译期为封闭类添加上许可的子类。"}]},{"ID":"20240201213733-h5hwj1w","Type":"NodeHeading","HeadingLevel":4,"Properties":{"id":"20240201213733-h5hwj1w","updated":"20240201213733"},"Children":[{"Type":"NodeHeadingC8hMarker","Data":"#### ","Properties":{"id":""}},{"Type":"NodeText","Data":"instanceof 模式匹配"}]},{"ID":"20240201213734-s9rt80j","Type":"NodeParagraph","Properties":{"id":"20240201213734-s9rt80j","updated":"20240201213734"},"Children":[{"Type":"NodeText","Data":"Java 15 并没有对此特性进行调整，继续预览特性，主要用于接受更多的使用反馈。"}]},{"ID":"20240201213735-wpvmgbb","Type":"NodeParagraph","Properties":{"id":"20240201213735-wpvmgbb","updated":"20240201213735"},"Children":[{"Type":"NodeText","Data":"在未来的 Java 版本中，Java 的目标是继续完善 "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"instanceof"},{"Type":"NodeText","Data":" 模式匹配新特性。"}]},{"ID":"20240201213736-bnhkjo8","Type":"NodeHeading","HeadingLevel":3,"Properties":{"id":"20240201213736-bnhkjo8","updated":"20240201213736"},"Children":[{"Type":"NodeHeadingC8hMarker","Data":"### ","Properties":{"id":""}},{"Type":"NodeText","Data":"其他"}]},{"ID":"20240201213737-8cb5p5o","Type":"NodeList","ListData":{"Tight":true,"BulletChar":45,"Padding":2,"Marker":"LQ==","Num":-1},"Properties":{"id":"20240201213737-8cb5p5o","updated":"20240201213737"},"Children":[{"ID":"20240201213738-im7i9rw","Type":"NodeListItem","Data":"-","ListData":{"Tight":true,"BulletChar":45,"Padding":2,"Marker":"LQ==","Num":-1},"Properties":{"id":"20240201213738-im7i9rw","updated":"20240201213738"},"Children":[{"ID":"20240201213739-uf1crby","Type":"NodeParagraph","Properties":{"id":"20240201213739-uf1crby","updated":"20240201213739"},"Children":[{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"strong","TextMarkTextContent":"Nashorn JavaScript 引擎彻底移除"},{"Type":"NodeText","Data":"：Nashorn 从 Java8 开始引入的 JavaScript 引擎，Java9 对 Nashorn 做了些增强，实现了一些 ES6 的新特性。在 Java 11 中就已经被弃用，到了 Java 15 就彻底被删除了。"}]}]},{"ID":"20240201213740-bmr0rvy","Type":"NodeListItem","Data":"-","ListData":{"Tight":true,"BulletChar":45,"Padding":2,"Marker":"LQ==","Num":-1},"Properties":{"id":"20240201213740-bmr0rvy","updated":"20240201213740"},"Children":[{"ID":"20240201213741-zui2dkz","Type":"NodeParagraph","Properties":{"id":"20240201213741-zui2dkz","updated":"20240201213741"},"Children":[{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"strong","TextMarkTextContent":"DatagramSocket API 重构"}]}]},{"ID":"20240201213742-ohipiyp","Type":"NodeListItem","Data":"-","ListData":{"Tight":true,"BulletChar":45,"Padding":2,"Marker":"LQ==","Num":-1},"Properties":{"id":"20240201213742-ohipiyp","updated":"20240201213742"},"Children":[{"ID":"20240201213743-8yp33au","Type":"NodeParagraph","Properties":{"id":"20240201213743-8yp33au","updated":"20240201213743"},"Children":[{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"strong","TextMarkTextContent":"禁用和废弃偏向锁（Biased Locking）"},{"Type":"NodeText","Data":"：偏向锁的引入增加了 JVM 的复杂性大于其带来的性能提升。不过，你仍然可以使用 "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"-XX:+UseBiasedLocking"},{"Type":"NodeText","Data":" 启用偏向锁定，但它会提示这是一个已弃用的 API。"}]}]},{"ID":"20240201213744-tfu3kr7","Type":"NodeListItem","Data":"-","ListData":{"Tight":true,"BulletChar":45,"Padding":2,"Marker":"LQ==","Num":-1},"Properties":{"id":"20240201213744-tfu3kr7","updated":"20240201213744"},"Children":[{"ID":"20240201213745-m2y5tc4","Type":"NodeParagraph","Properties":{"id":"20240201213745-m2y5tc4","updated":"20240201213745"},"Children":[{"Type":"NodeText","Data":"……"}]}]}]},{"ID":"20240201213746-7aztoc8","Type":"NodeHTMLBlock","Data":"\u003cdiv\u003e\n\u003c!-- @include: @article-footer.snippet.md --\u003e\n\u003c/div\u003e","HtmlBlockType":2,"Properties":{"id":"20240201213746-7aztoc8","updated":"20240201213746"}}]}
{"ID":"20240201214008-6z3roet","Spec":"1","Type":"NodeDocument","Properties":{"id":"20240201214008-6z3roet","title":"e-3mybatis","updated":"20240201214008"},"Children":[{"ID":"20240201214009-qpphznt","Type":"NodeThematicBreak","Properties":{"id":"20240201214009-qpphznt","updated":"20240201214009"}},{"ID":"20240201214010-3pjxvv0","Type":"NodeHeading","HeadingLevel":2,"Properties":{"id":"20240201214010-3pjxvv0","updated":"20240201214010"},"Children":[{"Type":"NodeHeadingC8hMarker","Data":"## ","Properties":{"id":""}},{"Type":"NodeText","Data":"5.3 MyBatis"}]},{"ID":"20240201214011-mt2g9eh","Type":"NodeBlockquote","Properties":{"id":"20240201214011-mt2g9eh","updated":"20240201214011"},"Children":[{"Type":"NodeBlockquoteMarker","Data":"\u003e ","Properties":{"id":""}},{"ID":"20240201214012-cyeahre","Type":"NodeParagraph","Properties":{"id":"20240201214012-cyeahre","updated":"20240201214012"},"Children":[{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"a","TextMarkAHref":"https://javaguide.cn/","TextMarkTextContent":"JavaGuide"},{"Type":"NodeText","Data":" ：「Java学习+面试指南」一份涵盖大部分 Java 程序员所需要掌握的核心知识。准备 Java 面试，首选 JavaGuide！"}]}]},{"ID":"20240201214013-8dfjmsp","Type":"NodeHeading","HeadingLevel":3,"Properties":{"id":"20240201214013-8dfjmsp","updated":"20240201214013"},"Children":[{"Type":"NodeHeadingC8hMarker","Data":"### ","Properties":{"id":""}},{"Type":"NodeTextMark","TextMarkType":"tag","TextMarkTextContent":"{}"},{"Type":"NodeText","Data":" 和 "},{"Type":"NodeBackslash","Properties":{"id":""},"Children":[{"Type":"NodeBackslashContent","Data":"$","Properties":{"id":""}}]},{"Type":"NodeText","Data":"{} 的区别是什么？"}]},{"ID":"20240201214014-rvd55hp","Type":"NodeParagraph","Properties":{"id":"20240201214014-rvd55hp","updated":"20240201214014"},"Children":[{"Type":"NodeText","Data":"注：这道题是面试官面试我同事的。"}]},{"ID":"20240201214015-i6jvqbp","Type":"NodeParagraph","Properties":{"id":"20240201214015-i6jvqbp","updated":"20240201214015"},"Children":[{"Type":"NodeText","Data":"答："}]},{"ID":"20240201214016-x8h2maa","Type":"NodeList","ListData":{"Tight":true,"BulletChar":45,"Padding":2,"Marker":"LQ==","Num":-1},"Properties":{"id":"20240201214016-x8h2maa","updated":"20240201214016"},"Children":[{"ID":"20240201214017-6fu0740","Type":"NodeListItem","Data":"-","ListData":{"Tight":true,"BulletChar":45,"Padding":2,"Marker":"LQ==","Num":-1},"Properties":{"id":"20240201214017-6fu0740","updated":"20240201214017"},"Children":[{"ID":"20240201214018-pyi2e2t","Type":"NodeParagraph","Properties":{"id":"20240201214018-pyi2e2t","updated":"20240201214018"},"Children":[{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"${}"},{"Type":"NodeText","Data":"是 Properties 文件中的变量占位符，它可以用于标签属性值和 sql 内部，属于静态文本替换，比如"},{"Type":"NodeBackslash","Properties":{"id":""},"Children":[{"Type":"NodeBackslashContent","Data":"$","Properties":{"id":""}}]},{"Type":"NodeText","Data":"{driver}会被静态替换为"},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"com.mysql.jdbc. Driver"},{"Type":"NodeText","Data":"。"}]}]},{"ID":"20240201214019-nqtajj1","Type":"NodeListItem","Data":"-","ListData":{"Tight":true,"BulletChar":45,"Padding":2,"Marker":"LQ==","Num":-1},"Properties":{"id":"20240201214019-nqtajj1","updated":"20240201214019"},"Children":[{"ID":"20240201214020-mam2vd1","Type":"NodeParagraph","Properties":{"id":"20240201214020-mam2vd1","updated":"20240201214020"},"Children":[{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"#{}"},{"Type":"NodeText","Data":"是 sql 的参数占位符，MyBatis 会将 sql 中的"},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"#{}"},{"Type":"NodeText","Data":"替换为? 号，在 sql 执行前会使用 PreparedStatement 的参数设置方法，按序给 sql 的? 号占位符设置参数值，比如 ps.setInt(0, parameterValue)，"},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"#{item.name}"},{"Type":"NodeText","Data":" 的取值方式为使用反射从参数对象中获取 item 对象的 name 属性值，相当于 "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"param.getItem().getName()"},{"Type":"NodeText","Data":"。"}]}]}]},{"ID":"20240201214021-pswbec9","Type":"NodeHeading","HeadingLevel":3,"Properties":{"id":"20240201214021-pswbec9","updated":"20240201214021"},"Children":[{"Type":"NodeHeadingC8hMarker","Data":"### ","Properties":{"id":""}},{"Type":"NodeText","Data":"xml 映射文件中，除了常见的 select、insert、update、delete 标签之外，还有哪些标签？"}]},{"ID":"20240201214022-vua1ywu","Type":"NodeParagraph","Properties":{"id":"20240201214022-vua1ywu","updated":"20240201214022"},"Children":[{"Type":"NodeText","Data":"注：这道题是京东面试官面试我时问的。"}]},{"ID":"20240201214023-75e494o","Type":"NodeParagraph","Properties":{"id":"20240201214023-75e494o","updated":"20240201214023"},"Children":[{"Type":"NodeText","Data":"答：还有很多其他的标签， "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"\u0026lt;resultMap\u0026gt;"},{"Type":"NodeText","Data":" 、 "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"\u0026lt;parameterMap\u0026gt;"},{"Type":"NodeText","Data":" 、 "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"\u0026lt;sql\u0026gt;"},{"Type":"NodeText","Data":" 、 "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"\u0026lt;include\u0026gt;"},{"Type":"NodeText","Data":" 、 "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"\u0026lt;selectKey\u0026gt;"},{"Type":"NodeText","Data":" ，加上动态 sql 的 9 个标签， "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"trim|where|set|foreach|if|choose|when|otherwise|bind"},{"Type":"NodeText","Data":" 等，其中 "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"\u0026lt;sql\u0026gt;"},{"Type":"NodeText","Data":" 为 sql 片段标签，通过 "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"\u0026lt;include\u0026gt;"},{"Type":"NodeText","Data":" 标签引入 sql 片段， "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"\u0026lt;selectKey\u0026gt;"},{"Type":"NodeText","Data":" 为不支持自增的主键生成策略标签。"}]},{"ID":"20240201214024-9w6xxng","Type":"NodeHeading","HeadingLevel":3,"Properties":{"id":"20240201214024-9w6xxng","updated":"20240201214024"},"Children":[{"Type":"NodeHeadingC8hMarker","Data":"### ","Properties":{"id":""}},{"Type":"NodeText","Data":"Dao 接口的工作原理是什么？Dao 接口里的方法，参数不同时，方法能重载吗？"}]},{"ID":"20240201214025-akn9ans","Type":"NodeParagraph","Properties":{"id":"20240201214025-akn9ans","updated":"20240201214025"},"Children":[{"Type":"NodeText","Data":"注：这道题也是京东面试官面试我被问的。"}]},{"ID":"20240201214026-ez99ibw","Type":"NodeParagraph","Properties":{"id":"20240201214026-ez99ibw","updated":"20240201214026"},"Children":[{"Type":"NodeText","Data":"答：最佳实践中，通常一个 xml 映射文件，都会写一个 Dao 接口与之对应。Dao 接口就是人们常说的 "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"Mapper"},{"Type":"NodeText","Data":" 接口，接口的全限名，就是映射文件中的 namespace 的值，接口的方法名，就是映射文件中 "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"MappedStatement"},{"Type":"NodeText","Data":" 的 id 值，接口方法内的参数，就是传递给 sql 的参数。 "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"Mapper"},{"Type":"NodeText","Data":" 接口是没有实现类的，当调用接口方法时，接口全限名+方法名拼接字符串作为 key 值，可唯一定位一个 "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"MappedStatement"},{"Type":"NodeText","Data":" ，举例： "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"com.mybatis3.mappers. StudentDao.findStudentById"},{"Type":"NodeText","Data":" ，可以唯一找到 namespace 为 "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"com.mybatis3.mappers. StudentDao"},{"Type":"NodeText","Data":" 下面 "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"id = findStudentById"},{"Type":"NodeText","Data":" 的 "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"MappedStatement"},{"Type":"NodeText","Data":" 。在 MyBatis 中，每一个 "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"\u0026lt;select\u0026gt;"},{"Type":"NodeText","Data":" 、 "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"\u0026lt;insert\u0026gt;"},{"Type":"NodeText","Data":" 、 "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"\u0026lt;update\u0026gt;"},{"Type":"NodeText","Data":" 、 "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"\u0026lt;delete\u0026gt;"},{"Type":"NodeText","Data":" 标签，都会被解析为一个 "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"MappedStatement"},{"Type":"NodeText","Data":" 对象。"}]},{"ID":"20240201214027-1q267iv","Type":"NodeParagraph","Properties":{"id":"20240201214027-1q267iv","updated":"20240201214027"},"Children":[{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"s","TextMarkTextContent":"Dao 接口里的方法，是不能重载的，因为是全限名+方法名的保存和寻找策略。"}]},{"ID":"20240201214028-2y3rgpq","Type":"NodeParagraph","Properties":{"id":"20240201214028-2y3rgpq","updated":"20240201214028"},"Children":[{"Type":"NodeText","Data":"Dao 接口里的方法可以重载，但是 Mybatis 的 xml 里面的 ID 不允许重复。"}]},{"ID":"20240201214029-vzczrin","Type":"NodeParagraph","Properties":{"id":"20240201214029-vzczrin","updated":"20240201214029"},"Children":[{"Type":"NodeText","Data":"Mybatis 版本 3.3.0，亲测如下："}]},{"ID":"20240201214030-hbnfq8l","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"CodeBlockFenceChar":96,"CodeBlockFenceLen":3,"CodeBlockOpenFence":"YGBg","CodeBlockInfo":"amF2YQ==","CodeBlockCloseFence":"YGBg","Properties":{"id":"20240201214030-hbnfq8l","updated":"20240201214030"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"amF2YQ==","Properties":{"id":""}},{"Type":"NodeCodeBlockCode","Data":"/**\n * Mapper接口里面方法重载\n */\npublic interface StuMapper {\n\n\tList\u003cStudent\u003e getAllStu();\n\n\tList\u003cStudent\u003e getAllStu(@Param(\"id\") Integer id);\n}\n","Properties":{"id":""}},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}}]},{"ID":"20240201214031-o6dbdxs","Type":"NodeParagraph","Properties":{"id":"20240201214031-o6dbdxs","updated":"20240201214031"},"Children":[{"Type":"NodeText","Data":"然后在 "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"StuMapper.xml"},{"Type":"NodeText","Data":" 中利用 Mybatis 的动态 sql 就可以实现。"}]},{"ID":"20240201214032-rpvpwyq","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"CodeBlockFenceChar":96,"CodeBlockFenceLen":3,"CodeBlockOpenFence":"YGBg","CodeBlockInfo":"amF2YQ==","CodeBlockCloseFence":"YGBg","Properties":{"id":"20240201214032-rpvpwyq","updated":"20240201214032"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"amF2YQ==","Properties":{"id":""}},{"Type":"NodeCodeBlockCode","Data":"\t\u003cselect id=\"getAllStu\" resultType=\"com.pojo.Student\"\u003e\n \t\tselect * from student\n\t\t\u003cwhere\u003e\n\t\t\t\u003cif test=\"id != null\"\u003e\n\t\t\t\tid = #{id}\n\t\t\t\u003c/if\u003e\n\t\t\u003c/where\u003e\n \t\u003c/select\u003e\n","Properties":{"id":""}},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}}]},{"ID":"20240201214033-eyrgl2y","Type":"NodeParagraph","Properties":{"id":"20240201214033-eyrgl2y","updated":"20240201214033"},"Children":[{"Type":"NodeText","Data":"能正常运行，并能得到相应的结果，这样就实现了在 Dao 接口中写重载方法。"}]},{"ID":"20240201214034-t1m6wdm","Type":"NodeParagraph","Properties":{"id":"20240201214034-t1m6wdm","updated":"20240201214034"},"Children":[{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"strong","TextMarkTextContent":"Mybatis 的 Dao 接口可以有多个重载方法，但是多个接口对应的映射必须只有一个，否则启动会报错。"}]},{"ID":"20240201214035-2qlgg9k","Type":"NodeParagraph","Properties":{"id":"20240201214035-2qlgg9k","updated":"20240201214035"},"Children":[{"Type":"NodeText","Data":"相关 issue ："},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"a","TextMarkAHref":"https://github.com/Snailclimb/JavaGuide/issues/1122","TextMarkTextContent":"更正：Dao 接口里的方法可以重载，但是 Mybatis 的 xml 里面的 ID 不允许重复！"},{"Type":"NodeText","Data":"。"}]},{"ID":"20240201214036-o77k26z","Type":"NodeParagraph","Properties":{"id":"20240201214036-o77k26z","updated":"20240201214036"},"Children":[{"Type":"NodeText","Data":"Dao 接口的工作原理是 JDK 动态代理，MyBatis 运行时会使用 JDK 动态代理为 Dao 接口生成代理 proxy 对象，代理对象 proxy 会拦截接口方法，转而执行 "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"MappedStatement"},{"Type":"NodeText","Data":" 所代表的 sql，然后将 sql 执行结果返回。"}]},{"ID":"20240201214037-bzd4vss","Type":"NodeParagraph","Properties":{"id":"20240201214037-bzd4vss","updated":"20240201214037"},"Children":[{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"strong","TextMarkTextContent":"补充"},{"Type":"NodeText","Data":" ："}]},{"ID":"20240201214038-9js44tx","Type":"NodeParagraph","Properties":{"id":"20240201214038-9js44tx","updated":"20240201214038"},"Children":[{"Type":"NodeText","Data":"Dao 接口方法可以重载，但是需要满足以下条件："}]},{"ID":"20240201214039-flegwig","Type":"NodeList","ListData":{"Typ":1,"Tight":true,"Start":1,"Delimiter":46,"Padding":3,"Marker":"MQ==","Num":1},"Properties":{"id":"20240201214039-flegwig","updated":"20240201214039"},"Children":[{"ID":"20240201214040-6v2rx63","Type":"NodeListItem","Data":"1","ListData":{"Typ":1,"Tight":true,"Start":1,"Delimiter":46,"Padding":3,"Marker":"MQ==","Num":1},"Properties":{"id":"20240201214040-6v2rx63","updated":"20240201214040"},"Children":[{"ID":"20240201214041-tladheo","Type":"NodeParagraph","Properties":{"id":"20240201214041-tladheo","updated":"20240201214041"},"Children":[{"Type":"NodeText","Data":"仅有一个无参方法和一个有参方法"}]}]},{"ID":"20240201214042-wj0quq0","Type":"NodeListItem","Data":"2","ListData":{"Typ":1,"Tight":true,"Start":2,"Delimiter":46,"Padding":3,"Marker":"Mg==","Num":2},"Properties":{"id":"20240201214042-wj0quq0","updated":"20240201214042"},"Children":[{"ID":"20240201214043-sc60k83","Type":"NodeParagraph","Properties":{"id":"20240201214043-sc60k83","updated":"20240201214043"},"Children":[{"Type":"NodeText","Data":"多个有参方法时，参数数量必须一致。且使用相同的 "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"@Param"},{"Type":"NodeText","Data":" ，或者使用 "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"param1"},{"Type":"NodeText","Data":" 这种"}]}]}]},{"ID":"20240201214044-ufrxcnt","Type":"NodeParagraph","Properties":{"id":"20240201214044-ufrxcnt","updated":"20240201214044"},"Children":[{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"strong","TextMarkTextContent":"测试如下"},{"Type":"NodeText","Data":" ："}]},{"ID":"20240201214045-c6sf9k7","Type":"NodeParagraph","Properties":{"id":"20240201214045-c6sf9k7","updated":"20240201214045"},"Children":[{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"PersonDao.java"}]},{"ID":"20240201214046-4e9cn5r","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"CodeBlockFenceChar":96,"CodeBlockFenceLen":3,"CodeBlockOpenFence":"YGBg","CodeBlockInfo":"amF2YQ==","CodeBlockCloseFence":"YGBg","Properties":{"id":"20240201214046-4e9cn5r","updated":"20240201214046"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"amF2YQ==","Properties":{"id":""}},{"Type":"NodeCodeBlockCode","Data":"Person queryById();\n\nPerson queryById(@Param(\"id\") Long id);\n\nPerson queryById(@Param(\"id\") Long id, @Param(\"name\") String name);\n","Properties":{"id":""}},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}}]},{"ID":"20240201214047-1xsr7s1","Type":"NodeParagraph","Properties":{"id":"20240201214047-1xsr7s1","updated":"20240201214047"},"Children":[{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"PersonMapper.xml"}]},{"ID":"20240201214048-n062e8r","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"CodeBlockFenceChar":96,"CodeBlockFenceLen":3,"CodeBlockOpenFence":"YGBg","CodeBlockInfo":"eG1s","CodeBlockCloseFence":"YGBg","Properties":{"id":"20240201214048-n062e8r","updated":"20240201214048"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"eG1s","Properties":{"id":""}},{"Type":"NodeCodeBlockCode","Data":"\u003cselect id=\"queryById\" resultMap=\"PersonMap\"\u003e\n    select\n      id, name, age, address\n    from person\n    \u003cwhere\u003e\n        \u003cif test=\"id != null\"\u003e\n            id = #{id}\n        \u003c/if\u003e\n        \u003cif test=\"name != null and name != ''\"\u003e\n            name = #{name}\n        \u003c/if\u003e\n    \u003c/where\u003e\n    limit 1\n\u003c/select\u003e\n","Properties":{"id":""}},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}}]},{"ID":"20240201214049-0e1awgn","Type":"NodeParagraph","Properties":{"id":"20240201214049-0e1awgn","updated":"20240201214049"},"Children":[{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"org.apache.ibatis.scripting.xmltags. DynamicContext. ContextAccessor#getProperty"},{"Type":"NodeText","Data":" 方法用于获取 "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"\u0026lt;if\u0026gt;"},{"Type":"NodeText","Data":" 标签中的条件值"}]},{"ID":"20240201214050-88jb119","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"CodeBlockFenceChar":96,"CodeBlockFenceLen":3,"CodeBlockOpenFence":"YGBg","CodeBlockInfo":"amF2YQ==","CodeBlockCloseFence":"YGBg","Properties":{"id":"20240201214050-88jb119","updated":"20240201214050"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"amF2YQ==","Properties":{"id":""}},{"Type":"NodeCodeBlockCode","Data":"public Object getProperty(Map context, Object target, Object name) {\n  Map map = (Map) target;\n\n  Object result = map.get(name);\n  if (map.containsKey(name) || result != null) {\n    return result;\n  }\n\n  Object parameterObject = map.get(PARAMETER_OBJECT_KEY);\n  if (parameterObject instanceof Map) {\n    return ((Map)parameterObject).get(name);\n  }\n\n  return null;\n}\n","Properties":{"id":""}},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}}]},{"ID":"20240201214051-uku9c0w","Type":"NodeParagraph","Properties":{"id":"20240201214051-uku9c0w","updated":"20240201214051"},"Children":[{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"parameterObject"},{"Type":"NodeText","Data":" 为 map，存放的是 Dao 接口中参数相关信息。"}]},{"ID":"20240201214052-iljtdsi","Type":"NodeParagraph","Properties":{"id":"20240201214052-iljtdsi","updated":"20240201214052"},"Children":[{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"((Map)parameterObject).get(name)"},{"Type":"NodeText","Data":" 方法如下"}]},{"ID":"20240201214053-qfn8yb3","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"CodeBlockFenceChar":96,"CodeBlockFenceLen":3,"CodeBlockOpenFence":"YGBg","CodeBlockInfo":"amF2YQ==","CodeBlockCloseFence":"YGBg","Properties":{"id":"20240201214053-qfn8yb3","updated":"20240201214053"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"amF2YQ==","Properties":{"id":""}},{"Type":"NodeCodeBlockCode","Data":"public V get(Object key) {\n  if (!super.containsKey(key)) {\n    throw new BindingException(\"Parameter '\" + key + \"' not found. Available parameters are \" + keySet());\n  }\n  return super.get(key);\n}\n","Properties":{"id":""}},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}}]},{"ID":"20240201214054-89wiwws","Type":"NodeList","ListData":{"Typ":1,"Tight":true,"Start":1,"Delimiter":46,"Padding":3,"Marker":"MQ==","Num":1},"Properties":{"id":"20240201214054-89wiwws","updated":"20240201214054"},"Children":[{"ID":"20240201214055-4trx8ow","Type":"NodeListItem","Data":"1","ListData":{"Typ":1,"Tight":true,"Start":1,"Delimiter":46,"Padding":3,"Marker":"MQ==","Num":1},"Properties":{"id":"20240201214055-4trx8ow","updated":"20240201214055"},"Children":[{"ID":"20240201214056-ce1kgik","Type":"NodeParagraph","Properties":{"id":"20240201214056-ce1kgik","updated":"20240201214056"},"Children":[{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"queryById()"},{"Type":"NodeText","Data":"方法执行时，"},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"parameterObject"},{"Type":"NodeText","Data":"为 null，"},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"getProperty"},{"Type":"NodeText","Data":"方法返回 null 值，"},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"\u0026lt;if\u0026gt;"},{"Type":"NodeText","Data":"标签获取的所有条件值都为 null，所有条件不成立，动态 sql 可以正常执行。"}]}]},{"ID":"20240201214057-3mzpjp3","Type":"NodeListItem","Data":"2","ListData":{"Typ":1,"Tight":true,"Start":2,"Delimiter":46,"Padding":3,"Marker":"Mg==","Num":2},"Properties":{"id":"20240201214057-3mzpjp3","updated":"20240201214057"},"Children":[{"ID":"20240201214058-yp42ak2","Type":"NodeParagraph","Properties":{"id":"20240201214058-yp42ak2","updated":"20240201214058"},"Children":[{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"queryById(1L)"},{"Type":"NodeText","Data":"方法执行时，"},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"parameterObject"},{"Type":"NodeText","Data":"为 map，包含了"},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"id"},{"Type":"NodeText","Data":"和"},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"param1"},{"Type":"NodeText","Data":"两个 key 值。当获取"},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"\u0026lt;if\u0026gt;"},{"Type":"NodeText","Data":"标签中"},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"name"},{"Type":"NodeText","Data":"的属性值时，进入"},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"((Map)parameterObject).get(name)"},{"Type":"NodeText","Data":"方法中，map 中 key 不包含"},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"name"},{"Type":"NodeText","Data":"，所以抛出异常。"}]}]},{"ID":"20240201214059-gx2syn9","Type":"NodeListItem","Data":"3","ListData":{"Typ":1,"Tight":true,"Start":3,"Delimiter":46,"Padding":3,"Marker":"Mw==","Num":3},"Properties":{"id":"20240201214059-gx2syn9","updated":"20240201214059"},"Children":[{"ID":"20240201214060-7ppoiom","Type":"NodeParagraph","Properties":{"id":"20240201214060-7ppoiom","updated":"20240201214060"},"Children":[{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"queryById(1L,\u0026quot;1\u0026quot;)"},{"Type":"NodeText","Data":"方法执行时，"},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"parameterObject"},{"Type":"NodeText","Data":"中包含"},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"id"},{"Type":"NodeText","Data":","},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"param1"},{"Type":"NodeText","Data":","},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"name"},{"Type":"NodeText","Data":","},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"param2"},{"Type":"NodeText","Data":"四个 key 值，"},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"id"},{"Type":"NodeText","Data":"和"},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"name"},{"Type":"NodeText","Data":"属性都可以获取到，动态 sql 正常执行。"}]}]}]},{"ID":"20240201214061-wiumkyx","Type":"NodeHeading","HeadingLevel":3,"Properties":{"id":"20240201214061-wiumkyx","updated":"20240201214061"},"Children":[{"Type":"NodeHeadingC8hMarker","Data":"### ","Properties":{"id":""}},{"Type":"NodeText","Data":"MyBatis 是如何进行分页的？分页插件的原理是什么？"}]},{"ID":"20240201214062-5vpi3jl","Type":"NodeParagraph","Properties":{"id":"20240201214062-5vpi3jl","updated":"20240201214062"},"Children":[{"Type":"NodeText","Data":"注：我出的。"}]},{"ID":"20240201214063-mfqmwrt","Type":"NodeParagraph","Properties":{"id":"20240201214063-mfqmwrt","updated":"20240201214063"},"Children":[{"Type":"NodeText","Data":"答："},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"strong","TextMarkTextContent":"(1)"},{"Type":"NodeText","Data":" MyBatis 使用 RowBounds 对象进行分页，它是针对 ResultSet 结果集执行的内存分页，而非物理分页；"},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"strong","TextMarkTextContent":"(2)"},{"Type":"NodeText","Data":" 可以在 sql 内直接书写带有物理分页的参数来完成物理分页功能，"},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"strong","TextMarkTextContent":"(3)"},{"Type":"NodeText","Data":" 也可以使用分页插件来完成物理分页。"}]},{"ID":"20240201214064-3jkvw6e","Type":"NodeParagraph","Properties":{"id":"20240201214064-3jkvw6e","updated":"20240201214064"},"Children":[{"Type":"NodeText","Data":"分页插件的基本原理是使用 MyBatis 提供的插件接口，实现自定义插件，在插件的拦截方法内拦截待执行的 sql，然后重写 sql，根据 dialect 方言，添加对应的物理分页语句和物理分页参数。"}]},{"ID":"20240201214065-stopfel","Type":"NodeParagraph","Properties":{"id":"20240201214065-stopfel","updated":"20240201214065"},"Children":[{"Type":"NodeText","Data":"举例： "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"select _ from student"},{"Type":"NodeText","Data":" ，拦截 sql 后重写为： "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"select t._ from （select \\* from student）t limit 0，10"}]},{"ID":"20240201214066-k6bknf7","Type":"NodeHeading","HeadingLevel":3,"Properties":{"id":"20240201214066-k6bknf7","updated":"20240201214066"},"Children":[{"Type":"NodeHeadingC8hMarker","Data":"### ","Properties":{"id":""}},{"Type":"NodeText","Data":"简述 MyBatis 的插件运行原理，以及如何编写一个插件。"}]},{"ID":"20240201214067-mchz8pk","Type":"NodeParagraph","Properties":{"id":"20240201214067-mchz8pk","updated":"20240201214067"},"Children":[{"Type":"NodeText","Data":"注：我出的。"}]},{"ID":"20240201214068-fi8n0zt","Type":"NodeParagraph","Properties":{"id":"20240201214068-fi8n0zt","updated":"20240201214068"},"Children":[{"Type":"NodeText","Data":"答：MyBatis 仅可以编写针对 "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"ParameterHandler"},{"Type":"NodeText","Data":" 、 "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"ResultSetHandler"},{"Type":"NodeText","Data":" 、 "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"StatementHandler"},{"Type":"NodeText","Data":" 、 "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"Executor"},{"Type":"NodeText","Data":" 这 4 种接口的插件，MyBatis 使用 JDK 的动态代理，为需要拦截的接口生成代理对象以实现接口方法拦截功能，每当执行这 4 种接口对象的方法时，就会进入拦截方法，具体就是 "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"InvocationHandler"},{"Type":"NodeText","Data":" 的 "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"invoke()"},{"Type":"NodeText","Data":" 方法，当然，只会拦截那些你指定需要拦截的方法。"}]},{"ID":"20240201214069-p1gp4sh","Type":"NodeParagraph","Properties":{"id":"20240201214069-p1gp4sh","updated":"20240201214069"},"Children":[{"Type":"NodeText","Data":"实现 MyBatis 的 "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"Interceptor"},{"Type":"NodeText","Data":" 接口并复写 "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"intercept()"},{"Type":"NodeText","Data":" 方法，然后在给插件编写注解，指定要拦截哪一个接口的哪些方法即可，记住，别忘了在配置文件中配置你编写的插件。"}]},{"ID":"20240201214070-wrgf1re","Type":"NodeHeading","HeadingLevel":3,"Properties":{"id":"20240201214070-wrgf1re","updated":"20240201214070"},"Children":[{"Type":"NodeHeadingC8hMarker","Data":"### ","Properties":{"id":""}},{"Type":"NodeText","Data":"MyBatis 执行批量插入，能返回数据库主键列表吗？"}]},{"ID":"20240201214071-782159l","Type":"NodeParagraph","Properties":{"id":"20240201214071-782159l","updated":"20240201214071"},"Children":[{"Type":"NodeText","Data":"注：我出的。"}]},{"ID":"20240201214072-niwiqhb","Type":"NodeParagraph","Properties":{"id":"20240201214072-niwiqhb","updated":"20240201214072"},"Children":[{"Type":"NodeText","Data":"答：能，JDBC 都能，MyBatis 当然也能。"}]},{"ID":"20240201214073-qhye6bq","Type":"NodeHeading","HeadingLevel":3,"Properties":{"id":"20240201214073-qhye6bq","updated":"20240201214073"},"Children":[{"Type":"NodeHeadingC8hMarker","Data":"### ","Properties":{"id":""}},{"Type":"NodeText","Data":"MyBatis 动态 sql 是做什么的？都有哪些动态 sql？能简述一下动态 sql 的执行原理不？"}]},{"ID":"20240201214074-g031vt8","Type":"NodeParagraph","Properties":{"id":"20240201214074-g031vt8","updated":"20240201214074"},"Children":[{"Type":"NodeText","Data":"注：我出的。"}]},{"ID":"20240201214075-c0hcqeu","Type":"NodeParagraph","Properties":{"id":"20240201214075-c0hcqeu","updated":"20240201214075"},"Children":[{"Type":"NodeText","Data":"答：MyBatis 动态 sql 可以让我们在 xml 映射文件内，以标签的形式编写动态 sql，完成逻辑判断和动态拼接 sql 的功能。其执行原理为，使用 OGNL 从 sql 参数对象中计算表达式的值，根据表达式的值动态拼接 sql，以此来完成动态 sql 的功能。"}]},{"ID":"20240201214076-d1y1igf","Type":"NodeParagraph","Properties":{"id":"20240201214076-d1y1igf","updated":"20240201214076"},"Children":[{"Type":"NodeText","Data":"MyBatis 提供了 9 种动态 sql 标签:"}]},{"ID":"20240201214077-o1ymg37","Type":"NodeList","ListData":{"Tight":true,"BulletChar":45,"Padding":2,"Marker":"LQ==","Num":-1},"Properties":{"id":"20240201214077-o1ymg37","updated":"20240201214077"},"Children":[{"ID":"20240201214078-5hlklnl","Type":"NodeListItem","Data":"-","ListData":{"Tight":true,"BulletChar":45,"Padding":2,"Marker":"LQ==","Num":-1},"Properties":{"id":"20240201214078-5hlklnl","updated":"20240201214078"},"Children":[{"ID":"20240201214079-mzv76kd","Type":"NodeParagraph","Properties":{"id":"20240201214079-mzv76kd","updated":"20240201214079"},"Children":[{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"\u0026lt;if\u0026gt;\u0026lt;/if\u0026gt;"}]}]},{"ID":"20240201214080-va4f5ax","Type":"NodeListItem","Data":"-","ListData":{"Tight":true,"BulletChar":45,"Padding":2,"Marker":"LQ==","Num":-1},"Properties":{"id":"20240201214080-va4f5ax","updated":"20240201214080"},"Children":[{"ID":"20240201214081-wk9ebs3","Type":"NodeParagraph","Properties":{"id":"20240201214081-wk9ebs3","updated":"20240201214081"},"Children":[{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"\u0026lt;where\u0026gt;\u0026lt;/where\u0026gt;(trim,set)"}]}]},{"ID":"20240201214082-jsiha7g","Type":"NodeListItem","Data":"-","ListData":{"Tight":true,"BulletChar":45,"Padding":2,"Marker":"LQ==","Num":-1},"Properties":{"id":"20240201214082-jsiha7g","updated":"20240201214082"},"Children":[{"ID":"20240201214083-ezqqveu","Type":"NodeParagraph","Properties":{"id":"20240201214083-ezqqveu","updated":"20240201214083"},"Children":[{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"\u0026lt;choose\u0026gt;\u0026lt;/choose\u0026gt;（when, otherwise）"}]}]},{"ID":"20240201214084-bslodx3","Type":"NodeListItem","Data":"-","ListData":{"Tight":true,"BulletChar":45,"Padding":2,"Marker":"LQ==","Num":-1},"Properties":{"id":"20240201214084-bslodx3","updated":"20240201214084"},"Children":[{"ID":"20240201214085-0avc4q2","Type":"NodeParagraph","Properties":{"id":"20240201214085-0avc4q2","updated":"20240201214085"},"Children":[{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"\u0026lt;foreach\u0026gt;\u0026lt;/foreach\u0026gt;"}]}]},{"ID":"20240201214086-m07px56","Type":"NodeListItem","Data":"-","ListData":{"Tight":true,"BulletChar":45,"Padding":2,"Marker":"LQ==","Num":-1},"Properties":{"id":"20240201214086-m07px56","updated":"20240201214086"},"Children":[{"ID":"20240201214087-pz5zl06","Type":"NodeParagraph","Properties":{"id":"20240201214087-pz5zl06","updated":"20240201214087"},"Children":[{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"\u0026lt;bind/\u0026gt;"}]}]}]},{"ID":"20240201214088-2xs5ztc","Type":"NodeParagraph","Properties":{"id":"20240201214088-2xs5ztc","updated":"20240201214088"},"Children":[{"Type":"NodeText","Data":"关于 MyBatis 动态 SQL 的详细介绍，请看这篇文章："},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"a","TextMarkAHref":"https://segmentfault.com/a/1190000039335704","TextMarkTextContent":"Mybatis 系列全解（八）：Mybatis 的 9 大动态 SQL 标签你知道几个？"},{"Type":"NodeText","Data":" 。"}]},{"ID":"20240201214089-zhq9jfx","Type":"NodeParagraph","Properties":{"id":"20240201214089-zhq9jfx","updated":"20240201214089"},"Children":[{"Type":"NodeText","Data":"关于这些动态 SQL 的具体使用方法，请看这篇文章："},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"a","TextMarkAHref":"https://cloud.tencent.com/developer/article/1943349","TextMarkTextContent":"Mybatis【13】-- Mybatis 动态 sql 标签怎么使用？"}]},{"ID":"20240201214090-6fmopf1","Type":"NodeHeading","HeadingLevel":3,"Properties":{"id":"20240201214090-6fmopf1","updated":"20240201214090"},"Children":[{"Type":"NodeHeadingC8hMarker","Data":"### ","Properties":{"id":""}},{"Type":"NodeText","Data":"MyBatis 是如何将 sql 执行结果封装为目标对象并返回的？都有哪些映射形式？"}]},{"ID":"20240201214091-vd8xng4","Type":"NodeParagraph","Properties":{"id":"20240201214091-vd8xng4","updated":"20240201214091"},"Children":[{"Type":"NodeText","Data":"注：我出的。"}]},{"ID":"20240201214092-ocft35d","Type":"NodeParagraph","Properties":{"id":"20240201214092-ocft35d","updated":"20240201214092"},"Children":[{"Type":"NodeText","Data":"答：第一种是使用 "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"\u0026lt;resultMap\u0026gt;"},{"Type":"NodeText","Data":" 标签，逐一定义列名和对象属性名之间的映射关系。第二种是使用 sql 列的别名功能，将列别名书写为对象属性名，比如 T_NAME AS NAME，对象属性名一般是 name，小写，但是列名不区分大小写，MyBatis 会忽略列名大小写，智能找到与之对应对象属性名，你甚至可以写成 T_NAME AS NaMe，MyBatis 一样可以正常工作。"}]},{"ID":"20240201214093-2gfmuoj","Type":"NodeParagraph","Properties":{"id":"20240201214093-2gfmuoj","updated":"20240201214093"},"Children":[{"Type":"NodeText","Data":"有了列名与属性名的映射关系后，MyBatis 通过反射创建对象，同时使用反射给对象的属性逐一赋值并返回，那些找不到映射关系的属性，是无法完成赋值的。"}]},{"ID":"20240201214094-tgcq71l","Type":"NodeHeading","HeadingLevel":3,"Properties":{"id":"20240201214094-tgcq71l","updated":"20240201214094"},"Children":[{"Type":"NodeHeadingC8hMarker","Data":"### ","Properties":{"id":""}},{"Type":"NodeText","Data":"MyBatis 能执行一对一、一对多的关联查询吗？都有哪些实现方式，以及它们之间的区别。"}]},{"ID":"20240201214095-mcf4ffz","Type":"NodeParagraph","Properties":{"id":"20240201214095-mcf4ffz","updated":"20240201214095"},"Children":[{"Type":"NodeText","Data":"注：我出的。"}]},{"ID":"20240201214096-iuo32yz","Type":"NodeParagraph","Properties":{"id":"20240201214096-iuo32yz","updated":"20240201214096"},"Children":[{"Type":"NodeText","Data":"答：能，MyBatis 不仅可以执行一对一、一对多的关联查询，还可以执行多对一，多对多的关联查询，多对一查询，其实就是一对一查询，只需要把 "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"selectOne()"},{"Type":"NodeText","Data":" 修改为 "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"selectList()"},{"Type":"NodeText","Data":" 即可；多对多查询，其实就是一对多查询，只需要把 "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"selectOne()"},{"Type":"NodeText","Data":" 修改为 "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"selectList()"},{"Type":"NodeText","Data":" 即可。"}]},{"ID":"20240201214097-8tq31w2","Type":"NodeParagraph","Properties":{"id":"20240201214097-8tq31w2","updated":"20240201214097"},"Children":[{"Type":"NodeText","Data":"关联对象查询，有两种实现方式，一种是单独发送一个 sql 去查询关联对象，赋给主对象，然后返回主对象。另一种是使用嵌套查询，嵌套查询的含义为使用 join 查询，一部分列是 A 对象的属性值，另外一部分列是关联对象 B 的属性值，好处是只发一个 sql 查询，就可以把主对象和其关联对象查出来。"}]},{"ID":"20240201214098-o41d56e","Type":"NodeParagraph","Properties":{"id":"20240201214098-o41d56e","updated":"20240201214098"},"Children":[{"Type":"NodeText","Data":"那么问题来了，join 查询出来 100 条记录，如何确定主对象是 5 个，而不是 100 个？其去重复的原理是 "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"\u0026lt;resultMap\u0026gt;"},{"Type":"NodeText","Data":" 标签内的 "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"\u0026lt;id\u0026gt;"},{"Type":"NodeText","Data":" 子标签，指定了唯一确定一条记录的 id 列，MyBatis 根据 "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"\u0026lt;id\u0026gt;"},{"Type":"NodeText","Data":" 列值来完成 100 条记录的去重复功能， "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"\u0026lt;id\u0026gt;"},{"Type":"NodeText","Data":" 可以有多个，代表了联合主键的语意。"}]},{"ID":"20240201214099-cqx53mq","Type":"NodeParagraph","Properties":{"id":"20240201214099-cqx53mq","updated":"20240201214099"},"Children":[{"Type":"NodeText","Data":"同样主对象的关联对象，也是根据这个原理去重复的，尽管一般情况下，只有主对象会有重复记录，关联对象一般不会重复。"}]},{"ID":"20240201214100-hr6lgwz","Type":"NodeParagraph","Properties":{"id":"20240201214100-hr6lgwz","updated":"20240201214100"},"Children":[{"Type":"NodeText","Data":"举例：下面 join 查询出来 6 条记录，一、二列是 Teacher 对象列，第三列为 Student 对象列，MyBatis 去重复处理后，结果为 1 个老师 6 个学生，而不是 6 个老师 6 个学生。"}]},{"ID":"20240201214101-8qlpirx","Type":"NodeTable","Data":"| t_id | t_name  | s_id |\n| ---- | ------- | ---- |\n| 1    | teacher | 38   |\n| 1    | teacher | 39   |\n| 1    | teacher | 40   |\n| 1    | teacher | 41   |\n| 1    | teacher | 42   |\n| 1    | teacher | 43   |","TableAligns":[0,0,0],"Properties":{"id":"20240201214101-8qlpirx","updated":"20240201214101"},"Children":[{"Type":"NodeTableHead","Properties":{"id":""},"Children":[{"Type":"NodeTableRow","Properties":{"id":""},"Children":[{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"t_id"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"t_name"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"s_id"}]}]}]},{"Type":"NodeTableRow","TableAligns":[0,0,0],"Properties":{"id":""},"Children":[{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"1"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"teacher"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"38"}]}]},{"Type":"NodeTableRow","TableAligns":[0,0,0],"Properties":{"id":""},"Children":[{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"1"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"teacher"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"39"}]}]},{"Type":"NodeTableRow","TableAligns":[0,0,0],"Properties":{"id":""},"Children":[{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"1"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"teacher"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"40"}]}]},{"Type":"NodeTableRow","TableAligns":[0,0,0],"Properties":{"id":""},"Children":[{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"1"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"teacher"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"41"}]}]},{"Type":"NodeTableRow","TableAligns":[0,0,0],"Properties":{"id":""},"Children":[{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"1"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"teacher"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"42"}]}]},{"Type":"NodeTableRow","TableAligns":[0,0,0],"Properties":{"id":""},"Children":[{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"1"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"teacher"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"43"}]}]}]},{"ID":"20240201214102-c064sv8","Type":"NodeHeading","HeadingLevel":3,"Properties":{"id":"20240201214102-c064sv8","updated":"20240201214102"},"Children":[{"Type":"NodeHeadingC8hMarker","Data":"### ","Properties":{"id":""}},{"Type":"NodeText","Data":"MyBatis 是否支持延迟加载？如果支持，它的实现原理是什么？"}]},{"ID":"20240201214103-ascwxj0","Type":"NodeParagraph","Properties":{"id":"20240201214103-ascwxj0","updated":"20240201214103"},"Children":[{"Type":"NodeText","Data":"注：我出的。"}]},{"ID":"20240201214104-czmzmua","Type":"NodeParagraph","Properties":{"id":"20240201214104-czmzmua","updated":"20240201214104"},"Children":[{"Type":"NodeText","Data":"答：MyBatis 仅支持 association 关联对象和 collection 关联集合对象的延迟加载，association 指的就是一对一，collection 指的就是一对多查询。在 MyBatis 配置文件中，可以配置是否启用延迟加载 "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"lazyLoadingEnabled=true|false。"}]},{"ID":"20240201214105-8ewtn8n","Type":"NodeParagraph","Properties":{"id":"20240201214105-8ewtn8n","updated":"20240201214105"},"Children":[{"Type":"NodeText","Data":"它的原理是，使用 "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"CGLIB"},{"Type":"NodeText","Data":" 创建目标对象的代理对象，当调用目标方法时，进入拦截器方法，比如调用 "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"a.getB().getName()"},{"Type":"NodeText","Data":" ，拦截器 "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"invoke()"},{"Type":"NodeText","Data":" 方法发现 "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"a.getB()"},{"Type":"NodeText","Data":" 是 null 值，那么就会单独发送事先保存好的查询关联 B 对象的 sql，把 B 查询上来，然后调用 a.setB(b)，于是 a 的对象 b 属性就有值了，接着完成 "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"a.getB().getName()"},{"Type":"NodeText","Data":" 方法的调用。这就是延迟加载的基本原理。"}]},{"ID":"20240201214106-5s68gil","Type":"NodeParagraph","Properties":{"id":"20240201214106-5s68gil","updated":"20240201214106"},"Children":[{"Type":"NodeText","Data":"当然了，不光是 MyBatis，几乎所有的包括 Hibernate，支持延迟加载的原理都是一样的。"}]},{"ID":"20240201214107-ra9q8vb","Type":"NodeHeading","HeadingLevel":3,"Properties":{"id":"20240201214107-ra9q8vb","updated":"20240201214107"},"Children":[{"Type":"NodeHeadingC8hMarker","Data":"### ","Properties":{"id":""}},{"Type":"NodeText","Data":"MyBatis 的 xml 映射文件中，不同的 xml 映射文件，id 是否可以重复？"}]},{"ID":"20240201214108-b3k83e1","Type":"NodeParagraph","Properties":{"id":"20240201214108-b3k83e1","updated":"20240201214108"},"Children":[{"Type":"NodeText","Data":"注：我出的。"}]},{"ID":"20240201214109-wik12pa","Type":"NodeParagraph","Properties":{"id":"20240201214109-wik12pa","updated":"20240201214109"},"Children":[{"Type":"NodeText","Data":"答：不同的 xml 映射文件，如果配置了 namespace，那么 id 可以重复；如果没有配置 namespace，那么 id 不能重复；毕竟 namespace 不是必须的，只是最佳实践而已。"}]},{"ID":"20240201214110-si1vz87","Type":"NodeParagraph","Properties":{"id":"20240201214110-si1vz87","updated":"20240201214110"},"Children":[{"Type":"NodeText","Data":"原因就是 namespace+id 是作为 "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"Map\u0026lt;String, MappedStatement\u0026gt;"},{"Type":"NodeText","Data":" 的 key 使用的，如果没有 namespace，就剩下 id，那么，id 重复会导致数据互相覆盖。有了 namespace，自然 id 就可以重复，namespace 不同，namespace+id 自然也就不同。"}]},{"ID":"20240201214111-05zvxil","Type":"NodeHeading","HeadingLevel":3,"Properties":{"id":"20240201214111-05zvxil","updated":"20240201214111"},"Children":[{"Type":"NodeHeadingC8hMarker","Data":"### ","Properties":{"id":""}},{"Type":"NodeText","Data":"MyBatis 中如何执行批处理？"}]},{"ID":"20240201214112-4hfsogf","Type":"NodeParagraph","Properties":{"id":"20240201214112-4hfsogf","updated":"20240201214112"},"Children":[{"Type":"NodeText","Data":"注：我出的。"}]},{"ID":"20240201214113-f0sixl4","Type":"NodeParagraph","Properties":{"id":"20240201214113-f0sixl4","updated":"20240201214113"},"Children":[{"Type":"NodeText","Data":"答：使用 "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"BatchExecutor"},{"Type":"NodeText","Data":" 完成批处理。"}]},{"ID":"20240201214114-ldvlsmy","Type":"NodeHeading","HeadingLevel":3,"Properties":{"id":"20240201214114-ldvlsmy","updated":"20240201214114"},"Children":[{"Type":"NodeHeadingC8hMarker","Data":"### ","Properties":{"id":""}},{"Type":"NodeText","Data":"MyBatis 都有哪些 Executor 执行器？它们之间的区别是什么？"}]},{"ID":"20240201214115-mikgzh5","Type":"NodeParagraph","Properties":{"id":"20240201214115-mikgzh5","updated":"20240201214115"},"Children":[{"Type":"NodeText","Data":"注：我出的"}]},{"ID":"20240201214116-r7wbuqo","Type":"NodeParagraph","Properties":{"id":"20240201214116-r7wbuqo","updated":"20240201214116"},"Children":[{"Type":"NodeText","Data":"答：MyBatis 有三种基本的 "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"Executor"},{"Type":"NodeText","Data":" 执行器："}]},{"ID":"20240201214117-zmhyxii","Type":"NodeList","ListData":{"Tight":true,"BulletChar":45,"Padding":2,"Marker":"LQ==","Num":-1},"Properties":{"id":"20240201214117-zmhyxii","updated":"20240201214117"},"Children":[{"ID":"20240201214118-51yv42t","Type":"NodeListItem","Data":"-","ListData":{"Tight":true,"BulletChar":45,"Padding":2,"Marker":"LQ==","Num":-1},"Properties":{"id":"20240201214118-51yv42t","updated":"20240201214118"},"Children":[{"ID":"20240201214119-g574mv2","Type":"NodeParagraph","Properties":{"id":"20240201214119-g574mv2","updated":"20240201214119"},"Children":[{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"strong code","TextMarkTextContent":"SimpleExecutor"},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"strong","TextMarkTextContent":"："},{"Type":"NodeText","Data":" 每执行一次 update 或 select，就开启一个 Statement 对象，用完立刻关闭 Statement 对象。"}]}]},{"ID":"20240201214120-uq1ngsu","Type":"NodeListItem","Data":"-","ListData":{"Tight":true,"BulletChar":45,"Padding":2,"Marker":"LQ==","Num":-1},"Properties":{"id":"20240201214120-uq1ngsu","updated":"20240201214120"},"Children":[{"ID":"20240201214121-w551n0x","Type":"NodeParagraph","Properties":{"id":"20240201214121-w551n0x","updated":"20240201214121"},"Children":[{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"strong code","TextMarkTextContent":"ReuseExecutor"},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"strong","TextMarkTextContent":"："},{"Type":"NodeText","Data":" 执行 update 或 select，以 sql 作为 key 查找 Statement 对象，存在就使用，不存在就创建，用完后，不关闭 Statement 对象，而是放置于 Map\u003cString, Statement\u003e内，供下一次使用。简言之，就是重复使用 Statement 对象。"},{"Type":"NodeSoftBreak","Data":"\n","Properties":{"id":""}},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"strong code","TextMarkTextContent":"BatchExecutor"},{"Type":"NodeText","Data":" 执行 update（没有 select，JDBC 批处理不支持 select），将所有 sql 都添加到批处理中（addBatch()），等待统一执行（executeBatch()），它缓存了多个 Statement 对象，每个 Statement 对象都是 addBatch()完毕后，等待逐一执行 executeBatch()批处理。与 JDBC 批处理相同。"}]}]}]},{"ID":"20240201214122-6md6m9r","Type":"NodeParagraph","Properties":{"id":"20240201214122-6md6m9r","updated":"20240201214122"},"Children":[{"Type":"NodeText","Data":"作用范围："},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"Executor"},{"Type":"NodeText","Data":" 的这些特点，都严格限制在 SqlSession 生命周期范围内。"}]},{"ID":"20240201214123-p2u02e8","Type":"NodeHeading","HeadingLevel":3,"Properties":{"id":"20240201214123-p2u02e8","updated":"20240201214123"},"Children":[{"Type":"NodeHeadingC8hMarker","Data":"### ","Properties":{"id":""}},{"Type":"NodeText","Data":"MyBatis 中如何指定使用哪一种 Executor 执行器？"}]},{"ID":"20240201214124-45hv25c","Type":"NodeParagraph","Properties":{"id":"20240201214124-45hv25c","updated":"20240201214124"},"Children":[{"Type":"NodeText","Data":"注：我出的"}]},{"ID":"20240201214125-kvh8lrx","Type":"NodeParagraph","Properties":{"id":"20240201214125-kvh8lrx","updated":"20240201214125"},"Children":[{"Type":"NodeText","Data":"答：在 MyBatis 配置文件中，可以指定默认的 "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"ExecutorType"},{"Type":"NodeText","Data":" 执行器类型，也可以手动给 "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"DefaultSqlSessionFactory"},{"Type":"NodeText","Data":" 的创建 SqlSession 的方法传递 "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"ExecutorType"},{"Type":"NodeText","Data":" 类型参数。"}]},{"ID":"20240201214126-t5r7sw8","Type":"NodeHeading","HeadingLevel":3,"Properties":{"id":"20240201214126-t5r7sw8","updated":"20240201214126"},"Children":[{"Type":"NodeHeadingC8hMarker","Data":"### ","Properties":{"id":""}},{"Type":"NodeText","Data":"MyBatis 是否可以映射 Enum 枚举类？"}]},{"ID":"20240201214127-auwi8cn","Type":"NodeParagraph","Properties":{"id":"20240201214127-auwi8cn","updated":"20240201214127"},"Children":[{"Type":"NodeText","Data":"注：我出的"}]},{"ID":"20240201214128-f0dexh7","Type":"NodeParagraph","Properties":{"id":"20240201214128-f0dexh7","updated":"20240201214128"},"Children":[{"Type":"NodeText","Data":"答：MyBatis 可以映射枚举类，不单可以映射枚举类，MyBatis 可以映射任何对象到表的一列上。映射方式为自定义一个 "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"TypeHandler"},{"Type":"NodeText","Data":" ，实现 "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"TypeHandler"},{"Type":"NodeText","Data":" 的 "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"setParameter()"},{"Type":"NodeText","Data":" 和 "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"getResult()"},{"Type":"NodeText","Data":" 接口方法。 "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"TypeHandler"},{"Type":"NodeText","Data":" 有两个作用："}]},{"ID":"20240201214129-cwn4fd3","Type":"NodeList","ListData":{"Tight":true,"BulletChar":45,"Padding":2,"Marker":"LQ==","Num":-1},"Properties":{"id":"20240201214129-cwn4fd3","updated":"20240201214129"},"Children":[{"ID":"20240201214130-skzchhp","Type":"NodeListItem","Data":"-","ListData":{"Tight":true,"BulletChar":45,"Padding":2,"Marker":"LQ==","Num":-1},"Properties":{"id":"20240201214130-skzchhp","updated":"20240201214130"},"Children":[{"ID":"20240201214131-mfimnnp","Type":"NodeParagraph","Properties":{"id":"20240201214131-mfimnnp","updated":"20240201214131"},"Children":[{"Type":"NodeText","Data":"一是完成从 javaType 至 jdbcType 的转换；"}]}]},{"ID":"20240201214132-0lud8z4","Type":"NodeListItem","Data":"-","ListData":{"Tight":true,"BulletChar":45,"Padding":2,"Marker":"LQ==","Num":-1},"Properties":{"id":"20240201214132-0lud8z4","updated":"20240201214132"},"Children":[{"ID":"20240201214133-si5l5sp","Type":"NodeParagraph","Properties":{"id":"20240201214133-si5l5sp","updated":"20240201214133"},"Children":[{"Type":"NodeText","Data":"二是完成 jdbcType 至 javaType 的转换，体现为 "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"setParameter()"},{"Type":"NodeText","Data":" 和 "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"getResult()"},{"Type":"NodeText","Data":" 两个方法，分别代表设置 sql 问号占位符参数和获取列查询结果。"}]}]}]},{"ID":"20240201214134-ktdm78q","Type":"NodeHeading","HeadingLevel":3,"Properties":{"id":"20240201214134-ktdm78q","updated":"20240201214134"},"Children":[{"Type":"NodeHeadingC8hMarker","Data":"### ","Properties":{"id":""}},{"Type":"NodeText","Data":"MyBatis 映射文件中，如果 A 标签通过 include 引用了 B 标签的内容，请问，B 标签能否定义在 A 标签的后面，还是说必须定义在 A 标签的前面？"}]},{"ID":"20240201214135-uns1k53","Type":"NodeParagraph","Properties":{"id":"20240201214135-uns1k53","updated":"20240201214135"},"Children":[{"Type":"NodeText","Data":"注：我出的"}]},{"ID":"20240201214136-f9taub0","Type":"NodeParagraph","Properties":{"id":"20240201214136-f9taub0","updated":"20240201214136"},"Children":[{"Type":"NodeText","Data":"答：虽然 MyBatis 解析 xml 映射文件是按照顺序解析的，但是，被引用的 B 标签依然可以定义在任何地方，MyBatis 都可以正确识别。"}]},{"ID":"20240201214137-y5tl4q4","Type":"NodeParagraph","Properties":{"id":"20240201214137-y5tl4q4","updated":"20240201214137"},"Children":[{"Type":"NodeText","Data":"原理是，MyBatis 解析 A 标签，发现 A 标签引用了 B 标签，但是 B 标签尚未解析到，尚不存在，此时，MyBatis 会将 A 标签标记为未解析状态，然后继续解析余下的标签，包含 B 标签，待所有标签解析完毕，MyBatis 会重新解析那些被标记为未解析的标签，此时再解析 A 标签时，B 标签已经存在，A 标签也就可以正常解析完成了。"}]},{"ID":"20240201214138-c6gcpbh","Type":"NodeHeading","HeadingLevel":3,"Properties":{"id":"20240201214138-c6gcpbh","updated":"20240201214138"},"Children":[{"Type":"NodeHeadingC8hMarker","Data":"### ","Properties":{"id":""}},{"Type":"NodeText","Data":"简述 MyBatis 的 xml 映射文件和 MyBatis 内部数据结构之间的映射关系？"}]},{"ID":"20240201214139-rqa35d4","Type":"NodeParagraph","Properties":{"id":"20240201214139-rqa35d4","updated":"20240201214139"},"Children":[{"Type":"NodeText","Data":"注：我出的"}]},{"ID":"20240201214140-2pa7r5c","Type":"NodeParagraph","Properties":{"id":"20240201214140-2pa7r5c","updated":"20240201214140"},"Children":[{"Type":"NodeText","Data":"答：MyBatis 将所有 xml 配置信息都封装到 All-In-One 重量级对象 Configuration 内部。在 xml 映射文件中， "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"\u0026lt;parameterMap\u0026gt;"},{"Type":"NodeText","Data":" 标签会被解析为 "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"ParameterMap"},{"Type":"NodeText","Data":" 对象，其每个子元素会被解析为 ParameterMapping 对象。 "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"\u0026lt;resultMap\u0026gt;"},{"Type":"NodeText","Data":" 标签会被解析为 "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"ResultMap"},{"Type":"NodeText","Data":" 对象，其每个子元素会被解析为 "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"ResultMapping"},{"Type":"NodeText","Data":" 对象。每一个 "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"\u0026lt;select\u0026gt;、\u0026lt;insert\u0026gt;、\u0026lt;update\u0026gt;、\u0026lt;delete\u0026gt;"},{"Type":"NodeText","Data":" 标签均会被解析为 "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"MappedStatement"},{"Type":"NodeText","Data":" 对象，标签内的 sql 会被解析为 BoundSql 对象。"}]},{"ID":"20240201214141-y89qqqr","Type":"NodeHeading","HeadingLevel":3,"Properties":{"id":"20240201214141-y89qqqr","updated":"20240201214141"},"Children":[{"Type":"NodeHeadingC8hMarker","Data":"### ","Properties":{"id":""}},{"Type":"NodeText","Data":"为什么说 MyBatis 是半自动 ORM 映射工具？它与全自动的区别在哪里？"}]},{"ID":"20240201214142-8faqzl4","Type":"NodeParagraph","Properties":{"id":"20240201214142-8faqzl4","updated":"20240201214142"},"Children":[{"Type":"NodeText","Data":"注：我出的"}]},{"ID":"20240201214143-j9sow3n","Type":"NodeParagraph","Properties":{"id":"20240201214143-j9sow3n","updated":"20240201214143"},"Children":[{"Type":"NodeText","Data":"答：Hibernate 属于全自动 ORM 映射工具，使用 Hibernate 查询关联对象或者关联集合对象时，可以根据对象关系模型直接获取，所以它是全自动的。而 MyBatis 在查询关联对象或关联集合对象时，需要手动编写 sql 来完成，所以，称之为半自动 ORM 映射工具。"}]},{"ID":"20240201214144-yu59hxi","Type":"NodeParagraph","Properties":{"id":"20240201214144-yu59hxi","updated":"20240201214144"},"Children":[{"Type":"NodeText","Data":"面试题看似都很简单，但是想要能正确回答上来，必定是研究过源码且深入的人，而不是仅会使用的人或者用的很熟的人，以上所有面试题及其答案所涉及的内容，在我的 MyBatis 系列博客中都有详细讲解和原理分析。"}]}]}
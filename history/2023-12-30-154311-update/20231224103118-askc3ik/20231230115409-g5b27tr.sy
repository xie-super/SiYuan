{"ID":"20231230115409-g5b27tr","Spec":"1","Type":"NodeDocument","Properties":{"id":"20231230115409-g5b27tr","title":"Facade Pattern","updated":"20231230154003"},"Children":[{"ID":"20231230115409-q2a2yjo","Type":"NodeHeading","HeadingLevel":1,"Properties":{"id":"20231230115409-q2a2yjo","updated":"20231230120227"},"Children":[{"Type":"NodeText","Data":"案例：家庭影院系统"}]},{"ID":"20231230120228-2rtibuz","Type":"NodeParagraph","Properties":{"id":"20231230120228-2rtibuz","updated":"20231230120236"},"Children":[{"Type":"NodeText","Data":"系统内包含设备：DVD播放器、投影机、自动屏幕、立体声音响、爆米花机........\n来看看这些组件的组成："}]},{"ID":"20231230120314-tp3yopu","Type":"NodeParagraph","Properties":{"id":"20231230120314-tp3yopu","updated":"20231230154003"},"Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeImage","Data":"span","Properties":{"parent-style":"width: 50%;","style":"width: 10000px;"},"Children":[{"Type":"NodeBang"},{"Type":"NodeOpenBracket"},{"Type":"NodeLinkText","Data":"image"},{"Type":"NodeCloseBracket"},{"Type":"NodeOpenParen"},{"Type":"NodeLinkDest","Data":"assets/image-20231230120314-2z235hj.png"},{"Type":"NodeCloseParen"}]},{"Type":"NodeKramdownSpanIAL","Data":"{: style=\"width: 10000px;\" parent-style=\"width: 50%;\"}"},{"Type":"NodeText","Data":"​"}]},{"ID":"20231230120407-epwukk6","Type":"NodeParagraph","Properties":{"id":"20231230120407-epwukk6","updated":"20231230120412"},"Children":[{"Type":"NodeText","Data":"看电视的步骤"}]},{"ID":"20231230120412-w8ghhi7","Type":"NodeList","ListData":{},"Properties":{"id":"20231230120412-w8ghhi7","updated":"20231230120416"},"Children":[{"ID":"20231230120416-yf3lrts","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20231230120416-yf3lrts","updated":"20231230120416"},"Children":[{"ID":"20231230120416-vasmj3q","Type":"NodeParagraph","Properties":{"id":"20231230120416-vasmj3q","updated":"20231230120416"},"Children":[{"Type":"NodeText","Data":"打开爆米花机 "}]}]},{"ID":"20231230120418-4x45ux1","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20231230120418-4x45ux1"},"Children":[{"ID":"20231230120418-n7ygzhm","Type":"NodeParagraph","Properties":{"id":"20231230120418-n7ygzhm"},"Children":[{"Type":"NodeText","Data":"开始爆爆米花 "}]}]},{"ID":"20231230120420-nxkqspg","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20231230120420-nxkqspg"},"Children":[{"ID":"20231230120420-bd62g6v","Type":"NodeParagraph","Properties":{"id":"20231230120420-bd62g6v"},"Children":[{"Type":"NodeText","Data":"调暗灯光 "}]}]},{"ID":"20231230120421-3zq19u5","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20231230120421-3zq19u5"},"Children":[{"ID":"20231230120421-yuu10gs","Type":"NodeParagraph","Properties":{"id":"20231230120421-yuu10gs"},"Children":[{"Type":"NodeText","Data":"放下屏幕 "}]}]},{"ID":"20231230120422-g5s68it","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20231230120422-g5s68it"},"Children":[{"ID":"20231230120422-tdiss84","Type":"NodeParagraph","Properties":{"id":"20231230120422-tdiss84"},"Children":[{"Type":"NodeText","Data":"打开投影仪 "}]}]},{"ID":"20231230120423-5xb8ec9","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20231230120423-5xb8ec9"},"Children":[{"ID":"20231230120423-p20odbj","Type":"NodeParagraph","Properties":{"id":"20231230120423-p20odbj"},"Children":[{"Type":"NodeText","Data":"将投影仪输入设置为DVD "}]}]},{"ID":"20231230120425-4lstigc","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20231230120425-4lstigc"},"Children":[{"ID":"20231230120425-c6qzv2c","Type":"NodeParagraph","Properties":{"id":"20231230120425-c6qzv2c"},"Children":[{"Type":"NodeText","Data":"将投影仪设置为宽屏模式 "}]}]},{"ID":"20231230120427-7sqjljv","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20231230120427-7sqjljv"},"Children":[{"ID":"20231230120427-dpug7uu","Type":"NodeParagraph","Properties":{"id":"20231230120427-dpug7uu"},"Children":[{"Type":"NodeText","Data":"打开音响放大器 "}]}]},{"ID":"20231230120429-6e4t4ww","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20231230120429-6e4t4ww"},"Children":[{"ID":"20231230120429-yr7hoa5","Type":"NodeParagraph","Properties":{"id":"20231230120429-yr7hoa5"},"Children":[{"Type":"NodeText","Data":"将音响放大器设置为DVD输入 "}]}]},{"ID":"20231230120432-slwvyo5","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20231230120432-slwvyo5"},"Children":[{"ID":"20231230120432-lkfirio","Type":"NodeParagraph","Properties":{"id":"20231230120432-lkfirio"},"Children":[{"Type":"NodeText","Data":"将音响放大器设置为环绕声 "}]}]},{"ID":"20231230120434-cedldst","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20231230120434-cedldst"},"Children":[{"ID":"20231230120434-fxlvcij","Type":"NodeParagraph","Properties":{"id":"20231230120434-fxlvcij"},"Children":[{"Type":"NodeText","Data":"将音响放大器音量调至中等（5） "}]}]},{"ID":"20231230121533-u2zyvwp","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20231230121533-u2zyvwp"},"Children":[{"ID":"20231230121533-ubic2pm","Type":"NodeParagraph","Properties":{"id":"20231230121533-ubic2pm"},"Children":[{"Type":"NodeText","Data":"打开DVD播放机 开始播放DVD"}]}]}]},{"ID":"20231230121452-jlllb03","Type":"NodeHeading","HeadingLevel":2,"Properties":{"id":"20231230121452-jlllb03","updated":"20231230121458"},"Children":[{"Type":"NodeText","Data":"优化措施"}]},{"ID":"20231230121458-rjrigow","Type":"NodeParagraph","Properties":{"id":"20231230121458-rjrigow","updated":"20231230121511"},"Children":[{"Type":"NodeText","Data":"外观模式，通过实现一个更合理的接口的外观类，可以将一个复杂的子系统变的容易使用。看看改变之后的类图："}]},{"ID":"20231230121722-xxbhced","Type":"NodeParagraph","Properties":{"id":"20231230121722-xxbhced","updated":"20231230122559"},"Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeImage","Data":"span","Properties":{"parent-style":"width: 50%;","style":"width: 10000px;"},"Children":[{"Type":"NodeBang"},{"Type":"NodeOpenBracket"},{"Type":"NodeLinkText","Data":"image"},{"Type":"NodeCloseBracket"},{"Type":"NodeOpenParen"},{"Type":"NodeLinkDest","Data":"assets/image-20231230121722-agz0ui6.png"},{"Type":"NodeCloseParen"}]},{"Type":"NodeKramdownSpanIAL","Data":"{: style=\"width: 10000px;\" parent-style=\"width: 50%;\"}"},{"Type":"NodeText","Data":"​"}]},{"ID":"20231230122600-orf8q6m","Type":"NodeHeading","HeadingLevel":2,"Properties":{"id":"20231230122600-orf8q6m","updated":"20231230122602"},"Children":[{"Type":"NodeText","Data":"代码"}]},{"ID":"20231230122603-kcva2by","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"Properties":{"id":"20231230122603-kcva2by","updated":"20231230122802"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```"},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"amF2YQ=="},{"Type":"NodeCodeBlockCode","Data":"class Amplifier{\n\n    public void on(){\n        System.out.println(\"欢迎使用功放类。。\");\n    }\n    public void off(){\n        System.out.println(\"已经关闭功放。。\");\n    }\n    public void setCD(){\n        System.out.println(\"正在安放CD。。。\");\n    }\n    public void setDVD(){\n        System.out.println(\"正在安放DVD、。。\");\n    }\n    public void setStereoSound(){\n        System.out.println(\"设置立体声。。\");\n    }\n    public void setSurroundSound(){\n        System.out.println(\"设置环绕立体声。。\");\n    }\n    public void setTime(){\n        System.out.println(\"正在设置时间。。\");\n    }\n    public void setVolume(){\n        System.out.println(\"正在设置音量。。\");\n    }\n}\n\n//定义Tuner类\nclass Tuner{\n    public void on(){\n        System.out.println(\"正在 打开调谐器。。\");\n    }\n    public void off(){\n        System.out.println(\"正在关闭调谐器。。\");\n    }\n    public void setAM(){\n        System.out.println(\"正在设置am。。\");\n    }\n    public void setFM(){\n        System.out.println(\"正在设置频道。。\");\n    }\n    public void setFrequency(){\n        System.out.println(\"正咋设置频道。。\");\n    }\n}\n...\n"},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```"}]},{"ID":"20231230122803-ms4wb5p","Type":"NodeParagraph","Properties":{"id":"20231230122803-ms4wb5p","updated":"20231230122824"},"Children":[{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"外观模式类："},{"Type":"NodeText","Data":"俩方法，一个看电影-打开一系列设备，一个电影结束-关闭一系列设备"}]},{"ID":"20231230122836-j5o7tzk","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"Properties":{"id":"20231230122836-j5o7tzk","updated":"20231230123014"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```"},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"amF2YQ=="},{"Type":"NodeCodeBlockCode","Data":"//定义外观模式家庭影院\nclass HomeTheaterFacade{\n    Amplifier amp;\n    Tuner tuner ;\n    DVDPlayer dvd;\n    CDPlayer cd;\n    Projector project;\n    TheaterLights light;\n    Screen screen;\n    PopcornPopper pop;\n    //构造的时候拿到这些对象\n    public HomeTheaterFacade(Amplifier amp,Tuner tuner,DVDPlayer dvd, \n            CDPlayer cd ,Projector project,TheaterLights light,Screen screen\n            ,PopcornPopper pop){\n        this.amp = amp;\n        this.tuner = tuner;\n        this.dvd = dvd;\n        this.cd = cd;\n        this.project = project;\n        this.light  = light;\n        this.screen = screen;\n        this.pop = pop;\n    }\n\n    //看电影  放一个方法里来执行一系列动作\n    public void watchMovie(String movie){\n        System.out.println(\"get ready to watch a movie..\");\n        pop.on();//首先打开爆米花机\n        pop.pop();//然后蹦爆米花\n        light.dim();//把灯光调暗\n        screen.down();//投影仪放下来\n        project.on();\n        project.setWideScreenMode();\n        amp.on();\n        amp.setDVD();\n        amp.setSurroundSound();\n        amp.setVolume();\n        dvd.on();\n        dvd.play();\n    }\n\n    //电影结束\n    public void endMovie(String movie){\n        System.out.println(\"shutting movie theater down..\");\n        pop.off();\n        light.on();\n        screen.up();\n        project.off();\n        amp.off();\n       dvd.off();\n    }\n}\n"},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```"}]},{"ID":"20231230153322-rn2dq2l","Type":"NodeParagraph","Properties":{"id":"20231230153322-rn2dq2l","updated":"20231230153322"},"Children":[{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"最少知识原则：只和你的密友谈话。"}]},{"ID":"20231230153322-t05br3a","Type":"NodeParagraph","Properties":{"id":"20231230153322-t05br3a","updated":"20231230153322"},"Children":[{"Type":"NodeText","Data":"客户端只和外观谈话，不和子设备，如DVD播放机、投影仪等谈话，降低了客户端和设备的耦合度。"}]},{"ID":"20231230153608-sh9ujwm","Type":"NodeParagraph","Properties":{"id":"20231230153608-sh9ujwm","updated":"20231230153608"}},{"ID":"20231230153724-xhldssd","Type":"NodeHeading","HeadingLevel":2,"Properties":{"id":"20231230153724-xhldssd","updated":"20231230153724"},"Children":[{"Type":"NodeText","Data":"定义"}]},{"ID":"20231230153724-ey1439s","Type":"NodeParagraph","Properties":{"id":"20231230153724-ey1439s","updated":"20231230153724"},"Children":[{"Type":"NodeText","Data":"外观模式定义：外观模式提供了一个统一的接口，用来访问子系统中的一群接口。外观定义了一个高层接口，让子系统更容易使用。"}]},{"ID":"20231230153724-85zl5w6","Type":"NodeParagraph","Properties":{"id":"20231230153724-85zl5w6","updated":"20231230153724"},"Children":[{"Type":"NodeText","Data":"外观模式实现了最少知识原则（Least Knowledge principle）,这个原则希望不要让太多的类耦合在一起，对用户来说只和一个外观类打交道了，达到客户和一群子系统的解耦。\n"}]},{"ID":"20231230153538-c58ttnm","Type":"NodeHeading","HeadingLevel":2,"Properties":{"id":"20231230153538-c58ttnm","updated":"20231230153604"},"Children":[{"Type":"NodeText","Data":"外观模式优点"}]},{"ID":"20231230153527-gjdzaa6","Type":"NodeParagraph","Properties":{"id":"20231230153527-gjdzaa6","updated":"20231230153527"},"Children":[{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"松耦合："},{"Type":"NodeText","Data":"使客户端与子系统之间解耦，让子系统内部的模块功能更容易扩展与维护。"}]},{"ID":"20231230153527-x7owmyv","Type":"NodeParagraph","Properties":{"id":"20231230153527-x7owmyv","updated":"20231230153527"},"Children":[{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"简单易用："},{"Type":"NodeText","Data":"客户端无需了解子系统的内部实现及内部构成，只需要与外观类交互即可。"}]},{"ID":"20231230153527-im1kgqu","Type":"NodeParagraph","Properties":{"id":"20231230153527-im1kgqu","updated":"20231230153527"},"Children":[{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"更好地划分访问层次："},{"Type":"NodeText","Data":"部分方法对外，部分方法对内交互使用。子系统将暴露在外的功能集中到外观类中可以隐藏子系统内部细节。"}]},{"ID":"20231230153720-eenk6pp","Type":"NodeParagraph","Properties":{"id":"20231230153720-eenk6pp"}}]}
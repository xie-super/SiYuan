{"ID":"20231225152348-kfz1f9r","Spec":"1","Type":"NodeDocument","Properties":{"id":"20231225152348-kfz1f9r","title":"Decorator Pattern（装饰者模式）","updated":"20231226171130"},"Children":[{"ID":"20231225163357-7pqlvxw","Type":"NodeHeading","HeadingLevel":1,"Properties":{"id":"20231225163357-7pqlvxw","updated":"20231226144315"},"Children":[{"Type":"NodeText","Data":"介绍"}]},{"ID":"20231225152348-yne7flg","Type":"NodeParagraph","Properties":{"id":"20231225152348-yne7flg","updated":"20231225185814"},"Children":[{"Type":"NodeText","Data":"允许向一个现有的对象添加新的功能，同时又不改变其结构。这种类型的设计模式属于结构型模式，它是作为现有的类的一个包装。"}]},{"ID":"20231225185822-23naptd","Type":"NodeParagraph","Properties":{"id":"20231225185822-23naptd","updated":"20231225185822"},"Children":[{"Type":"NodeText","Data":"这种模式创建了一个装饰类，用来包装原有的类，并在保持类方法签名完整性的前提下，提供了额外的功能。"}]},{"ID":"20231225152408-vagd92g","Type":"NodeHeading","HeadingLevel":1,"Properties":{"id":"20231225152408-vagd92g","updated":"20231226171130"},"Children":[{"Type":"NodeText","Data":"案例：咖啡店"}]},{"ID":"20231225163728-9r38oi5","Type":"NodeHeading","HeadingLevel":2,"Properties":{"id":"20231225163728-9r38oi5","updated":"20231225163734"},"Children":[{"Type":"NodeHeadingC8hMarker","Data":"## ","Properties":{"id":""}},{"Type":"NodeText","Data":"原先设计","Properties":{"id":""}}]},{"ID":"20231225162044-zluhqbb","Type":"NodeParagraph","Properties":{"id":"20231225162044-zluhqbb","updated":"20231225163745"},"Children":[{"Type":"NodeText","Data":"描述：咖啡饮品需要添加不同的调味品：","Properties":{"id":""}}]},{"ID":"20231225163740-2hat2tw","Type":"NodeParagraph","Properties":{"id":"20231225163740-2hat2tw","updated":"20231225163740"}},{"ID":"20231225162047-kxsyyp2","Type":"NodeHeading","HeadingLevel":3,"Properties":{"id":"20231225162047-kxsyyp2","updated":"20231225163756"},"Children":[{"Type":"NodeHeadingC8hMarker","Data":"### ","Properties":{"id":""}},{"Type":"NodeText","Data":"问题：","Properties":{"id":""}}]},{"ID":"20231225163757-qi4s5mh","Type":"NodeParagraph","Properties":{"id":"20231225163757-qi4s5mh","updated":"20231225163801"},"Children":[{"Type":"NodeText","Data":"类爆炸问题","Properties":{"id":""}}]},{"ID":"20231225163720-i8rmpbj","Type":"NodeParagraph","Properties":{"id":"20231225163720-i8rmpbj","updated":"20231225163720"},"Children":[{"Type":"NodeText","Data":"​","Properties":{"id":""}},{"Type":"NodeImage","Properties":{"id":""},"Children":[{"Type":"NodeBang","Data":"!","Properties":{"id":""}},{"Type":"NodeOpenBracket","Data":"[","Properties":{"id":""}},{"Type":"NodeLinkText","Data":"image","Properties":{"id":""}},{"Type":"NodeCloseBracket","Data":"]","Properties":{"id":""}},{"Type":"NodeOpenParen","Data":"(","Properties":{"id":""}},{"Type":"NodeLinkDest","Data":"assets/image-20231225163720-9cq1ut9.png","Properties":{"id":""}},{"Type":"NodeCloseParen","Data":")","Properties":{"id":""}}]},{"Type":"NodeText","Data":"​","Properties":{"id":""}}]},{"ID":"20231225163812-ifh62ir","Type":"NodeHeading","HeadingLevel":2,"Properties":{"id":"20231225163812-ifh62ir","updated":"20231225163816"},"Children":[{"Type":"NodeHeadingC8hMarker","Data":"## ","Properties":{"id":""}},{"Type":"NodeText","Data":"改进","Properties":{"id":""}}]},{"ID":"20231225163821-gtpwgs5","Type":"NodeList","ListData":{"Tight":true,"BulletChar":42,"Padding":2,"Marker":"Kg==","Num":-1},"Properties":{"id":"20231225163821-gtpwgs5","updated":"20231225163841"},"Children":[{"ID":"20231225163823-da5vp63","Type":"NodeListItem","Data":"*","ListData":{"Tight":true,"BulletChar":42,"Padding":2,"Marker":"Kg==","Num":-1},"Properties":{"id":"20231225163823-da5vp63","updated":"20231225163823"},"Children":[{"ID":"20231225163823-nps7bl1","Type":"NodeParagraph","Properties":{"id":"20231225163823-nps7bl1","updated":"20231225163834"},"Children":[{"Type":"NodeText","Data":"实例变量","Properties":{"id":""}}]}]},{"ID":"20231225163837-t3bmg2d","Type":"NodeListItem","Data":"*","ListData":{"Tight":true,"BulletChar":42,"Padding":2,"Marker":"Kg==","Num":-1},"Properties":{"id":"20231225163837-t3bmg2d","updated":"20231225163841"},"Children":[{"ID":"20231225163837-f57udd5","Type":"NodeParagraph","Properties":{"id":"20231225163837-f57udd5","updated":"20231225163841"},"Children":[{"Type":"NodeText","Data":"继承","Properties":{"id":""}}]}]}]},{"ID":"20231225162120-8gdcbbp","Type":"NodeParagraph","Properties":{"id":"20231225162120-8gdcbbp","updated":"20231225163846"},"Children":[{"Type":"NodeText","Data":"描述：将调味品价格作为变量存在 Beverage 类中，饮品种类继承 Beverage 类","Properties":{"id":""}}]},{"ID":"20231225162126-nw50fph","Type":"NodeParagraph","Properties":{"id":"20231225162126-nw50fph","updated":"20231225163854"},"Children":[{"Type":"NodeText","Data":"​","Properties":{"id":""}},{"Type":"NodeImage","Properties":{"id":""},"Children":[{"Type":"NodeBang","Data":"!","Properties":{"id":""}},{"Type":"NodeOpenBracket","Data":"[","Properties":{"id":""}},{"Type":"NodeLinkText","Data":"image","Properties":{"id":""}},{"Type":"NodeCloseBracket","Data":"]","Properties":{"id":""}},{"Type":"NodeOpenParen","Data":"(","Properties":{"id":""}},{"Type":"NodeLinkDest","Data":"assets/image-20231225162126-xogg5sc.png","Properties":{"id":""}},{"Type":"NodeCloseParen","Data":")","Properties":{"id":""}}]},{"Type":"NodeText","Data":"​","Properties":{"id":""}}]},{"ID":"20231225162129-rrjalh1","Type":"NodeParagraph","Properties":{"id":"20231225162129-rrjalh1","updated":"20231225162129"}},{"ID":"20231225162218-mr4ycuj","Type":"NodeHeading","HeadingLevel":3,"Properties":{"id":"20231225162218-mr4ycuj","updated":"20231225163858"},"Children":[{"Type":"NodeHeadingC8hMarker","Data":"### ","Properties":{"id":""}},{"Type":"NodeText","Data":"代码设计","Properties":{"id":""}}]},{"ID":"20231225162218-0bd3hgb","Type":"NodeParagraph","Properties":{"id":"20231225162218-0bd3hgb","updated":"20231225162218"},"Children":[{"Type":"NodeText","Data":"​","Properties":{"id":""}},{"Type":"NodeImage","Properties":{"id":""},"Children":[{"Type":"NodeBang","Data":"!","Properties":{"id":""}},{"Type":"NodeOpenBracket","Data":"[","Properties":{"id":""}},{"Type":"NodeLinkText","Data":"image","Properties":{"id":""}},{"Type":"NodeCloseBracket","Data":"]","Properties":{"id":""}},{"Type":"NodeOpenParen","Data":"(","Properties":{"id":""}},{"Type":"NodeLinkDest","Data":"assets/image-20231225162218-cnd8csv.png","Properties":{"id":""}},{"Type":"NodeCloseParen","Data":")","Properties":{"id":""}}]},{"Type":"NodeText","Data":"​","Properties":{"id":""}}]},{"ID":"20231225162810-k3szspz","Type":"NodeHeading","HeadingLevel":3,"Properties":{"id":"20231225162810-k3szspz","updated":"20231225163902"},"Children":[{"Type":"NodeHeadingC8hMarker","Data":"### ","Properties":{"id":""}},{"Type":"NodeText","Data":"存在的问题（不符合开闭原则）","Properties":{"id":""}}]},{"ID":"20231225162456-1m5fvxg","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"CodeBlockFenceChar":96,"CodeBlockFenceLen":3,"CodeBlockOpenFence":"YGBg","CodeBlockInfo":"dGV4dA==","CodeBlockCloseFence":"YGBg","Properties":{"id":"20231225162456-1m5fvxg","updated":"20231225162738"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"dGV4dA==","Properties":{"id":""}},{"Type":"NodeCodeBlockCode","Data":"1. 调味品价格的变化将迫使我们修改现有的代码。\n2. 新的调味品将迫使我们添加新的方法并修改超类中的成本方法。\n3. 我们可能会有新的饮料。对于其中一些饮料（冰茶？），调味料可能不合适，然而 Tea 子类仍将继承像 hasWhip() 这样的方法。\n如果客户想要一份双摩卡呢？\n","Properties":{"id":""}},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}}]},{"ID":"20231225162828-ivpld3y","Type":"NodeParagraph","Properties":{"id":"20231225162828-ivpld3y","updated":"20231225162828"}},{"ID":"20231225164000-9np8lq3","Type":"NodeHeading","HeadingLevel":2,"Properties":{"id":"20231225164000-9np8lq3","updated":"20231225164027"},"Children":[{"Type":"NodeHeadingC8hMarker","Data":"## ","Properties":{"id":""}},{"Type":"NodeText","Data":"优化方案：装饰者模式","Properties":{"id":""}}]},{"ID":"20231225164746-hs5fd5c","Type":"NodeHeading","HeadingLevel":3,"Properties":{"id":"20231225164746-hs5fd5c","updated":"20231225164749"},"Children":[{"Type":"NodeHeadingC8hMarker","Data":"### ","Properties":{"id":""}},{"Type":"NodeText","Data":"案例","Properties":{"id":""}}]},{"ID":"20231225164801-979cdzw","Type":"NodeParagraph","Properties":{"id":"20231225164801-979cdzw","updated":"20231225164822"},"Children":[{"Type":"NodeText","Data":"以咖啡饮料为主体，然后在运行时以调料来装饰（decorate）咖啡饮料。比如，如果顾客想要摩卡和奶泡深培咖啡，那么，做法是：","Properties":{"id":""}}]},{"ID":"20231225164801-lk7xh93","Type":"NodeList","ListData":{"BulletChar":42,"Padding":2,"Marker":"Kg==","Num":-1},"Properties":{"id":"20231225164801-lk7xh93","updated":"20231225164857"},"Children":[{"ID":"20231225164826-ot6mkpp","Type":"NodeListItem","Data":"*","ListData":{"BulletChar":42,"Padding":2,"Marker":"Kg==","Num":-1},"Properties":{"fold":"0","id":"20231225164826-ot6mkpp","updated":"20231225164826"},"Children":[{"ID":"20231225164828-cgjixk1","Type":"NodeParagraph","Properties":{"id":"20231225164828-cgjixk1","updated":"20231225164828"},"Children":[{"Type":"NodeText","Data":"获取一个深培咖啡（DarkRoast）对象","Properties":{"id":""}}]},{"ID":"20231225164836-tsppia7","Type":"NodeList","ListData":{"Tight":true,"BulletChar":42,"Padding":2,"Marker":"Kg==","Num":-1},"Properties":{"id":"20231225164836-tsppia7","updated":"20231225164836"},"Children":[{"ID":"20231225164835-scr1kan","Type":"NodeListItem","Data":"*","ListData":{"Tight":true,"BulletChar":42,"Padding":2,"Marker":"Kg==","Num":-1},"Properties":{"id":"20231225164835-scr1kan","updated":"20231225164835"},"Children":[{"ID":"20231225164835-qknhfi6","Type":"NodeParagraph","Properties":{"id":"20231225164835-qknhfi6","updated":"20231225164835"},"Children":[{"Type":"NodeText","Data":"以摩卡（Mocha）调料对象来装饰它","Properties":{"id":""}}]}]},{"ID":"20231225164839-e9zn2an","Type":"NodeListItem","Data":"*","ListData":{"Tight":true,"BulletChar":42,"Padding":2,"Marker":"Kg==","Num":-1},"Properties":{"id":"20231225164839-e9zn2an","updated":"20231225164839"},"Children":[{"ID":"20231225164839-o2gtp6y","Type":"NodeParagraph","Properties":{"id":"20231225164839-o2gtp6y","updated":"20231225164839"},"Children":[{"Type":"NodeText","Data":"以奶泡（Whip）调料对象来装饰它","Properties":{"id":""}}]}]},{"ID":"20231225164843-jpw03uo","Type":"NodeListItem","Data":"*","ListData":{"Tight":true,"BulletChar":42,"Padding":2,"Marker":"Kg==","Num":-1},"Properties":{"id":"20231225164843-jpw03uo","updated":"20231225164843"},"Children":[{"ID":"20231225164843-rthkocp","Type":"NodeParagraph","Properties":{"id":"20231225164843-rthkocp","updated":"20231225164843"},"Children":[{"Type":"NodeText","Data":"调用 cost（）方法，并依赖委托（delegate）将调料的价格加上去","Properties":{"id":""}}]}]}]}]},{"ID":"20231225164852-8o8qqy0","Type":"NodeListItem","Data":"*","ListData":{"Tight":true,"BulletChar":42,"Padding":2,"Marker":"Kg==","Num":-1},"Properties":{"id":"20231225164852-8o8qqy0","updated":"20231225164857"},"Children":[{"ID":"20231225164852-7d9tw8z","Type":"NodeParagraph","Properties":{"id":"20231225164852-7d9tw8z","updated":"20231225164857"},"Children":[{"Type":"NodeText","Data":"结束","Properties":{"id":""}}]}]}]},{"ID":"20231225164657-74qqv1y","Type":"NodeHeading","HeadingLevel":3,"Properties":{"id":"20231225164657-74qqv1y","updated":"20231225164659"},"Children":[{"Type":"NodeHeadingC8hMarker","Data":"### ","Properties":{"id":""}},{"Type":"NodeText","Data":"步骤","Properties":{"id":""}}]},{"ID":"20231225164946-s94wqlm","Type":"NodeList","ListData":{"Typ":1,"Tight":true,"Start":1,"Delimiter":46,"Padding":3,"Marker":"MQ==","Num":1},"Properties":{"id":"20231225164946-s94wqlm","updated":"20231225164950"},"Children":[{"ID":"20231225164950-4ysvb2d","Type":"NodeListItem","Data":"1","ListData":{"Typ":1,"Tight":true,"Start":1,"Delimiter":46,"Padding":3,"Marker":"MQ==","Num":1},"Properties":{"id":"20231225164950-4ysvb2d","updated":"20231225164950"},"Children":[{"ID":"20231225164950-8s0gza4","Type":"NodeParagraph","Properties":{"id":"20231225164950-8s0gza4","updated":"20231225164950"},"Children":[{"Type":"NodeText","Data":"获取一个深培咖啡（DarkRoast）对象","Properties":{"id":""}}]}]}]},{"ID":"20231225165238-rqeao2b","Type":"NodeParagraph","Properties":{"id":"20231225165238-rqeao2b","updated":"20231225165406"},"Children":[{"Type":"NodeText","Data":"​","Properties":{"id":""}},{"Type":"NodeImage","Properties":{"id":"","parent-style":"width: 33%;","style":"width: 10000px;"},"Children":[{"Type":"NodeBang","Data":"!","Properties":{"id":""}},{"Type":"NodeOpenBracket","Data":"[","Properties":{"id":""}},{"Type":"NodeLinkText","Data":"image","Properties":{"id":""}},{"Type":"NodeCloseBracket","Data":"]","Properties":{"id":""}},{"Type":"NodeOpenParen","Data":"(","Properties":{"id":""}},{"Type":"NodeLinkDest","Data":"assets/image-20231225165002-8nn05u5.png","Properties":{"id":""}},{"Type":"NodeCloseParen","Data":")","Properties":{"id":""}}]},{"Type":"NodeKramdownSpanIAL","Data":"{: style=\"width: 10000px;\" parent-style=\"width: 33%;\"}","Properties":{"id":""}},{"Type":"NodeText","Data":"​​​","Properties":{"id":""}}]},{"ID":"20231225164701-f10x1hx","Type":"NodeList","ListData":{"Typ":1,"Tight":true,"Start":2,"Delimiter":46,"Padding":3,"Marker":"Mg==","Num":2},"Properties":{"id":"20231225164701-f10x1hx","updated":"20231225165033"},"Children":[{"ID":"20231225165017-t96d687","Type":"NodeListItem","Data":"2","ListData":{"Typ":1,"Tight":true,"Start":2,"Delimiter":46,"Padding":3,"Marker":"Mg==","Num":2},"Properties":{"id":"20231225165017-t96d687","updated":"20231225165033"},"Children":[{"ID":"20231225165017-2kxcmqn","Type":"NodeParagraph","Properties":{"id":"20231225165017-2kxcmqn","updated":"20231225165033"},"Children":[{"Type":"NodeText","Data":"获取摩卡（Mocha）调料对象来装饰它","Properties":{"id":""}}]}]}]},{"ID":"20231225165104-329vqnz","Type":"NodeParagraph","Properties":{"id":"20231225165104-329vqnz","updated":"20231225165402"},"Children":[{"Type":"NodeText","Data":"​","Properties":{"id":""}},{"Type":"NodeImage","Properties":{"id":"","parent-style":"width: 33%;","style":"width: 10000px;"},"Children":[{"Type":"NodeBang","Data":"!","Properties":{"id":""}},{"Type":"NodeOpenBracket","Data":"[","Properties":{"id":""}},{"Type":"NodeLinkText","Data":"image","Properties":{"id":""}},{"Type":"NodeCloseBracket","Data":"]","Properties":{"id":""}},{"Type":"NodeOpenParen","Data":"(","Properties":{"id":""}},{"Type":"NodeLinkDest","Data":"assets/image-20231225165104-2qwqzlf.png","Properties":{"id":""}},{"Type":"NodeCloseParen","Data":")","Properties":{"id":""}}]},{"Type":"NodeKramdownSpanIAL","Data":"{: style=\"width: 10000px;\" parent-style=\"width: 33%;\"}","Properties":{"id":""}},{"Type":"NodeText","Data":"​","Properties":{"id":""}}]},{"ID":"20231225165109-lljw2ku","Type":"NodeList","ListData":{"Typ":1,"Tight":true,"Start":3,"Delimiter":46,"Padding":3,"Marker":"Mw==","Num":3},"Properties":{"id":"20231225165109-lljw2ku","updated":"20231225165123"},"Children":[{"ID":"20231225165110-skvmwrq","Type":"NodeListItem","Data":"3","ListData":{"Typ":1,"Tight":true,"Start":3,"Delimiter":46,"Padding":3,"Marker":"Mw==","Num":3},"Properties":{"id":"20231225165110-skvmwrq","updated":"20231225165123"},"Children":[{"ID":"20231225165110-yqq1n2w","Type":"NodeParagraph","Properties":{"id":"20231225165110-yqq1n2w","updated":"20231225165123"},"Children":[{"Type":"NodeText","Data":"以奶泡（Whip）调料对象来装饰摩卡（Mocha）调料对象","Properties":{"id":""}}]}]}]},{"ID":"20231225165155-w60h5w2","Type":"NodeParagraph","Properties":{"id":"20231225165155-w60h5w2","updated":"20231225181709"},"Children":[{"Type":"NodeText","Data":"​","Properties":{"id":""}},{"Type":"NodeImage","Properties":{"id":"","parent-style":"width: 33%;","style":"width: 10000px;"},"Children":[{"Type":"NodeBang","Data":"!","Properties":{"id":""}},{"Type":"NodeOpenBracket","Data":"[","Properties":{"id":""}},{"Type":"NodeLinkText","Data":"image","Properties":{"id":""}},{"Type":"NodeCloseBracket","Data":"]","Properties":{"id":""}},{"Type":"NodeOpenParen","Data":"(","Properties":{"id":""}},{"Type":"NodeLinkDest","Data":"assets/image-20231225165155-j4xc0cb.png","Properties":{"id":""}},{"Type":"NodeCloseParen","Data":")","Properties":{"id":""}}]},{"Type":"NodeKramdownSpanIAL","Data":"{: style=\"width: 10000px;\" parent-style=\"width: 33%;\"}","Properties":{"id":""}},{"Type":"NodeText","Data":"​","Properties":{"id":""}}]},{"ID":"20231225165303-1lsltvn","Type":"NodeList","ListData":{"Typ":1,"Tight":true,"Start":4,"Delimiter":46,"Padding":3,"Marker":"NA==","Num":4},"Properties":{"id":"20231225165303-1lsltvn","updated":"20231225165304"},"Children":[{"ID":"20231225165304-auuotqs","Type":"NodeListItem","Data":"4","ListData":{"Typ":1,"Tight":true,"Start":4,"Delimiter":46,"Padding":3,"Marker":"NA==","Num":4},"Properties":{"id":"20231225165304-auuotqs","updated":"20231225165304"},"Children":[{"ID":"20231225165304-0zy1vjz","Type":"NodeParagraph","Properties":{"id":"20231225165304-0zy1vjz","updated":"20231225165331"},"Children":[{"Type":"NodeText","Data":"逐层调用 cost","Properties":{"id":""}}]}]}]},{"ID":"20231225165349-bxwdkss","Type":"NodeParagraph","Properties":{"id":"20231225165349-bxwdkss","updated":"20231225165354"},"Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeImage","Data":"span","Properties":{"parent-style":"width: 33%;","style":"width: 10000px;"},"Children":[{"Type":"NodeBang"},{"Type":"NodeOpenBracket"},{"Type":"NodeLinkText","Data":"image"},{"Type":"NodeCloseBracket"},{"Type":"NodeOpenParen"},{"Type":"NodeLinkDest","Data":"assets/image-20231225165349-z9zhfyi.png"},{"Type":"NodeCloseParen"}]},{"Type":"NodeKramdownSpanIAL","Data":"{: style=\"width: 10000px;\" parent-style=\"width: 33%;\"}"},{"Type":"NodeText","Data":"​"}]},{"ID":"20231225170347-kozxzxj","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"Properties":{"id":"20231225170347-kozxzxj","style":"text-align: left;","updated":"20231225182456"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```"},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"dGV4dA=="},{"Type":"NodeCodeBlockCode","Data":"1. 装饰者与其装饰的对象具有相同的超类型。\n2. 您可以使用一个或多个装饰者来包装一个对象。\n3. 鉴于装饰者与其装饰的对象具有相同的超类型，我们可以使用装饰过的对象替代原始（被包装的）对象。\n4. 装饰者在委托给其装饰的对象执行其余工作之前和/或之后添加自己的行为。\n5. 对象可以在任何时候进行装饰，因此我们可以在运行时以动态方式使用尽可能多的装饰者对对象进行装饰。\n"},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```"}]},{"ID":"20231225182013-7gum7i3","Type":"NodeParagraph","Properties":{"id":"20231225182013-7gum7i3","updated":"20231225182013"}},{"ID":"20231225182640-s0yqh95","Type":"NodeHeading","HeadingLevel":3,"Properties":{"id":"20231225182640-s0yqh95","updated":"20231225182704"},"Children":[{"Type":"NodeText","Data":"代码"}]},{"ID":"20231225182640-qlafqws","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"Properties":{"id":"20231225182640-qlafqws","updated":"20231225185634"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```"},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"amF2YQ=="},{"Type":"NodeCodeBlockCode","Data":"\nabstract class Beverage{\n    String description = \"父类\";\n    public abstract double cost();\n    public String getDescription(){\n        return description;\n    }\n}\n\nabstract class CondimentDecorator extends Beverage{\n    public abstract String getDescription();\n}\n\nclass DarkRoast extends Beverage{\n    public DarkRoast(){\n        description = \"深培咖啡\";\n    }\n    public double cost(){\n        return 0.99;\n    }\n}\nclass Mocha extends CondimentDecorator{\n    Beverage beverage;\n    public Mocha(Beverage beverage){\n        this.beverage = beverage;\n    }\n    public double cost(){\n        return 0.20+beverage.cost();\n    }\n    public String getDescription(){\n        return beverage.getDescription()+\"Mocha\";\n    }\n}\nclass Whip extends CondimentDecorator{\n    Beverage beverage;\n    public Whip(Beverage beverage){\n        this.beverage = beverage;\n    }\n    public double cost(){\n        return 0.10+beverage.cost();\n    }\n    public String getDescription(){\n        return beverage.getDescription()+\"Whip\";\n    }\n}\n\n\nclass Main {\n    public static void main(String[] args) {\n        Beverage beverage = new DarkRoast();\n        //添加配料摩卡与奶泡\n         beverage = new Mocha(beverage);\n         beverage = new Whip(mocha);\n        System.out.println(beverage.getDescription()+\" \"+beverage.cost());\n      \n    }\n}\n\n"},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```"}]},{"ID":"20231225185534-0c69kg1","Type":"NodeParagraph","Properties":{"id":"20231225185534-0c69kg1","updated":"20231225185538"},"Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeImage","Data":"span","Properties":{"parent-style":"width: 33%;","style":"width: 10000px;"},"Children":[{"Type":"NodeBang"},{"Type":"NodeOpenBracket"},{"Type":"NodeLinkText","Data":"image"},{"Type":"NodeCloseBracket"},{"Type":"NodeOpenParen"},{"Type":"NodeLinkDest","Data":"assets/image-20231225185534-bozmpta.png"},{"Type":"NodeCloseParen"}]},{"Type":"NodeKramdownSpanIAL","Data":"{: style=\"width: 10000px;\" parent-style=\"width: 33%;\"}"},{"Type":"NodeText","Data":"​"}]},{"ID":"20231225185413-32uybr3","Type":"NodeHeading","HeadingLevel":3,"Properties":{"id":"20231225185413-32uybr3","updated":"20231225185427"},"Children":[{"Type":"NodeText","Data":"对应UML 类图"}]},{"ID":"20231225181954-rot31qn","Type":"NodeParagraph","Properties":{"id":"20231225181954-rot31qn","updated":"20231225185908"},"Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeImage","Data":"span","Properties":{"parent-style":"width: 50%;","style":"width: 10000px;"},"Children":[{"Type":"NodeBang"},{"Type":"NodeOpenBracket"},{"Type":"NodeLinkText","Data":"image"},{"Type":"NodeCloseBracket"},{"Type":"NodeOpenParen"},{"Type":"NodeLinkDest","Data":"assets/image-20231225181954-ez85aq8.png"},{"Type":"NodeCloseParen"}]},{"Type":"NodeKramdownSpanIAL","Data":"{: style=\"width: 10000px;\" parent-style=\"width: 50%;\"}"},{"Type":"NodeText","Data":"​"}]},{"ID":"20231225185432-zqpb2fq","Type":"NodeParagraph","Properties":{"id":"20231225185432-zqpb2fq"}},{"ID":"20231225185434-vxpd39b","Type":"NodeHeading","HeadingLevel":3,"Properties":{"id":"20231225185434-vxpd39b","updated":"20231225185708"},"Children":[{"Type":"NodeText","Data":"Java 类库中的装饰者模式"}]},{"ID":"20231225185720-p9ajlp2","Type":"NodeParagraph","Properties":{"id":"20231225185720-p9ajlp2","updated":"20231225185858"},"Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeImage","Data":"span","Properties":{"parent-style":"width: 50%;","style":"width: 10000px;"},"Children":[{"Type":"NodeBang"},{"Type":"NodeOpenBracket"},{"Type":"NodeLinkText","Data":"image"},{"Type":"NodeCloseBracket"},{"Type":"NodeOpenParen"},{"Type":"NodeLinkDest","Data":"assets/image-20231225185720-pjxltzc.png"},{"Type":"NodeCloseParen"}]},{"Type":"NodeKramdownSpanIAL","Data":"{: style=\"width: 10000px;\" parent-style=\"width: 50%;\"}"},{"Type":"NodeText","Data":"​"}]},{"ID":"20231225185434-w6h431y","Type":"NodeHeading","HeadingLevel":1,"Properties":{"id":"20231225185434-w6h431y","updated":"20231225185439"},"Children":[{"Type":"NodeText","Data":"总结"}]},{"ID":"20231225190229-zbjc3iw","Type":"NodeParagraph","Properties":{"id":"20231225190229-zbjc3iw","updated":"20231225190329"},"Children":[{"Type":"NodeText","Data":"在这个例子中扩展的ConcreteCom功能就是调味品（eg奶泡、摩卡）"}]},{"ID":"20231225185847-r50mpt4","Type":"NodeParagraph","Properties":{"id":"20231225185847-r50mpt4","updated":"20231225185851"},"Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeImage","Data":"span","Properties":{"parent-style":"width: 50%;","style":"width: 10000px;"},"Children":[{"Type":"NodeBang"},{"Type":"NodeOpenBracket"},{"Type":"NodeLinkText","Data":"image"},{"Type":"NodeCloseBracket"},{"Type":"NodeOpenParen"},{"Type":"NodeLinkDest","Data":"assets/image-20231225185847-ulgprbo.png"},{"Type":"NodeCloseParen"}]},{"Type":"NodeKramdownSpanIAL","Data":"{: style=\"width: 10000px;\" parent-style=\"width: 50%;\"}"},{"Type":"NodeText","Data":"​"}]},{"ID":"20231225185915-fnsxqzg","Type":"NodeParagraph","Properties":{"id":"20231225185915-fnsxqzg"}}]}
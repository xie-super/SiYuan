{"ID":"20240201213936-n05ifp8","Spec":"1","Type":"NodeDocument","Properties":{"id":"20240201213936-n05ifp8","title":"f-1认证授权","updated":"20240201213936"},"Children":[{"ID":"20240201213937-nqlb1jc","Type":"NodeThematicBreak","Properties":{"id":"20240201213937-nqlb1jc","updated":"20240201213937"}},{"ID":"20240201213938-agvpx7t","Type":"NodeHeading","HeadingLevel":2,"Properties":{"id":"20240201213938-agvpx7t","updated":"20240201213938"},"Children":[{"Type":"NodeHeadingC8hMarker","Data":"## ","Properties":{"id":""}},{"Type":"NodeText","Data":"6.2 认证授权"}]},{"ID":"20240201213939-80pe9yg","Type":"NodeHeading","HeadingLevel":3,"Properties":{"id":"20240201213939-80pe9yg","updated":"20240201213939"},"Children":[{"Type":"NodeHeadingC8hMarker","Data":"### ","Properties":{"id":""}},{"Type":"NodeText","Data":"认证 (Authentication) 和授权 (Authorization)的区别是什么？"}]},{"ID":"20240201213940-s1i8h9w","Type":"NodeParagraph","Properties":{"id":"20240201213940-s1i8h9w","updated":"20240201213940"},"Children":[{"Type":"NodeText","Data":"这是一个绝大多数人都会混淆的问题。首先先从读音上来认识这两个名词，很多人都会把它俩的读音搞混，所以我建议你先先去查一查这两个单词到底该怎么读，他们的具体含义是什么。"}]},{"ID":"20240201213941-7mtasyc","Type":"NodeParagraph","Properties":{"id":"20240201213941-7mtasyc","updated":"20240201213941"},"Children":[{"Type":"NodeText","Data":"说简单点就是："}]},{"ID":"20240201213942-wzey3qd","Type":"NodeList","ListData":{"Tight":true,"BulletChar":45,"Padding":2,"Marker":"LQ==","Num":-1},"Properties":{"id":"20240201213942-wzey3qd","updated":"20240201213942"},"Children":[{"ID":"20240201213943-d99cvva","Type":"NodeListItem","Data":"-","ListData":{"Tight":true,"BulletChar":45,"Padding":2,"Marker":"LQ==","Num":-1},"Properties":{"id":"20240201213943-d99cvva","updated":"20240201213943"},"Children":[{"ID":"20240201213944-8j41kbl","Type":"NodeParagraph","Properties":{"id":"20240201213944-8j41kbl","updated":"20240201213944"},"Children":[{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"strong","TextMarkTextContent":"认证 (Authentication)："},{"Type":"NodeText","Data":" 你是谁。"}]}]},{"ID":"20240201213945-qar3u4z","Type":"NodeListItem","Data":"-","ListData":{"Tight":true,"BulletChar":45,"Padding":2,"Marker":"LQ==","Num":-1},"Properties":{"id":"20240201213945-qar3u4z","updated":"20240201213945"},"Children":[{"ID":"20240201213946-oukg6b5","Type":"NodeParagraph","Properties":{"id":"20240201213946-oukg6b5","updated":"20240201213946"},"Children":[{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"strong","TextMarkTextContent":"授权 (Authorization)："},{"Type":"NodeText","Data":" 你有权限干什么。"}]}]}]},{"ID":"20240201213947-zhek7cb","Type":"NodeParagraph","Properties":{"id":"20240201213947-zhek7cb","updated":"20240201213947"},"Children":[{"Type":"NodeText","Data":"稍微正式点（啰嗦点）的说法就是 ："}]},{"ID":"20240201213948-i6vb3ch","Type":"NodeList","ListData":{"Tight":true,"BulletChar":45,"Padding":2,"Marker":"LQ==","Num":-1},"Properties":{"id":"20240201213948-i6vb3ch","updated":"20240201213948"},"Children":[{"ID":"20240201213949-corwk47","Type":"NodeListItem","Data":"-","ListData":{"Tight":true,"BulletChar":45,"Padding":2,"Marker":"LQ==","Num":-1},"Properties":{"id":"20240201213949-corwk47","updated":"20240201213949"},"Children":[{"ID":"20240201213950-bz2i520","Type":"NodeParagraph","Properties":{"id":"20240201213950-bz2i520","updated":"20240201213950"},"Children":[{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"strong","TextMarkTextContent":"Authentication（认证）"},{"Type":"NodeText","Data":" 是验证您的身份的凭据（例如用户名/用户 ID 和密码），通过这个凭据，系统得以知道你就是你，也就是说系统存在你这个用户。所以，Authentication 被称为身份/用户验证。"}]}]},{"ID":"20240201213951-pn8mz1n","Type":"NodeListItem","Data":"-","ListData":{"Tight":true,"BulletChar":45,"Padding":2,"Marker":"LQ==","Num":-1},"Properties":{"id":"20240201213951-pn8mz1n","updated":"20240201213951"},"Children":[{"ID":"20240201213952-3e5wa97","Type":"NodeParagraph","Properties":{"id":"20240201213952-3e5wa97","updated":"20240201213952"},"Children":[{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"strong","TextMarkTextContent":"Authorization（授权）"},{"Type":"NodeText","Data":" 发生在 "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"strong","TextMarkTextContent":"Authentication（认证）"},{"Type":"NodeText","Data":" 之后。授权嘛，光看意思大家应该就明白，它主要掌管我们访问系统的权限。比如有些特定资源只能具有特定权限的人才能访问比如 admin，有些对系统资源操作比如删除、添加、更新只能特定人才具有。"}]}]}]},{"ID":"20240201213953-aihvcvg","Type":"NodeParagraph","Properties":{"id":"20240201213953-aihvcvg","updated":"20240201213953"},"Children":[{"Type":"NodeText","Data":"认证 ："}]},{"ID":"20240201213954-erc8oyx","Type":"NodeParagraph","Properties":{"id":"20240201213954-erc8oyx","updated":"20240201213954"},"Children":[{"Type":"NodeImage","Properties":{"id":""},"Children":[{"Type":"NodeBang","Data":"!","Properties":{"id":""}},{"Type":"NodeOpenBracket","Data":"[","Properties":{"id":""}},{"Type":"NodeCloseBracket","Data":"]","Properties":{"id":""}},{"Type":"NodeOpenParen","Data":"(","Properties":{"id":""}},{"Type":"NodeLinkDest","Data":"https://img-blog.csdnimg.cn/20210604160908352.png","Properties":{"id":""}},{"Type":"NodeCloseParen","Data":")","Properties":{"id":""}}]}]},{"ID":"20240201213955-rd63pg7","Type":"NodeParagraph","Properties":{"id":"20240201213955-rd63pg7","updated":"20240201213955"},"Children":[{"Type":"NodeText","Data":"授权："}]},{"ID":"20240201213956-u3hnzj0","Type":"NodeParagraph","Properties":{"id":"20240201213956-u3hnzj0","updated":"20240201213956"},"Children":[{"Type":"NodeImage","Properties":{"id":""},"Children":[{"Type":"NodeBang","Data":"!","Properties":{"id":""}},{"Type":"NodeOpenBracket","Data":"[","Properties":{"id":""}},{"Type":"NodeCloseBracket","Data":"]","Properties":{"id":""}},{"Type":"NodeOpenParen","Data":"(","Properties":{"id":""}},{"Type":"NodeLinkDest","Data":"https://img-blog.csdnimg.cn/20210604161032412.png","Properties":{"id":""}},{"Type":"NodeCloseParen","Data":")","Properties":{"id":""}}]}]},{"ID":"20240201213957-ukc3dkm","Type":"NodeParagraph","Properties":{"id":"20240201213957-ukc3dkm","updated":"20240201213957"},"Children":[{"Type":"NodeText","Data":"这两个一般在我们的系统中被结合在一起使用，目的就是为了保护我们系统的安全性。"}]},{"ID":"20240201213958-iu3ncdf","Type":"NodeHeading","HeadingLevel":3,"Properties":{"id":"20240201213958-iu3ncdf","updated":"20240201213958"},"Children":[{"Type":"NodeHeadingC8hMarker","Data":"### ","Properties":{"id":""}},{"Type":"NodeText","Data":"RBAC 模型了解吗？"}]},{"ID":"20240201213959-f1uhwmm","Type":"NodeParagraph","Properties":{"id":"20240201213959-f1uhwmm","updated":"20240201213959"},"Children":[{"Type":"NodeText","Data":"系统权限控制最常采用的访问控制模型就是 "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"strong","TextMarkTextContent":"RBAC 模型"},{"Type":"NodeText","Data":" 。"}]},{"ID":"20240201213960-t2si0pz","Type":"NodeParagraph","Properties":{"id":"20240201213960-t2si0pz","updated":"20240201213960"},"Children":[{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"strong","TextMarkTextContent":"什么是 RBAC 呢？"}]},{"ID":"20240201213961-5d3be7z","Type":"NodeParagraph","Properties":{"id":"20240201213961-5d3be7z","updated":"20240201213961"},"Children":[{"Type":"NodeText","Data":"RBAC 即基于角色的权限访问控制（Role-Based Access Control）。这是一种通过角色关联权限，角色同时又关联用户的授权的方式。"}]},{"ID":"20240201213962-q42t5ck","Type":"NodeParagraph","Properties":{"id":"20240201213962-q42t5ck","updated":"20240201213962"},"Children":[{"Type":"NodeText","Data":"简单地说：一个用户可以拥有若干角色，每一个角色又可以被分配若干权限，这样就构造成“用户-角色-权限” 的授权模型。在这种模型中，用户与角色、角色与权限之间构成了多对多的关系，如下图"}]},{"ID":"20240201213963-fq3hx6h","Type":"NodeParagraph","Properties":{"id":"20240201213963-fq3hx6h","updated":"20240201213963"},"Children":[{"Type":"NodeImage","Properties":{"id":""},"Children":[{"Type":"NodeBang","Data":"!","Properties":{"id":""}},{"Type":"NodeOpenBracket","Data":"[","Properties":{"id":""}},{"Type":"NodeLinkText","Data":"RBAC 权限模型示意图","Properties":{"id":""}},{"Type":"NodeCloseBracket","Data":"]","Properties":{"id":""}},{"Type":"NodeOpenParen","Data":"(","Properties":{"id":""}},{"Type":"NodeLinkDest","Data":"https://guide-blog-images.oss-cn-shenzhen.aliyuncs.com/github/javaguide/system-design/security/design-of-authority-system/rbac.png","Properties":{"id":""}},{"Type":"NodeCloseParen","Data":")","Properties":{"id":""}}]}]},{"ID":"20240201213964-4jaycd7","Type":"NodeParagraph","Properties":{"id":"20240201213964-4jaycd7","updated":"20240201213964"},"Children":[{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"strong","TextMarkTextContent":"在 RBAC 中，权限与角色相关联，用户通过成为适当角色的成员而得到这些角色的权限。这就极大地简化了权限的管理。"}]},{"ID":"20240201213965-yrgupy3","Type":"NodeParagraph","Properties":{"id":"20240201213965-yrgupy3","updated":"20240201213965"},"Children":[{"Type":"NodeText","Data":"本系统的权限设计相关的表如下（一共 5 张表，2 张用户建立表之间的联系）："}]},{"ID":"20240201213966-3r3u3q1","Type":"NodeParagraph","Properties":{"id":"20240201213966-3r3u3q1","updated":"20240201213966"},"Children":[{"Type":"NodeImage","Properties":{"id":""},"Children":[{"Type":"NodeBang","Data":"!","Properties":{"id":""}},{"Type":"NodeOpenBracket","Data":"[","Properties":{"id":""}},{"Type":"NodeCloseBracket","Data":"]","Properties":{"id":""}},{"Type":"NodeOpenParen","Data":"(","Properties":{"id":""}},{"Type":"NodeLinkDest","Data":"https://guide-blog-images.oss-cn-shenzhen.aliyuncs.com/2020-11/%E6%95%B0%E6%8D%AE%E5%BA%93%E8%AE%BE%E8%AE%A1-%E6%9D%83%E9%99%90.png","Properties":{"id":""}},{"Type":"NodeCloseParen","Data":")","Properties":{"id":""}}]}]},{"ID":"20240201213967-8mwgroy","Type":"NodeParagraph","Properties":{"id":"20240201213967-8mwgroy","updated":"20240201213967"},"Children":[{"Type":"NodeText","Data":"通过这个权限模型，我们可以创建不同的角色并为不同的角色分配不同的权限范围（菜单）。"}]},{"ID":"20240201213968-6ou2gsg","Type":"NodeParagraph","Properties":{"id":"20240201213968-6ou2gsg","updated":"20240201213968"},"Children":[{"Type":"NodeImage","Properties":{"id":""},"Children":[{"Type":"NodeBang","Data":"!","Properties":{"id":""}},{"Type":"NodeOpenBracket","Data":"[","Properties":{"id":""}},{"Type":"NodeCloseBracket","Data":"]","Properties":{"id":""}},{"Type":"NodeOpenParen","Data":"(","Properties":{"id":""}},{"Type":"NodeLinkDest","Data":"https://guide-blog-images.oss-cn-shenzhen.aliyuncs.com/github/javaguide/books%E6%9D%83%E9%99%90%E7%AE%A1%E7%90%86%E6%A8%A1%E5%9D%97.png","Properties":{"id":""}},{"Type":"NodeCloseParen","Data":")","Properties":{"id":""}}]}]},{"ID":"20240201213969-e0jbc5v","Type":"NodeParagraph","Properties":{"id":"20240201213969-e0jbc5v","updated":"20240201213969"},"Children":[{"Type":"NodeText","Data":"通常来说，如果系统对于权限控制要求比较严格的话，一般都会选择使用 RBAC 模型来做权限控制。"}]},{"ID":"20240201213970-b7y4kq8","Type":"NodeHeading","HeadingLevel":3,"Properties":{"id":"20240201213970-b7y4kq8","updated":"20240201213970"},"Children":[{"Type":"NodeHeadingC8hMarker","Data":"### ","Properties":{"id":""}},{"Type":"NodeText","Data":"什么是 Cookie ? Cookie 的作用是什么?"}]},{"ID":"20240201213971-jcbu93r","Type":"NodeParagraph","Properties":{"id":"20240201213971-jcbu93r","updated":"20240201213971"},"Children":[{"Type":"NodeImage","Properties":{"id":""},"Children":[{"Type":"NodeBang","Data":"!","Properties":{"id":""}},{"Type":"NodeOpenBracket","Data":"[","Properties":{"id":""}},{"Type":"NodeCloseBracket","Data":"]","Properties":{"id":""}},{"Type":"NodeOpenParen","Data":"(","Properties":{"id":""}},{"Type":"NodeLinkDest","Data":"https://guide-blog-images.oss-cn-shenzhen.aliyuncs.com/github/javaguide/system-design/security/cookie-sessionId.png","Properties":{"id":""}},{"Type":"NodeCloseParen","Data":")","Properties":{"id":""}}]}]},{"ID":"20240201213972-z2a3hyh","Type":"NodeParagraph","Properties":{"id":"20240201213972-z2a3hyh","updated":"20240201213972"},"Children":[{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"Cookie"},{"Type":"NodeText","Data":" 和 "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"Session"},{"Type":"NodeText","Data":" 都是用来跟踪浏览器用户身份的会话方式，但是两者的应用场景不太一样。"}]},{"ID":"20240201213973-sqr3gkp","Type":"NodeParagraph","Properties":{"id":"20240201213973-sqr3gkp","updated":"20240201213973"},"Children":[{"Type":"NodeText","Data":"维基百科是这样定义 "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"Cookie"},{"Type":"NodeText","Data":" 的："}]},{"ID":"20240201213974-y4b19fe","Type":"NodeBlockquote","Properties":{"id":"20240201213974-y4b19fe","updated":"20240201213974"},"Children":[{"Type":"NodeBlockquoteMarker","Data":"\u003e ","Properties":{"id":""}},{"ID":"20240201213975-l68j9fs","Type":"NodeParagraph","Properties":{"id":"20240201213975-l68j9fs","updated":"20240201213975"},"Children":[{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"Cookies"},{"Type":"NodeText","Data":" 是某些网站为了辨别用户身份而储存在用户本地终端上的数据（通常经过加密）。"}]}]},{"ID":"20240201213976-ryhmrbi","Type":"NodeParagraph","Properties":{"id":"20240201213976-ryhmrbi","updated":"20240201213976"},"Children":[{"Type":"NodeText","Data":"简单来说： "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"strong code","TextMarkTextContent":"Cookie"},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"strong","TextMarkTextContent":" 存放在客户端，一般用来保存用户信息"},{"Type":"NodeText","Data":"。"}]},{"ID":"20240201213977-g2x8e6u","Type":"NodeParagraph","Properties":{"id":"20240201213977-g2x8e6u","updated":"20240201213977"},"Children":[{"Type":"NodeText","Data":"下面是 "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"Cookie"},{"Type":"NodeText","Data":" 的一些应用案例："}]},{"ID":"20240201213978-x31j3r0","Type":"NodeList","ListData":{"Typ":1,"Tight":true,"Start":1,"Delimiter":46,"Padding":3,"Marker":"MQ==","Num":1},"Properties":{"id":"20240201213978-x31j3r0","updated":"20240201213978"},"Children":[{"ID":"20240201213979-d17atkc","Type":"NodeListItem","Data":"1","ListData":{"Typ":1,"Tight":true,"Start":1,"Delimiter":46,"Padding":3,"Marker":"MQ==","Num":1},"Properties":{"id":"20240201213979-d17atkc","updated":"20240201213979"},"Children":[{"ID":"20240201213980-unrloh5","Type":"NodeParagraph","Properties":{"id":"20240201213980-unrloh5","updated":"20240201213980"},"Children":[{"Type":"NodeText","Data":"我们在 "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"Cookie"},{"Type":"NodeText","Data":" 中保存已经登录过的用户信息，下次访问网站的时候页面可以自动帮你登录的一些基本信息给填了。除此之外，"},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"Cookie"},{"Type":"NodeText","Data":" 还能保存用户首选项，主题和其他设置信息。"}]}]},{"ID":"20240201213981-zfs1h5h","Type":"NodeListItem","Data":"2","ListData":{"Typ":1,"Tight":true,"Start":2,"Delimiter":46,"Padding":3,"Marker":"Mg==","Num":2},"Properties":{"id":"20240201213981-zfs1h5h","updated":"20240201213981"},"Children":[{"ID":"20240201213982-n895gki","Type":"NodeParagraph","Properties":{"id":"20240201213982-n895gki","updated":"20240201213982"},"Children":[{"Type":"NodeText","Data":"使用 "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"Cookie"},{"Type":"NodeText","Data":" 保存 "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"SessionId"},{"Type":"NodeText","Data":" 或者 "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"Token"},{"Type":"NodeText","Data":" ，向后端发送请求的时候带上 "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"Cookie"},{"Type":"NodeText","Data":"，这样后端就能取到 "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"Session"},{"Type":"NodeText","Data":" 或者 "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"Token"},{"Type":"NodeText","Data":" 了。这样就能记录用户当前的状态了，因为 HTTP 协议是无状态的。"}]}]},{"ID":"20240201213983-o22g5qs","Type":"NodeListItem","Data":"3","ListData":{"Typ":1,"Tight":true,"Start":3,"Delimiter":46,"Padding":3,"Marker":"Mw==","Num":3},"Properties":{"id":"20240201213983-o22g5qs","updated":"20240201213983"},"Children":[{"ID":"20240201213984-mjj62ps","Type":"NodeParagraph","Properties":{"id":"20240201213984-mjj62ps","updated":"20240201213984"},"Children":[{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"Cookie"},{"Type":"NodeText","Data":" 还可以用来记录和分析用户行为。举个简单的例子你在网上购物的时候，因为 HTTP 协议是没有状态的，如果服务器想要获取你在某个页面的停留状态或者看了哪些商品，一种常用的实现方式就是将这些信息存放在 "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"Cookie"}]}]},{"ID":"20240201213985-ga3g7i8","Type":"NodeListItem","Data":"4","ListData":{"Typ":1,"Tight":true,"Start":4,"Delimiter":46,"Padding":3,"Marker":"NA==","Num":4},"Properties":{"id":"20240201213985-ga3g7i8","updated":"20240201213985"},"Children":[{"ID":"20240201213986-0l1x51q","Type":"NodeParagraph","Properties":{"id":"20240201213986-0l1x51q","updated":"20240201213986"},"Children":[{"Type":"NodeText","Data":"......"}]}]}]},{"ID":"20240201213987-n7qqw63","Type":"NodeHeading","HeadingLevel":3,"Properties":{"id":"20240201213987-n7qqw63","updated":"20240201213987"},"Children":[{"Type":"NodeHeadingC8hMarker","Data":"### ","Properties":{"id":""}},{"Type":"NodeText","Data":"如何在项目中使用 Cookie 呢？"}]},{"ID":"20240201213988-h4c1qbi","Type":"NodeParagraph","Properties":{"id":"20240201213988-h4c1qbi","updated":"20240201213988"},"Children":[{"Type":"NodeText","Data":"我这里以 Spring Boot 项目为例。"}]},{"ID":"20240201213989-yxavlah","Type":"NodeParagraph","Properties":{"id":"20240201213989-yxavlah","updated":"20240201213989"},"Children":[{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"strong","TextMarkTextContent":"1)设置 "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"strong code","TextMarkTextContent":"Cookie"},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"strong","TextMarkTextContent":" 返回给客户端"}]},{"ID":"20240201213990-19mi8gl","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"CodeBlockFenceChar":96,"CodeBlockFenceLen":3,"CodeBlockOpenFence":"YGBg","CodeBlockInfo":"amF2YQ==","CodeBlockCloseFence":"YGBg","Properties":{"id":"20240201213990-19mi8gl","updated":"20240201213990"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"amF2YQ==","Properties":{"id":""}},{"Type":"NodeCodeBlockCode","Data":"@GetMapping(\"/change-username\")\npublic String setCookie(HttpServletResponse response) {\n    // 创建一个 cookie\n    Cookie cookie = new Cookie(\"username\", \"Jovan\");\n    //设置 cookie过期时间\n    cookie.setMaxAge(7 * 24 * 60 * 60); // expires in 7 days\n    //添加到 response 中\n    response.addCookie(cookie);\n\n    return \"Username is changed!\";\n}\n","Properties":{"id":""}},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}}]},{"ID":"20240201213991-9mwra1j","Type":"NodeParagraph","Properties":{"id":"20240201213991-9mwra1j","updated":"20240201213991"},"Children":[{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"strong","TextMarkTextContent":"2) 使用 Spring 框架提供的 "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"strong code","TextMarkTextContent":"@CookieValue"},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"strong","TextMarkTextContent":" 注解获取特定的 cookie 的值"}]},{"ID":"20240201213992-65adh6g","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"CodeBlockFenceChar":96,"CodeBlockFenceLen":3,"CodeBlockOpenFence":"YGBg","CodeBlockInfo":"amF2YQ==","CodeBlockCloseFence":"YGBg","Properties":{"id":"20240201213992-65adh6g","updated":"20240201213992"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"amF2YQ==","Properties":{"id":""}},{"Type":"NodeCodeBlockCode","Data":"@GetMapping(\"/\")\npublic String readCookie(@CookieValue(value = \"username\", defaultValue = \"Atta\") String username) {\n    return \"Hey! My username is \" + username;\n}\n","Properties":{"id":""}},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}}]},{"ID":"20240201213993-gym2crb","Type":"NodeParagraph","Properties":{"id":"20240201213993-gym2crb","updated":"20240201213993"},"Children":[{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"strong","TextMarkTextContent":"3) 读取所有的 "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"strong code","TextMarkTextContent":"Cookie"},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"strong","TextMarkTextContent":" 值"}]},{"ID":"20240201213994-76l6aih","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"CodeBlockFenceChar":96,"CodeBlockFenceLen":3,"CodeBlockOpenFence":"YGBg","CodeBlockInfo":"amF2YQ==","CodeBlockCloseFence":"YGBg","Properties":{"id":"20240201213994-76l6aih","updated":"20240201213994"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"amF2YQ==","Properties":{"id":""}},{"Type":"NodeCodeBlockCode","Data":"@GetMapping(\"/all-cookies\")\npublic String readAllCookies(HttpServletRequest request) {\n\n    Cookie[] cookies = request.getCookies();\n    if (cookies != null) {\n        return Arrays.stream(cookies)\n                .map(c -\u003e c.getName() + \"=\" + c.getValue()).collect(Collectors.joining(\", \"));\n    }\n\n    return \"No cookies\";\n}\n","Properties":{"id":""}},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}}]},{"ID":"20240201213995-kntwt6p","Type":"NodeParagraph","Properties":{"id":"20240201213995-kntwt6p","updated":"20240201213995"},"Children":[{"Type":"NodeText","Data":"更多关于如何在 Spring Boot 中使用 "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"Cookie"},{"Type":"NodeText","Data":" 的内容可以查看这篇文章："},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"a","TextMarkAHref":"https://attacomsian.com/blog/cookies-spring-boot","TextMarkTextContent":"How to use cookies in Spring Boot"},{"Type":"NodeText","Data":" 。"}]},{"ID":"20240201213996-sld1a13","Type":"NodeHeading","HeadingLevel":3,"Properties":{"id":"20240201213996-sld1a13","updated":"20240201213996"},"Children":[{"Type":"NodeHeadingC8hMarker","Data":"### ","Properties":{"id":""}},{"Type":"NodeText","Data":"Cookie 和 Session 有什么区别？"}]},{"ID":"20240201213997-j1551j2","Type":"NodeParagraph","Properties":{"id":"20240201213997-j1551j2","updated":"20240201213997"},"Children":[{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"strong code","TextMarkTextContent":"Session"},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"strong","TextMarkTextContent":" 的主要作用就是通过服务端记录用户的状态。"},{"Type":"NodeText","Data":" 典型的场景是购物车，当你要添加商品到购物车的时候，系统不知道是哪个用户操作的，因为 HTTP 协议是无状态的。服务端给特定的用户创建特定的 "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"Session"},{"Type":"NodeText","Data":" 之后就可以标识这个用户并且跟踪这个用户了。"}]},{"ID":"20240201213998-1u4r05o","Type":"NodeParagraph","Properties":{"id":"20240201213998-1u4r05o","updated":"20240201213998"},"Children":[{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"Cookie"},{"Type":"NodeText","Data":" 数据保存在客户端(浏览器端)，"},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"Session"},{"Type":"NodeText","Data":" 数据保存在服务器端。相对来说 "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"Session"},{"Type":"NodeText","Data":" 安全性更高。如果使用 "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"Cookie"},{"Type":"NodeText","Data":" 的一些敏感信息不要写入 "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"Cookie"},{"Type":"NodeText","Data":" 中，最好能将 "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"Cookie"},{"Type":"NodeText","Data":" 信息加密然后使用到的时候再去服务器端解密。"}]},{"ID":"20240201213999-bgexf7h","Type":"NodeParagraph","Properties":{"id":"20240201213999-bgexf7h","updated":"20240201213999"},"Children":[{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"strong","TextMarkTextContent":"那么，如何使用 "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"strong code","TextMarkTextContent":"Session"},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"strong","TextMarkTextContent":" 进行身份验证？"}]},{"ID":"20240201214000-yppeb83","Type":"NodeHeading","HeadingLevel":3,"Properties":{"id":"20240201214000-yppeb83","updated":"20240201214000"},"Children":[{"Type":"NodeHeadingC8hMarker","Data":"### ","Properties":{"id":""}},{"Type":"NodeText","Data":"如何使用 Session-Cookie 方案进行身份验证？"}]},{"ID":"20240201214001-relr9nx","Type":"NodeParagraph","Properties":{"id":"20240201214001-relr9nx","updated":"20240201214001"},"Children":[{"Type":"NodeText","Data":"很多时候我们都是通过 "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"SessionID"},{"Type":"NodeText","Data":" 来实现特定的用户，"},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"SessionID"},{"Type":"NodeText","Data":" 一般会选择存放在 Redis 中。举个例子："}]},{"ID":"20240201214002-bex02bx","Type":"NodeList","ListData":{"Typ":1,"Tight":true,"Start":1,"Delimiter":46,"Padding":3,"Marker":"MQ==","Num":1},"Properties":{"id":"20240201214002-bex02bx","updated":"20240201214002"},"Children":[{"ID":"20240201214003-if3o2v9","Type":"NodeListItem","Data":"1","ListData":{"Typ":1,"Tight":true,"Start":1,"Delimiter":46,"Padding":3,"Marker":"MQ==","Num":1},"Properties":{"id":"20240201214003-if3o2v9","updated":"20240201214003"},"Children":[{"ID":"20240201214004-8ztjlzo","Type":"NodeParagraph","Properties":{"id":"20240201214004-8ztjlzo","updated":"20240201214004"},"Children":[{"Type":"NodeText","Data":"用户成功登陆系统，然后返回给客户端具有 "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"SessionID"},{"Type":"NodeText","Data":" 的 "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"Cookie"},{"Type":"NodeText","Data":" 。"}]}]},{"ID":"20240201214005-u944xnb","Type":"NodeListItem","Data":"2","ListData":{"Typ":1,"Tight":true,"Start":2,"Delimiter":46,"Padding":3,"Marker":"Mg==","Num":2},"Properties":{"id":"20240201214005-u944xnb","updated":"20240201214005"},"Children":[{"ID":"20240201214006-zqwqqfg","Type":"NodeParagraph","Properties":{"id":"20240201214006-zqwqqfg","updated":"20240201214006"},"Children":[{"Type":"NodeText","Data":"当用户向后端发起请求的时候会把 "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"SessionID"},{"Type":"NodeText","Data":" 带上，这样后端就知道你的身份状态了。"}]}]}]},{"ID":"20240201214007-xuwcn45","Type":"NodeParagraph","Properties":{"id":"20240201214007-xuwcn45","updated":"20240201214007"},"Children":[{"Type":"NodeText","Data":"关于这种认证方式更详细的过程如下："}]},{"ID":"20240201214008-f9webi5","Type":"NodeParagraph","Properties":{"id":"20240201214008-f9webi5","updated":"20240201214008"},"Children":[{"Type":"NodeImage","Properties":{"id":""},"Children":[{"Type":"NodeBang","Data":"!","Properties":{"id":""}},{"Type":"NodeOpenBracket","Data":"[","Properties":{"id":""}},{"Type":"NodeCloseBracket","Data":"]","Properties":{"id":""}},{"Type":"NodeOpenParen","Data":"(","Properties":{"id":""}},{"Type":"NodeLinkDest","Data":"https://guide-blog-images.oss-cn-shenzhen.aliyuncs.com/github/javaguide/system-design/security/session-cookie-authentication-process.png","Properties":{"id":""}},{"Type":"NodeCloseParen","Data":")","Properties":{"id":""}}]}]},{"ID":"20240201214009-n43a49b","Type":"NodeList","ListData":{"Typ":1,"Tight":true,"Start":1,"Delimiter":46,"Padding":3,"Marker":"MQ==","Num":1},"Properties":{"id":"20240201214009-n43a49b","updated":"20240201214009"},"Children":[{"ID":"20240201214010-2lyexo2","Type":"NodeListItem","Data":"1","ListData":{"Typ":1,"Tight":true,"Start":1,"Delimiter":46,"Padding":3,"Marker":"MQ==","Num":1},"Properties":{"id":"20240201214010-2lyexo2","updated":"20240201214010"},"Children":[{"ID":"20240201214011-zj7r7e2","Type":"NodeParagraph","Properties":{"id":"20240201214011-zj7r7e2","updated":"20240201214011"},"Children":[{"Type":"NodeText","Data":"用户向服务器发送用户名、密码、验证码用于登陆系统。"}]}]},{"ID":"20240201214012-fzmur7w","Type":"NodeListItem","Data":"2","ListData":{"Typ":1,"Tight":true,"Start":2,"Delimiter":46,"Padding":3,"Marker":"Mg==","Num":2},"Properties":{"id":"20240201214012-fzmur7w","updated":"20240201214012"},"Children":[{"ID":"20240201214013-n5hxeaw","Type":"NodeParagraph","Properties":{"id":"20240201214013-n5hxeaw","updated":"20240201214013"},"Children":[{"Type":"NodeText","Data":"服务器验证通过后，服务器为用户创建一个 "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"Session"},{"Type":"NodeText","Data":"，并将 "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"Session"},{"Type":"NodeText","Data":" 信息存储起来。"}]}]},{"ID":"20240201214014-wqeyg54","Type":"NodeListItem","Data":"3","ListData":{"Typ":1,"Tight":true,"Start":3,"Delimiter":46,"Padding":3,"Marker":"Mw==","Num":3},"Properties":{"id":"20240201214014-wqeyg54","updated":"20240201214014"},"Children":[{"ID":"20240201214015-9l30e62","Type":"NodeParagraph","Properties":{"id":"20240201214015-9l30e62","updated":"20240201214015"},"Children":[{"Type":"NodeText","Data":"服务器向用户返回一个 "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"SessionID"},{"Type":"NodeText","Data":"，写入用户的 "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"Cookie"},{"Type":"NodeText","Data":"。"}]}]},{"ID":"20240201214016-mxe4nki","Type":"NodeListItem","Data":"4","ListData":{"Typ":1,"Tight":true,"Start":4,"Delimiter":46,"Padding":3,"Marker":"NA==","Num":4},"Properties":{"id":"20240201214016-mxe4nki","updated":"20240201214016"},"Children":[{"ID":"20240201214017-tgrdukt","Type":"NodeParagraph","Properties":{"id":"20240201214017-tgrdukt","updated":"20240201214017"},"Children":[{"Type":"NodeText","Data":"当用户保持登录状态时，"},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"Cookie"},{"Type":"NodeText","Data":" 将与每个后续请求一起被发送出去。"}]}]},{"ID":"20240201214018-y5t9j3e","Type":"NodeListItem","Data":"5","ListData":{"Typ":1,"Tight":true,"Start":5,"Delimiter":46,"Padding":3,"Marker":"NQ==","Num":5},"Properties":{"id":"20240201214018-y5t9j3e","updated":"20240201214018"},"Children":[{"ID":"20240201214019-tj5mkol","Type":"NodeParagraph","Properties":{"id":"20240201214019-tj5mkol","updated":"20240201214019"},"Children":[{"Type":"NodeText","Data":"服务器可以将存储在 "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"Cookie"},{"Type":"NodeText","Data":" 上的 "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"SessionID"},{"Type":"NodeText","Data":" 与存储在内存中或者数据库中的 "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"Session"},{"Type":"NodeText","Data":" 信息进行比较，以验证用户的身份，返回给用户客户端响应信息的时候会附带用户当前的状态。"}]}]}]},{"ID":"20240201214020-3cmh03v","Type":"NodeParagraph","Properties":{"id":"20240201214020-3cmh03v","updated":"20240201214020"},"Children":[{"Type":"NodeText","Data":"使用 "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"Session"},{"Type":"NodeText","Data":" 的时候需要注意下面几个点："}]},{"ID":"20240201214021-9juawf9","Type":"NodeList","ListData":{"Tight":true,"BulletChar":45,"Padding":2,"Marker":"LQ==","Num":-1},"Properties":{"id":"20240201214021-9juawf9","updated":"20240201214021"},"Children":[{"ID":"20240201214022-yfhek4y","Type":"NodeListItem","Data":"-","ListData":{"Tight":true,"BulletChar":45,"Padding":2,"Marker":"LQ==","Num":-1},"Properties":{"id":"20240201214022-yfhek4y","updated":"20240201214022"},"Children":[{"ID":"20240201214023-isp11i9","Type":"NodeParagraph","Properties":{"id":"20240201214023-isp11i9","updated":"20240201214023"},"Children":[{"Type":"NodeText","Data":"依赖 "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"Session"},{"Type":"NodeText","Data":" 的关键业务一定要确保客户端开启了 "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"Cookie"},{"Type":"NodeText","Data":"。"}]}]},{"ID":"20240201214024-rrv69zf","Type":"NodeListItem","Data":"-","ListData":{"Tight":true,"BulletChar":45,"Padding":2,"Marker":"LQ==","Num":-1},"Properties":{"id":"20240201214024-rrv69zf","updated":"20240201214024"},"Children":[{"ID":"20240201214025-204vpfw","Type":"NodeParagraph","Properties":{"id":"20240201214025-204vpfw","updated":"20240201214025"},"Children":[{"Type":"NodeText","Data":"注意 "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"Session"},{"Type":"NodeText","Data":" 的过期时间。"}]}]}]},{"ID":"20240201214026-3b6fj5a","Type":"NodeParagraph","Properties":{"id":"20240201214026-3b6fj5a","updated":"20240201214026"},"Children":[{"Type":"NodeText","Data":"另外，Spring Session 提供了一种跨多个应用程序或实例管理用户会话信息的机制。如果想详细了解可以查看下面几篇很不错的文章："}]},{"ID":"20240201214027-qj0hcob","Type":"NodeList","ListData":{"Tight":true,"BulletChar":45,"Padding":2,"Marker":"LQ==","Num":-1},"Properties":{"id":"20240201214027-qj0hcob","updated":"20240201214027"},"Children":[{"ID":"20240201214028-hy8zown","Type":"NodeListItem","Data":"-","ListData":{"Tight":true,"BulletChar":45,"Padding":2,"Marker":"LQ==","Num":-1},"Properties":{"id":"20240201214028-hy8zown","updated":"20240201214028"},"Children":[{"ID":"20240201214029-5ywzsk1","Type":"NodeParagraph","Properties":{"id":"20240201214029-5ywzsk1","updated":"20240201214029"},"Children":[{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"a","TextMarkAHref":"https://codeboje.de/spring-Session-tutorial/","TextMarkTextContent":"Getting Started with Spring Session"}]}]},{"ID":"20240201214030-poicqft","Type":"NodeListItem","Data":"-","ListData":{"Tight":true,"BulletChar":45,"Padding":2,"Marker":"LQ==","Num":-1},"Properties":{"id":"20240201214030-poicqft","updated":"20240201214030"},"Children":[{"ID":"20240201214031-1x1f9nw","Type":"NodeParagraph","Properties":{"id":"20240201214031-1x1f9nw","updated":"20240201214031"},"Children":[{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"a","TextMarkAHref":"https://www.baeldung.com/spring-Session","TextMarkTextContent":"Guide to Spring Session"}]}]},{"ID":"20240201214032-y7nc1mv","Type":"NodeListItem","Data":"-","ListData":{"Tight":true,"BulletChar":45,"Padding":2,"Marker":"LQ==","Num":-1},"Properties":{"id":"20240201214032-y7nc1mv","updated":"20240201214032"},"Children":[{"ID":"20240201214033-ysiol85","Type":"NodeParagraph","Properties":{"id":"20240201214033-ysiol85","updated":"20240201214033"},"Children":[{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"a","TextMarkAHref":"https://medium.com/@gvnix/sticky-Sessions-with-spring-Session-redis-bdc6f7438cc3","TextMarkTextContent":"Sticky Sessions with Spring Session \u0026amp; Redis"}]}]}]},{"ID":"20240201214034-py6zbf1","Type":"NodeHeading","HeadingLevel":3,"Properties":{"id":"20240201214034-py6zbf1","updated":"20240201214034"},"Children":[{"Type":"NodeHeadingC8hMarker","Data":"### ","Properties":{"id":""}},{"Type":"NodeText","Data":"多服务器节点下 Session-Cookie 方案如何做？"}]},{"ID":"20240201214035-e2nkhkx","Type":"NodeParagraph","Properties":{"id":"20240201214035-e2nkhkx","updated":"20240201214035"},"Children":[{"Type":"NodeText","Data":"Session-Cookie 方案在单体环境是一个非常好的身份认证方案。但是，当服务器水平拓展成多节点时，Session-Cookie 方案就要面临挑战了。"}]},{"ID":"20240201214036-g3fzels","Type":"NodeParagraph","Properties":{"id":"20240201214036-g3fzels","updated":"20240201214036"},"Children":[{"Type":"NodeText","Data":"举个例子：假如我们部署了两份相同的服务 A，B，用户第一次登陆的时候 ，Nginx 通过负载均衡机制将用户请求转发到 A 服务器，此时用户的 Session 信息保存在 A 服务器。结果，用户第二次访问的时候 Nginx 将请求路由到 B 服务器，由于 B 服务器没有保存 用户的 Session 信息，导致用户需要重新进行登陆。"}]},{"ID":"20240201214037-u20zqk2","Type":"NodeParagraph","Properties":{"id":"20240201214037-u20zqk2","updated":"20240201214037"},"Children":[{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"strong","TextMarkTextContent":"我们应该如何避免上面这种情况的出现呢？"}]},{"ID":"20240201214038-q9k59gm","Type":"NodeParagraph","Properties":{"id":"20240201214038-q9k59gm","updated":"20240201214038"},"Children":[{"Type":"NodeText","Data":"有几个方案可供大家参考："}]},{"ID":"20240201214039-9r6e99s","Type":"NodeList","ListData":{"Typ":1,"Tight":true,"Start":1,"Delimiter":46,"Padding":3,"Marker":"MQ==","Num":1},"Properties":{"id":"20240201214039-9r6e99s","updated":"20240201214039"},"Children":[{"ID":"20240201214040-f04cvru","Type":"NodeListItem","Data":"1","ListData":{"Typ":1,"Tight":true,"Start":1,"Delimiter":46,"Padding":3,"Marker":"MQ==","Num":1},"Properties":{"id":"20240201214040-f04cvru","updated":"20240201214040"},"Children":[{"ID":"20240201214041-dtcop80","Type":"NodeParagraph","Properties":{"id":"20240201214041-dtcop80","updated":"20240201214041"},"Children":[{"Type":"NodeText","Data":"某个用户的所有请求都通过特性的哈希策略分配给同一个服务器处理。这样的话，每个服务器都保存了一部分用户的 Session 信息。服务器宕机，其保存的所有 Session 信息就完全丢失了。"}]}]},{"ID":"20240201214042-u8iuzvj","Type":"NodeListItem","Data":"2","ListData":{"Typ":1,"Tight":true,"Start":2,"Delimiter":46,"Padding":3,"Marker":"Mg==","Num":2},"Properties":{"id":"20240201214042-u8iuzvj","updated":"20240201214042"},"Children":[{"ID":"20240201214043-vdzsb0f","Type":"NodeParagraph","Properties":{"id":"20240201214043-vdzsb0f","updated":"20240201214043"},"Children":[{"Type":"NodeText","Data":"每一个服务器保存的 Session 信息都是互相同步的，也就是说每一个服务器都保存了全量的 Session 信息。每当一个服务器的 Session 信息发生变化，我们就将其同步到其他服务器。这种方案成本太大，并且，节点越多时，同步成本也越高。"}]}]},{"ID":"20240201214044-d3nuqbw","Type":"NodeListItem","Data":"3","ListData":{"Typ":1,"Tight":true,"Start":3,"Delimiter":46,"Padding":3,"Marker":"Mw==","Num":3},"Properties":{"id":"20240201214044-d3nuqbw","updated":"20240201214044"},"Children":[{"ID":"20240201214045-83yuc07","Type":"NodeParagraph","Properties":{"id":"20240201214045-83yuc07","updated":"20240201214045"},"Children":[{"Type":"NodeText","Data":"单独使用一个所有服务器都能访问到的数据节点（比如缓存）来存放 Session 信息。为了保证高可用，数据节点尽量要避免是单点。"}]}]}]},{"ID":"20240201214046-xijognd","Type":"NodeHeading","HeadingLevel":3,"Properties":{"id":"20240201214046-xijognd","updated":"20240201214046"},"Children":[{"Type":"NodeHeadingC8hMarker","Data":"### ","Properties":{"id":""}},{"Type":"NodeText","Data":"如果没有 Cookie 的话 Session 还能用吗？"}]},{"ID":"20240201214047-yy2thup","Type":"NodeParagraph","Properties":{"id":"20240201214047-yy2thup","updated":"20240201214047"},"Children":[{"Type":"NodeText","Data":"这是一道经典的面试题！"}]},{"ID":"20240201214048-hm8otp5","Type":"NodeParagraph","Properties":{"id":"20240201214048-hm8otp5","updated":"20240201214048"},"Children":[{"Type":"NodeText","Data":"一般是通过 "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"Cookie"},{"Type":"NodeText","Data":" 来保存 "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"SessionID"},{"Type":"NodeText","Data":" ，假如你使用了 "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"Cookie"},{"Type":"NodeText","Data":" 保存 "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"SessionID"},{"Type":"NodeText","Data":" 的方案的话， 如果客户端禁用了 "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"Cookie"},{"Type":"NodeText","Data":"，那么 "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"Session"},{"Type":"NodeText","Data":" 就无法正常工作。"}]},{"ID":"20240201214049-v59g8uj","Type":"NodeParagraph","Properties":{"id":"20240201214049-v59g8uj","updated":"20240201214049"},"Children":[{"Type":"NodeText","Data":"但是，并不是没有 "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"Cookie"},{"Type":"NodeText","Data":" 之后就不能用 "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"Session"},{"Type":"NodeText","Data":" 了，比如你可以将 "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"SessionID"},{"Type":"NodeText","Data":" 放在请求的 "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"url"},{"Type":"NodeText","Data":" 里面"},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"https://javaguide.cn/?Session_id=xxx"},{"Type":"NodeText","Data":" 。这种方案的话可行，但是安全性和用户体验感降低。当然，为了你也可以对 "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"SessionID"},{"Type":"NodeText","Data":" 进行一次加密之后再传入后端。"}]},{"ID":"20240201214050-97vnf9r","Type":"NodeHeading","HeadingLevel":3,"Properties":{"id":"20240201214050-97vnf9r","updated":"20240201214050"},"Children":[{"Type":"NodeHeadingC8hMarker","Data":"### ","Properties":{"id":""}},{"Type":"NodeText","Data":"为什么 Cookie 无法防止 CSRF 攻击，而 Token 可以？"}]},{"ID":"20240201214051-vn5x5ce","Type":"NodeParagraph","Properties":{"id":"20240201214051-vn5x5ce","updated":"20240201214051"},"Children":[{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"strong","TextMarkTextContent":"CSRF(Cross Site Request Forgery)"},{"Type":"NodeText","Data":" 一般被翻译为 "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"strong","TextMarkTextContent":"跨站请求伪造"},{"Type":"NodeText","Data":" 。那么什么是 "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"strong","TextMarkTextContent":"跨站请求伪造"},{"Type":"NodeText","Data":" 呢？说简单用你的身份去发送一些对你不友好的请求。举个简单的例子："}]},{"ID":"20240201214052-t5w2okd","Type":"NodeParagraph","Properties":{"id":"20240201214052-t5w2okd","updated":"20240201214052"},"Children":[{"Type":"NodeText","Data":"小壮登录了某网上银行，他来到了网上银行的帖子区，看到一个帖子下面有一个链接写着“科学理财，年盈利率过万”，小壮好奇的点开了这个链接，结果发现自己的账户少了 10000 元。这是这么回事呢？原来黑客在链接中藏了一个请求，这个请求直接利用小壮的身份给银行发送了一个转账请求,也就是通过你的 Cookie 向银行发出请求。"}]},{"ID":"20240201214053-6ane73x","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"CodeBlockFenceChar":96,"CodeBlockFenceLen":3,"CodeBlockOpenFence":"YGBg","CodeBlockInfo":"aHRtbA==","CodeBlockCloseFence":"YGBg","Properties":{"id":"20240201214053-6ane73x","updated":"20240201214053"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"aHRtbA==","Properties":{"id":""}},{"Type":"NodeCodeBlockCode","Data":"\u003ca src=http://www.mybank.com/Transfer?bankId=11\u0026money=10000\u003e科学理财，年盈利率过万\u003c/\u003e\n","Properties":{"id":""}},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}}]},{"ID":"20240201214054-cs0u2jw","Type":"NodeParagraph","Properties":{"id":"20240201214054-cs0u2jw","updated":"20240201214054"},"Children":[{"Type":"NodeText","Data":"上面也提到过，进行 "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"Session"},{"Type":"NodeText","Data":" 认证的时候，我们一般使用 "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"Cookie"},{"Type":"NodeText","Data":" 来存储 "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"SessionId"},{"Type":"NodeText","Data":",当我们登陆后后端生成一个 "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"SessionId"},{"Type":"NodeText","Data":" 放在 Cookie 中返回给客户端，服务端通过 Redis 或者其他存储工具记录保存着这个 "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"SessionId"},{"Type":"NodeText","Data":"，客户端登录以后每次请求都会带上这个 "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"SessionId"},{"Type":"NodeText","Data":"，服务端通过这个 "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"SessionId"},{"Type":"NodeText","Data":" 来标示你这个人。如果别人通过 "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"Cookie"},{"Type":"NodeText","Data":" 拿到了 "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"SessionId"},{"Type":"NodeText","Data":" 后就可以代替你的身份访问系统了。"}]},{"ID":"20240201214055-6pknu4p","Type":"NodeParagraph","Properties":{"id":"20240201214055-6pknu4p","updated":"20240201214055"},"Children":[{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"Session"},{"Type":"NodeText","Data":" 认证中 "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"Cookie"},{"Type":"NodeText","Data":" 中的 "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"SessionId"},{"Type":"NodeText","Data":" 是由浏览器发送到服务端的，借助这个特性，攻击者就可以通过让用户误点攻击链接，达到攻击效果。"}]},{"ID":"20240201214056-3y98wmq","Type":"NodeParagraph","Properties":{"id":"20240201214056-3y98wmq","updated":"20240201214056"},"Children":[{"Type":"NodeText","Data":"但是，我们使用 "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"Token"},{"Type":"NodeText","Data":" 的话就不会存在这个问题，在我们登录成功获得 "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"Token"},{"Type":"NodeText","Data":" 之后，一般会选择存放在 "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"localStorage"},{"Type":"NodeText","Data":" （浏览器本地存储）中。然后我们在前端通过某些方式会给每个发到后端的请求加上这个 "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"Token"},{"Type":"NodeText","Data":",这样就不会出现 CSRF 漏洞的问题。因为，即使有个你点击了非法链接发送了请求到服务端，这个非法请求是不会携带 "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"Token"},{"Type":"NodeText","Data":" 的，所以这个请求将是非法的。"}]},{"ID":"20240201214057-2gkqxcw","Type":"NodeParagraph","Properties":{"id":"20240201214057-2gkqxcw","updated":"20240201214057"},"Children":[{"Type":"NodeImage","Properties":{"id":""},"Children":[{"Type":"NodeBang","Data":"!","Properties":{"id":""}},{"Type":"NodeOpenBracket","Data":"[","Properties":{"id":""}},{"Type":"NodeCloseBracket","Data":"]","Properties":{"id":""}},{"Type":"NodeOpenParen","Data":"(","Properties":{"id":""}},{"Type":"NodeLinkDest","Data":"https://img-blog.csdnimg.cn/20210615161108272.png","Properties":{"id":""}},{"Type":"NodeCloseParen","Data":")","Properties":{"id":""}}]}]},{"ID":"20240201214058-ukkw2ue","Type":"NodeParagraph","Properties":{"id":"20240201214058-ukkw2ue","updated":"20240201214058"},"Children":[{"Type":"NodeText","Data":"需要注意的是：不论是 "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"Cookie"},{"Type":"NodeText","Data":" 还是 "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"Token"},{"Type":"NodeText","Data":" 都无法避免 "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"strong","TextMarkTextContent":"跨站脚本攻击（Cross Site Scripting）XSS"},{"Type":"NodeText","Data":" 。"}]},{"ID":"20240201214059-jma5nlc","Type":"NodeBlockquote","Properties":{"id":"20240201214059-jma5nlc","updated":"20240201214059"},"Children":[{"Type":"NodeBlockquoteMarker","Data":"\u003e ","Properties":{"id":""}},{"ID":"20240201214060-6sgkrkk","Type":"NodeParagraph","Properties":{"id":"20240201214060-6sgkrkk","updated":"20240201214060"},"Children":[{"Type":"NodeText","Data":"跨站脚本攻击（Cross Site Scripting）缩写为 CSS 但这会与层叠样式表（Cascading Style Sheets，CSS）的缩写混淆。因此，有人将跨站脚本攻击缩写为 XSS。"}]}]},{"ID":"20240201214061-f7hjogv","Type":"NodeParagraph","Properties":{"id":"20240201214061-f7hjogv","updated":"20240201214061"},"Children":[{"Type":"NodeText","Data":"XSS 中攻击者会用各种方式将恶意代码注入到其他用户的页面中。就可以通过脚本盗用信息比如 "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"Cookie"},{"Type":"NodeText","Data":" 。"}]},{"ID":"20240201214062-wi5nj0e","Type":"NodeParagraph","Properties":{"id":"20240201214062-wi5nj0e","updated":"20240201214062"},"Children":[{"Type":"NodeText","Data":"推荐阅读："},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"a","TextMarkAHref":"https://tech.meituan.com/2018/10/11/fe-security-csrf.html","TextMarkTextContent":"如何防止 CSRF 攻击？—美团技术团队"}]},{"ID":"20240201214063-e4doy57","Type":"NodeHeading","HeadingLevel":3,"Properties":{"id":"20240201214063-e4doy57","updated":"20240201214063"},"Children":[{"Type":"NodeHeadingC8hMarker","Data":"### ","Properties":{"id":""}},{"Type":"NodeText","Data":"什么是 JWT?JWT 由哪些部分组成？"}]},{"ID":"20240201214064-qe88935","Type":"NodeParagraph","Properties":{"id":"20240201214064-qe88935","updated":"20240201214064"},"Children":[{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"a","TextMarkAHref":"https://javaguide.cn/system-design/security/jwt-intro.html","TextMarkTextContent":"JWT 基础概念详解"}]},{"ID":"20240201214065-a1zda9i","Type":"NodeHeading","HeadingLevel":3,"Properties":{"id":"20240201214065-a1zda9i","updated":"20240201214065"},"Children":[{"Type":"NodeHeadingC8hMarker","Data":"### ","Properties":{"id":""}},{"Type":"NodeText","Data":"如何基于 JWT 进行身份验证？ 如何防止 JWT 被篡改？"}]},{"ID":"20240201214066-nkksv9o","Type":"NodeParagraph","Properties":{"id":"20240201214066-nkksv9o","updated":"20240201214066"},"Children":[{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"a","TextMarkAHref":"https://javaguide.cn/system-design/security/jwt-intro.html","TextMarkTextContent":"JWT 基础概念详解"}]},{"ID":"20240201214067-fqnn02s","Type":"NodeHeading","HeadingLevel":3,"Properties":{"id":"20240201214067-fqnn02s","updated":"20240201214067"},"Children":[{"Type":"NodeHeadingC8hMarker","Data":"### ","Properties":{"id":""}},{"Type":"NodeText","Data":"什么是 SSO?"}]},{"ID":"20240201214068-3p4bzef","Type":"NodeParagraph","Properties":{"id":"20240201214068-3p4bzef","updated":"20240201214068"},"Children":[{"Type":"NodeText","Data":"SSO(Single Sign On)即单点登录说的是用户登陆多个子系统的其中一个就有权访问与其相关的其他系统。举个例子我们在登陆了京东金融之后，我们同时也成功登陆京东的京东超市、京东国际、京东生鲜等子系统。"}]},{"ID":"20240201214069-p043ful","Type":"NodeParagraph","Properties":{"id":"20240201214069-p043ful","updated":"20240201214069"},"Children":[{"Type":"NodeImage","Properties":{"id":""},"Children":[{"Type":"NodeBang","Data":"!","Properties":{"id":""}},{"Type":"NodeOpenBracket","Data":"[","Properties":{"id":""}},{"Type":"NodeLinkText","Data":"SSO 示意图","Properties":{"id":""}},{"Type":"NodeCloseBracket","Data":"]","Properties":{"id":""}},{"Type":"NodeOpenParen","Data":"(","Properties":{"id":""}},{"Type":"NodeLinkDest","Data":"https://guide-blog-images.oss-cn-shenzhen.aliyuncs.com/github/javaguide/system-design/security/sso.png","Properties":{"id":""}},{"Type":"NodeCloseParen","Data":")","Properties":{"id":""}}]}]},{"ID":"20240201214070-9jwvrf5","Type":"NodeHeading","HeadingLevel":3,"Properties":{"id":"20240201214070-9jwvrf5","updated":"20240201214070"},"Children":[{"Type":"NodeHeadingC8hMarker","Data":"### ","Properties":{"id":""}},{"Type":"NodeText","Data":"SSO 有什么好处？"}]},{"ID":"20240201214071-o4gr0sc","Type":"NodeList","ListData":{"Tight":true,"BulletChar":45,"Padding":2,"Marker":"LQ==","Num":-1},"Properties":{"id":"20240201214071-o4gr0sc","updated":"20240201214071"},"Children":[{"ID":"20240201214072-szfckfw","Type":"NodeListItem","Data":"-","ListData":{"Tight":true,"BulletChar":45,"Padding":2,"Marker":"LQ==","Num":-1},"Properties":{"id":"20240201214072-szfckfw","updated":"20240201214072"},"Children":[{"ID":"20240201214073-w22679y","Type":"NodeParagraph","Properties":{"id":"20240201214073-w22679y","updated":"20240201214073"},"Children":[{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"strong","TextMarkTextContent":"用户角度"},{"Type":"NodeText","Data":" :用户能够做到一次登录多次使用，无需记录多套用户名和密码，省心。"}]}]},{"ID":"20240201214074-bjahqss","Type":"NodeListItem","Data":"-","ListData":{"Tight":true,"BulletChar":45,"Padding":2,"Marker":"LQ==","Num":-1},"Properties":{"id":"20240201214074-bjahqss","updated":"20240201214074"},"Children":[{"ID":"20240201214075-ivb139f","Type":"NodeParagraph","Properties":{"id":"20240201214075-ivb139f","updated":"20240201214075"},"Children":[{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"strong","TextMarkTextContent":"系统管理员角度"},{"Type":"NodeText","Data":" : 管理员只需维护好一个统一的账号中心就可以了，方便。"}]}]},{"ID":"20240201214076-a4b0er1","Type":"NodeListItem","Data":"-","ListData":{"Tight":true,"BulletChar":45,"Padding":2,"Marker":"LQ==","Num":-1},"Properties":{"id":"20240201214076-a4b0er1","updated":"20240201214076"},"Children":[{"ID":"20240201214077-iiibkge","Type":"NodeParagraph","Properties":{"id":"20240201214077-iiibkge","updated":"20240201214077"},"Children":[{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"strong","TextMarkTextContent":"新系统开发角度:"},{"Type":"NodeText","Data":" 新系统开发时只需直接对接统一的账号中心即可，简化开发流程，省时。"}]}]}]},{"ID":"20240201214078-w865jln","Type":"NodeHeading","HeadingLevel":3,"Properties":{"id":"20240201214078-w865jln","updated":"20240201214078"},"Children":[{"Type":"NodeHeadingC8hMarker","Data":"### ","Properties":{"id":""}},{"Type":"NodeText","Data":"如何设计实现一个 SSO 系统?"}]},{"ID":"20240201214079-f3coiez","Type":"NodeParagraph","Properties":{"id":"20240201214079-f3coiez","updated":"20240201214079"},"Children":[{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"a","TextMarkAHref":"https://javaguide.cn/system-design/security/sso-intro.html","TextMarkTextContent":"SSO 单点登录详解"}]},{"ID":"20240201214080-6lelqlc","Type":"NodeHeading","HeadingLevel":3,"Properties":{"id":"20240201214080-6lelqlc","updated":"20240201214080"},"Children":[{"Type":"NodeHeadingC8hMarker","Data":"### ","Properties":{"id":""}},{"Type":"NodeText","Data":"什么是 OAuth 2.0？"}]},{"ID":"20240201214081-5lyjn6x","Type":"NodeParagraph","Properties":{"id":"20240201214081-5lyjn6x","updated":"20240201214081"},"Children":[{"Type":"NodeText","Data":"OAuth 是一个行业的标准授权协议，主要用来授权第三方应用获取有限的权限。而 OAuth 2.0 是对 OAuth 1.0 的完全重新设计，OAuth 2.0 更快，更容易实现，OAuth 1.0 已经被废弃。详情请见："},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"a","TextMarkAHref":"https://tools.ietf.org/html/rfc6749","TextMarkTextContent":"rfc6749"},{"Type":"NodeText","Data":"。"}]},{"ID":"20240201214082-vfy5rj6","Type":"NodeParagraph","Properties":{"id":"20240201214082-vfy5rj6","updated":"20240201214082"},"Children":[{"Type":"NodeText","Data":"实际上它就是一种授权机制，它的最终目的是为第三方应用颁发一个有时效性的令牌 Token，使得第三方应用能够通过该令牌获取相关的资源。"}]},{"ID":"20240201214083-hb3mjk4","Type":"NodeParagraph","Properties":{"id":"20240201214083-hb3mjk4","updated":"20240201214083"},"Children":[{"Type":"NodeText","Data":"OAuth 2.0 比较常用的场景就是第三方登录，当你的网站接入了第三方登录的时候一般就是使用的 OAuth 2.0 协议。"}]},{"ID":"20240201214084-4z5k48r","Type":"NodeParagraph","Properties":{"id":"20240201214084-4z5k48r","updated":"20240201214084"},"Children":[{"Type":"NodeText","Data":"另外，现在 OAuth 2.0 也常见于支付场景（微信支付、支付宝支付）和开发平台（微信开放平台、阿里开放平台等等）。"}]},{"ID":"20240201214085-s09jvo0","Type":"NodeParagraph","Properties":{"id":"20240201214085-s09jvo0","updated":"20240201214085"},"Children":[{"Type":"NodeText","Data":"下图是 "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"a","TextMarkAHref":"https://api.slack.com/legacy/oauth","TextMarkTextContent":"Slack OAuth 2.0 第三方登录"},{"Type":"NodeText","Data":"的示意图："}]},{"ID":"20240201214086-i2o6oy4","Type":"NodeParagraph","Properties":{"id":"20240201214086-i2o6oy4","updated":"20240201214086"},"Children":[{"Type":"NodeImage","Properties":{"id":""},"Children":[{"Type":"NodeBang","Data":"!","Properties":{"id":""}},{"Type":"NodeOpenBracket","Data":"[","Properties":{"id":""}},{"Type":"NodeCloseBracket","Data":"]","Properties":{"id":""}},{"Type":"NodeOpenParen","Data":"(","Properties":{"id":""}},{"Type":"NodeLinkDest","Data":"https://img-blog.csdnimg.cn/20210615151716340.png","Properties":{"id":""}},{"Type":"NodeCloseParen","Data":")","Properties":{"id":""}}]}]},{"ID":"20240201214087-dqqnmmq","Type":"NodeParagraph","Properties":{"id":"20240201214087-dqqnmmq","updated":"20240201214087"},"Children":[{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"strong","TextMarkTextContent":"推荐阅读："}]},{"ID":"20240201214088-n2ptcb4","Type":"NodeList","ListData":{"Tight":true,"BulletChar":45,"Padding":2,"Marker":"LQ==","Num":-1},"Properties":{"id":"20240201214088-n2ptcb4","updated":"20240201214088"},"Children":[{"ID":"20240201214089-xdn4ixw","Type":"NodeListItem","Data":"-","ListData":{"Tight":true,"BulletChar":45,"Padding":2,"Marker":"LQ==","Num":-1},"Properties":{"id":"20240201214089-xdn4ixw","updated":"20240201214089"},"Children":[{"ID":"20240201214090-o1xzka3","Type":"NodeParagraph","Properties":{"id":"20240201214090-o1xzka3","updated":"20240201214090"},"Children":[{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"a","TextMarkAHref":"http://www.ruanyifeng.com/blog/2019/04/oauth_design.html","TextMarkTextContent":"OAuth 2.0 的一个简单解释"}]}]},{"ID":"20240201214091-tu782ks","Type":"NodeListItem","Data":"-","ListData":{"Tight":true,"BulletChar":45,"Padding":2,"Marker":"LQ==","Num":-1},"Properties":{"id":"20240201214091-tu782ks","updated":"20240201214091"},"Children":[{"ID":"20240201214092-h5a7p9e","Type":"NodeParagraph","Properties":{"id":"20240201214092-h5a7p9e","updated":"20240201214092"},"Children":[{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"a","TextMarkAHref":"https://deepzz.com/post/what-is-oauth2-protocol.html","TextMarkTextContent":"10 分钟理解什么是 OAuth 2.0 协议"}]}]},{"ID":"20240201214093-y9x0o6x","Type":"NodeListItem","Data":"-","ListData":{"Tight":true,"BulletChar":45,"Padding":2,"Marker":"LQ==","Num":-1},"Properties":{"id":"20240201214093-y9x0o6x","updated":"20240201214093"},"Children":[{"ID":"20240201214094-t8eh5ap","Type":"NodeParagraph","Properties":{"id":"20240201214094-t8eh5ap","updated":"20240201214094"},"Children":[{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"a","TextMarkAHref":"http://www.ruanyifeng.com/blog/2019/04/oauth-grant-types.html","TextMarkTextContent":"OAuth 2.0 的四种方式"}]}]},{"ID":"20240201214095-52rxsf0","Type":"NodeListItem","Data":"-","ListData":{"Tight":true,"BulletChar":45,"Padding":2,"Marker":"LQ==","Num":-1},"Properties":{"id":"20240201214095-52rxsf0","updated":"20240201214095"},"Children":[{"ID":"20240201214096-whupel7","Type":"NodeParagraph","Properties":{"id":"20240201214096-whupel7","updated":"20240201214096"},"Children":[{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"a","TextMarkAHref":"http://www.ruanyifeng.com/blog/2019/04/github-oauth.html","TextMarkTextContent":"GitHub OAuth 第三方登录示例教程"}]}]}]},{"ID":"20240201214097-yo8qaj4","Type":"NodeHeading","HeadingLevel":3,"Properties":{"id":"20240201214097-yo8qaj4","updated":"20240201214097"},"Children":[{"Type":"NodeHeadingC8hMarker","Data":"### ","Properties":{"id":""}},{"Type":"NodeText","Data":"参考"}]},{"ID":"20240201214098-h48aw6h","Type":"NodeList","ListData":{"Tight":true,"BulletChar":45,"Padding":2,"Marker":"LQ==","Num":-1},"Properties":{"id":"20240201214098-h48aw6h","updated":"20240201214098"},"Children":[{"ID":"20240201214099-jddiuxf","Type":"NodeListItem","Data":"-","ListData":{"Tight":true,"BulletChar":45,"Padding":2,"Marker":"LQ==","Num":-1},"Properties":{"id":"20240201214099-jddiuxf","updated":"20240201214099"},"Children":[{"ID":"20240201214100-mv2zrib","Type":"NodeParagraph","Properties":{"id":"20240201214100-mv2zrib","updated":"20240201214100"},"Children":[{"Type":"NodeText","Data":"不要用 JWT 替代 session 管理（上）：全面了解 Token,JWT,OAuth,SAML,SSO：https://zhuanlan.zhihu.com/p/38942172"}]}]},{"ID":"20240201214101-16riu0q","Type":"NodeListItem","Data":"-","ListData":{"Tight":true,"BulletChar":45,"Padding":2,"Marker":"LQ==","Num":-1},"Properties":{"id":"20240201214101-16riu0q","updated":"20240201214101"},"Children":[{"ID":"20240201214102-nux06xv","Type":"NodeParagraph","Properties":{"id":"20240201214102-nux06xv","updated":"20240201214102"},"Children":[{"Type":"NodeText","Data":"Introduction to JSON Web Tokens：https://jwt.io/introduction"}]}]},{"ID":"20240201214103-a82zyms","Type":"NodeListItem","Data":"-","ListData":{"Tight":true,"BulletChar":45,"Padding":2,"Marker":"LQ==","Num":-1},"Properties":{"id":"20240201214103-a82zyms","updated":"20240201214103"},"Children":[{"ID":"20240201214104-740ntdd","Type":"NodeParagraph","Properties":{"id":"20240201214104-740ntdd","updated":"20240201214104"},"Children":[{"Type":"NodeText","Data":"JSON Web Token Claims：https://auth0.com/docs/secure/tokens/json-web-tokens/json-web-token-claims"}]}]}]}]}